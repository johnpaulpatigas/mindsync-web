(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var up={exports:{}},cu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hT;function ZC(){if(hT)return cu;hT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:r,key:c,ref:a!==void 0?a:null,props:l}}return cu.Fragment=e,cu.jsx=n,cu.jsxs=n,cu}var fT;function JC(){return fT||(fT=1,up.exports=ZC()),up.exports}var U=JC(),cp={exports:{}},Pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dT;function ex(){if(dT)return Pe;dT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function S(M){return M===null||typeof M!="object"?null:(M=_&&M[_]||M["@@iterator"],typeof M=="function"?M:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,k={};function O(M,te,de){this.props=M,this.context=te,this.refs=k,this.updater=de||A}O.prototype.isReactComponent={},O.prototype.setState=function(M,te){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,te,"setState")},O.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function L(){}L.prototype=O.prototype;function K(M,te,de){this.props=M,this.context=te,this.refs=k,this.updater=de||A}var H=K.prototype=new L;H.constructor=K,x(H,O.prototype),H.isPureReactComponent=!0;var ae=Array.isArray,X={H:null,A:null,T:null,S:null},ie=Object.prototype.hasOwnProperty;function N(M,te,de,he,ce,Re){return de=Re.ref,{$$typeof:t,type:M,key:te,ref:de!==void 0?de:null,props:Re}}function R(M,te){return N(M.type,te,void 0,void 0,void 0,M.props)}function w(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function D(M){var te={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(de){return te[de]})}var j=/\/+/g;function P(M,te){return typeof M=="object"&&M!==null&&M.key!=null?D(""+M.key):te.toString(36)}function I(){}function Te(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(I,I):(M.status="pending",M.then(function(te){M.status==="pending"&&(M.status="fulfilled",M.value=te)},function(te){M.status==="pending"&&(M.status="rejected",M.reason=te)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function pe(M,te,de,he,ce){var Re=typeof M;(Re==="undefined"||Re==="boolean")&&(M=null);var Ce=!1;if(M===null)Ce=!0;else switch(Re){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(M.$$typeof){case t:case e:Ce=!0;break;case y:return Ce=M._init,pe(Ce(M._payload),te,de,he,ce)}}if(Ce)return ce=ce(M),Ce=he===""?"."+P(M,0):he,ae(ce)?(de="",Ce!=null&&(de=Ce.replace(j,"$&/")+"/"),pe(ce,te,de,"",function(tt){return tt})):ce!=null&&(w(ce)&&(ce=R(ce,de+(ce.key==null||M&&M.key===ce.key?"":(""+ce.key).replace(j,"$&/")+"/")+Ce)),te.push(ce)),1;Ce=0;var Ze=he===""?".":he+":";if(ae(M))for(var Me=0;Me<M.length;Me++)he=M[Me],Re=Ze+P(he,Me),Ce+=pe(he,te,de,Re,ce);else if(Me=S(M),typeof Me=="function")for(M=Me.call(M),Me=0;!(he=M.next()).done;)he=he.value,Re=Ze+P(he,Me++),Ce+=pe(he,te,de,Re,ce);else if(Re==="object"){if(typeof M.then=="function")return pe(Te(M),te,de,he,ce);throw te=String(M),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function se(M,te,de){if(M==null)return M;var he=[],ce=0;return pe(M,he,"","",function(Re){return te.call(de,Re,ce++)}),he}function ue(M){if(M._status===-1){var te=M._result;te=te(),te.then(function(de){(M._status===0||M._status===-1)&&(M._status=1,M._result=de)},function(de){(M._status===0||M._status===-1)&&(M._status=2,M._result=de)}),M._status===-1&&(M._status=0,M._result=te)}if(M._status===1)return M._result.default;throw M._result}var le=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function ye(){}return Pe.Children={map:se,forEach:function(M,te,de){se(M,function(){te.apply(this,arguments)},de)},count:function(M){var te=0;return se(M,function(){te++}),te},toArray:function(M){return se(M,function(te){return te})||[]},only:function(M){if(!w(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Pe.Component=O,Pe.Fragment=n,Pe.Profiler=a,Pe.PureComponent=K,Pe.StrictMode=r,Pe.Suspense=m,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,Pe.act=function(){throw Error("act(...) is not supported in production builds of React.")},Pe.cache=function(M){return function(){return M.apply(null,arguments)}},Pe.cloneElement=function(M,te,de){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var he=x({},M.props),ce=M.key,Re=void 0;if(te!=null)for(Ce in te.ref!==void 0&&(Re=void 0),te.key!==void 0&&(ce=""+te.key),te)!ie.call(te,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&te.ref===void 0||(he[Ce]=te[Ce]);var Ce=arguments.length-2;if(Ce===1)he.children=de;else if(1<Ce){for(var Ze=Array(Ce),Me=0;Me<Ce;Me++)Ze[Me]=arguments[Me+2];he.children=Ze}return N(M.type,ce,void 0,void 0,Re,he)},Pe.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},Pe.createElement=function(M,te,de){var he,ce={},Re=null;if(te!=null)for(he in te.key!==void 0&&(Re=""+te.key),te)ie.call(te,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(ce[he]=te[he]);var Ce=arguments.length-2;if(Ce===1)ce.children=de;else if(1<Ce){for(var Ze=Array(Ce),Me=0;Me<Ce;Me++)Ze[Me]=arguments[Me+2];ce.children=Ze}if(M&&M.defaultProps)for(he in Ce=M.defaultProps,Ce)ce[he]===void 0&&(ce[he]=Ce[he]);return N(M,Re,void 0,void 0,null,ce)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(M){return{$$typeof:f,render:M}},Pe.isValidElement=w,Pe.lazy=function(M){return{$$typeof:y,_payload:{_status:-1,_result:M},_init:ue}},Pe.memo=function(M,te){return{$$typeof:p,type:M,compare:te===void 0?null:te}},Pe.startTransition=function(M){var te=X.T,de={};X.T=de;try{var he=M(),ce=X.S;ce!==null&&ce(de,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(ye,le)}catch(Re){le(Re)}finally{X.T=te}},Pe.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},Pe.use=function(M){return X.H.use(M)},Pe.useActionState=function(M,te,de){return X.H.useActionState(M,te,de)},Pe.useCallback=function(M,te){return X.H.useCallback(M,te)},Pe.useContext=function(M){return X.H.useContext(M)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(M,te){return X.H.useDeferredValue(M,te)},Pe.useEffect=function(M,te){return X.H.useEffect(M,te)},Pe.useId=function(){return X.H.useId()},Pe.useImperativeHandle=function(M,te,de){return X.H.useImperativeHandle(M,te,de)},Pe.useInsertionEffect=function(M,te){return X.H.useInsertionEffect(M,te)},Pe.useLayoutEffect=function(M,te){return X.H.useLayoutEffect(M,te)},Pe.useMemo=function(M,te){return X.H.useMemo(M,te)},Pe.useOptimistic=function(M,te){return X.H.useOptimistic(M,te)},Pe.useReducer=function(M,te,de){return X.H.useReducer(M,te,de)},Pe.useRef=function(M){return X.H.useRef(M)},Pe.useState=function(M){return X.H.useState(M)},Pe.useSyncExternalStore=function(M,te,de){return X.H.useSyncExternalStore(M,te,de)},Pe.useTransition=function(){return X.H.useTransition()},Pe.version="19.0.0",Pe}var mT;function Nf(){return mT||(mT=1,cp.exports=ex()),cp.exports}var B=Nf(),hp={exports:{}},hu={},fp={exports:{}},dp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pT;function tx(){return pT||(pT=1,function(t){function e(se,ue){var le=se.length;se.push(ue);e:for(;0<le;){var ye=le-1>>>1,M=se[ye];if(0<a(M,ue))se[ye]=ue,se[le]=M,le=ye;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var ue=se[0],le=se.pop();if(le!==ue){se[0]=le;e:for(var ye=0,M=se.length,te=M>>>1;ye<te;){var de=2*(ye+1)-1,he=se[de],ce=de+1,Re=se[ce];if(0>a(he,le))ce<M&&0>a(Re,he)?(se[ye]=Re,se[ce]=le,ye=ce):(se[ye]=he,se[de]=le,ye=de);else if(ce<M&&0>a(Re,le))se[ye]=Re,se[ce]=le,ye=ce;else break e}}return ue}function a(se,ue){var le=se.sortIndex-ue.sortIndex;return le!==0?le:se.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var m=[],p=[],y=1,_=null,S=3,A=!1,x=!1,k=!1,O=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function H(se){for(var ue=n(p);ue!==null;){if(ue.callback===null)r(p);else if(ue.startTime<=se)r(p),ue.sortIndex=ue.expirationTime,e(m,ue);else break;ue=n(p)}}function ae(se){if(k=!1,H(se),!x)if(n(m)!==null)x=!0,Te();else{var ue=n(p);ue!==null&&pe(ae,ue.startTime-se)}}var X=!1,ie=-1,N=5,R=-1;function w(){return!(t.unstable_now()-R<N)}function D(){if(X){var se=t.unstable_now();R=se;var ue=!0;try{e:{x=!1,k&&(k=!1,L(ie),ie=-1),A=!0;var le=S;try{t:{for(H(se),_=n(m);_!==null&&!(_.expirationTime>se&&w());){var ye=_.callback;if(typeof ye=="function"){_.callback=null,S=_.priorityLevel;var M=ye(_.expirationTime<=se);if(se=t.unstable_now(),typeof M=="function"){_.callback=M,H(se),ue=!0;break t}_===n(m)&&r(m),H(se)}else r(m);_=n(m)}if(_!==null)ue=!0;else{var te=n(p);te!==null&&pe(ae,te.startTime-se),ue=!1}}break e}finally{_=null,S=le,A=!1}ue=void 0}}finally{ue?j():X=!1}}}var j;if(typeof K=="function")j=function(){K(D)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,I=P.port2;P.port1.onmessage=D,j=function(){I.postMessage(null)}}else j=function(){O(D,0)};function Te(){X||(X=!0,j())}function pe(se,ue){ie=O(function(){se(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_continueExecution=function(){x||A||(x=!0,Te())},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_getFirstCallbackNode=function(){return n(m)},t.unstable_next=function(se){switch(S){case 1:case 2:case 3:var ue=3;break;default:ue=S}var le=S;S=ue;try{return se()}finally{S=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(se,ue){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var le=S;S=se;try{return ue()}finally{S=le}},t.unstable_scheduleCallback=function(se,ue,le){var ye=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ye+le:ye):le=ye,se){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=le+M,se={id:y++,callback:ue,priorityLevel:se,startTime:le,expirationTime:M,sortIndex:-1},le>ye?(se.sortIndex=le,e(p,se),n(m)===null&&se===n(p)&&(k?(L(ie),ie=-1):k=!0,pe(ae,le-ye))):(se.sortIndex=M,e(m,se),x||A||(x=!0,Te())),se},t.unstable_shouldYield=w,t.unstable_wrapCallback=function(se){var ue=S;return function(){var le=S;S=ue;try{return se.apply(this,arguments)}finally{S=le}}}}(dp)),dp}var gT;function nx(){return gT||(gT=1,fp.exports=tx()),fp.exports}var mp={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yT;function ix(){if(yT)return on;yT=1;var t=Nf();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,on.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},on.flushSync=function(m){var p=c.T,y=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=p,r.p=y,r.d.f()}},on.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},on.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},on.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:A}):y==="script"&&r.d.X(m,{crossOrigin:_,integrity:S,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},on.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},on.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin);r.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},on.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},on.requestFormReset=function(m){r.d.r(m)},on.unstable_batchedUpdates=function(m,p){return m(p)},on.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},on.useFormStatus=function(){return c.H.useHostTransitionStatus()},on.version="19.0.0",on}var vT;function rx(){if(vT)return mp.exports;vT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mp.exports=ix(),mp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _T;function sx(){if(_T)return hu;_T=1;var t=nx(),e=Nf(),n=rx();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),A=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),ae=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function ie(i){return i===null||typeof i!="object"?null:(i=X&&i[X]||i["@@iterator"],typeof i=="function"?i:null)}var N=Symbol.for("react.client.reference");function R(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===N?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case m:return"Fragment";case f:return"Portal";case y:return"Profiler";case p:return"StrictMode";case k:return"Suspense";case O:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case A:return(i.displayName||"Context")+".Provider";case S:return(i._context.displayName||"Context")+".Consumer";case x:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case L:return s=i.displayName||null,s!==null?s:R(i.type)||"Memo";case K:s=i._payload,i=i._init;try{return R(i(s))}catch{}}return null}var w=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,j,P;function I(i){if(j===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);j=s&&s[1]||"",P=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+j+i+P}var Te=!1;function pe(i,s){if(!i||Te)return"";Te=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(W){var Y=W}Reflect.construct(i,[],ne)}else{try{ne.call()}catch(W){Y=W}i.call(ne.prototype)}}else{try{throw Error()}catch(W){Y=W}(ne=i())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(W){if(W&&Y&&typeof W.stack=="string")return[W.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],b=g[1];if(T&&b){var V=T.split(`
`),F=b.split(`
`);for(d=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;if(u===V.length||d===F.length)for(u=V.length-1,d=F.length-1;1<=u&&0<=d&&V[u]!==F[d];)d--;for(;1<=u&&0<=d;u--,d--)if(V[u]!==F[d]){if(u!==1||d!==1)do if(u--,d--,0>d||V[u]!==F[d]){var Z=`
`+V[u].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=u&&0<=d);break}}}finally{Te=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?I(o):""}function se(i){switch(i.tag){case 26:case 27:case 5:return I(i.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return i=pe(i.type,!1),i;case 11:return i=pe(i.type.render,!1),i;case 1:return i=pe(i.type,!0),i;default:return""}}function ue(i){try{var s="";do s+=se(i),i=i.return;while(i);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function le(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function ye(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function M(i){if(le(i)!==i)throw Error(r(188))}function te(i){var s=i.alternate;if(!s){if(s=le(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return M(d),i;if(g===u)return M(d),s;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=d,u=g;else{for(var T=!1,b=d.child;b;){if(b===o){T=!0,o=d,u=g;break}if(b===u){T=!0,u=d,o=g;break}b=b.sibling}if(!T){for(b=g.child;b;){if(b===o){T=!0,o=g,u=d;break}if(b===u){T=!0,u=g,o=d;break}b=b.sibling}if(!T)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function de(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=de(i),s!==null)return s;i=i.sibling}return null}var he=Array.isArray,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Re={pending:!1,data:null,method:null,action:null},Ce=[],Ze=-1;function Me(i){return{current:i}}function tt(i){0>Ze||(i.current=Ce[Ze],Ce[Ze]=null,Ze--)}function He(i,s){Ze++,Ce[Ze]=i.current,i.current=s}var mt=Me(null),tn=Me(null),nn=Me(null),Ln=Me(null);function Un(i,s){switch(He(nn,s),He(tn,i),He(mt,null),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?BE(s):0;break;default:if(i=i===8?s.parentNode:s,s=i.tagName,i=i.namespaceURI)i=BE(i),s=zE(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}tt(mt),He(mt,s)}function rn(){tt(mt),tt(tn),tt(nn)}function jn(i){i.memoizedState!==null&&He(Ln,i);var s=mt.current,o=zE(s,i.type);s!==o&&(He(tn,i),He(mt,o))}function li(i){tn.current===i&&(tt(mt),tt(tn)),Ln.current===i&&(tt(Ln),su._currentValue=Re)}var Rn=Object.prototype.hasOwnProperty,Tn=t.unstable_scheduleCallback,Cn=t.unstable_cancelCallback,Nr=t.unstable_shouldYield,Je=t.unstable_requestPaint,st=t.unstable_now,Bn=t.unstable_getCurrentPriorityLevel,pt=t.unstable_ImmediatePriority,jt=t.unstable_UserBlockingPriority,Qi=t.unstable_NormalPriority,dc=t.unstable_LowPriority,ol=t.unstable_IdlePriority,fd=t.log,qs=t.unstable_setDisableYieldValue,Mr=null,sn=null;function ll(i){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Mr,i,void 0,(i.current.flags&128)===128)}catch{}}function vi(i){if(typeof fd=="function"&&qs(i),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode(Mr,i)}catch{}}var mn=Math.clz32?Math.clz32:pc,ul=Math.log,mc=Math.LN2;function pc(i){return i>>>=0,i===0?32:31-(ul(i)/mc|0)|0}var _i=128,kr=4194304;function ui(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function zn(i,s){var o=i.pendingLanes;if(o===0)return 0;var u=0,d=i.suspendedLanes,g=i.pingedLanes,T=i.warmLanes;i=i.finishedLanes!==0;var b=o&134217727;return b!==0?(o=b&~d,o!==0?u=ui(o):(g&=b,g!==0?u=ui(g):i||(T=b&~T,T!==0&&(u=ui(T))))):(b=o&~d,b!==0?u=ui(b):g!==0?u=ui(g):i||(T=o&~T,T!==0&&(u=ui(T)))),u===0?0:s!==0&&s!==u&&!(s&d)&&(d=u&-u,T=s&-s,d>=T||d===32&&(T&4194176)!==0)?s:u}function Lr(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function La(i,s){switch(i){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cl(){var i=_i;return _i<<=1,!(_i&4194176)&&(_i=128),i}function Ur(){var i=kr;return kr<<=1,!(kr&62914560)&&(kr=4194304),i}function Ua(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function St(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function gc(i,s,o,u,d,g){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var b=i.entanglements,V=i.expirationTimes,F=i.hiddenUpdates;for(o=T&~o;0<o;){var Z=31-mn(o),ne=1<<Z;b[Z]=0,V[Z]=-1;var Y=F[Z];if(Y!==null)for(F[Z]=null,Z=0;Z<Y.length;Z++){var W=Y[Z];W!==null&&(W.lane&=-536870913)}o&=~ne}u!==0&&jr(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~s))}function jr(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-mn(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194218}function Br(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-mn(o),d=1<<u;d&s|i[u]&s&&(i[u]|=s),o&=~d}}function yc(i){return i&=-i,2<i?8<i?i&134217727?32:268435456:8:2}function vc(){var i=ce.p;return i!==0?i:(i=window.event,i===void 0?32:sT(i.type))}function zr(i,s){var o=ce.p;try{return ce.p=i,s()}finally{ce.p=o}}var Ei=Math.random().toString(36).slice(2),Bt="__reactFiber$"+Ei,Vt="__reactProps$"+Ei,Xi="__reactContainer$"+Ei,Hs="__reactEvents$"+Ei,ja="__reactListeners$"+Ei,Ti="__reactHandles$"+Ei,hl="__reactResources$"+Ei,Fr="__reactMarker$"+Ei;function Gs(i){delete i[Bt],delete i[Vt],delete i[Hs],delete i[ja],delete i[Ti]}function ci(i){var s=i[Bt];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Xi]||o[Bt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=HE(i);i!==null;){if(o=i[Bt])return o;i=HE(i)}return s}i=o,o=i.parentNode}return null}function Wi(i){if(i=i[Bt]||i[Xi]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function qr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Hr(i){var s=i[hl];return s||(s=i[hl]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function lt(i){i[Fr]=!0}var fl=new Set,Ba={};function xn(i,s){Sn(i,s),Sn(i+"Capture",s)}function Sn(i,s){for(Ba[i]=s,i=0;i<s.length;i++)fl.add(s[i])}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dl={},ml={};function _c(i){return Rn.call(ml,i)?!0:Rn.call(dl,i)?!1:dd.test(i)?ml[i]=!0:(dl[i]=!0,!1)}function Gr(i,s,o){if(_c(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Kr(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Fn(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}function pn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ec(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function md(i){var s=Ec(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return d.call(this)},set:function(T){u=""+T,g.call(this,T)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ks(i){i._valueTracker||(i._valueTracker=md(i))}function pl(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=Ec(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function za(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Zi=/[\n"\\]/g;function gt(i){return i.replace(Zi,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function $r(i,s,o,u,d,g,T,b){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),s!=null?T==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+pn(s)):i.value!==""+pn(s)&&(i.value=""+pn(s)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),s!=null?Fa(i,T,pn(s)):o!=null?Fa(i,T,pn(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.name=""+pn(b):i.removeAttribute("name")}function $s(i,s,o,u,d,g,T,b){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+pn(o):"",s=s!=null?""+pn(s):o,b||s===i.value||(i.value=s),i.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=b?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T)}function Fa(i,s,o){s==="number"&&za(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ge(i,s,o,u){if(i=i.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=s.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+pn(o),s=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}s!==null||i[d].disabled||(s=i[d])}s!==null&&(s.selected=!0)}}function Ys(i,s,o){if(s!=null&&(s=""+pn(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+pn(o):""}function Yr(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(he(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=pn(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function qn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var pd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gl(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||pd.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Tc(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&gl(i,d,u)}else for(var g in s)s.hasOwnProperty(g)&&gl(i,g,s[g])}function yl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Si(i){return yd.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Hn=null;function qa(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ji=null,er=null;function tr(i){var s=Wi(i);if(s&&(i=s.stateNode)){var o=i[Vt]||null;e:switch(i=s.stateNode,s.type){case"input":if($r(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+gt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var d=u[Vt]||null;if(!d)throw Error(r(90));$r(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&pl(u)}break e;case"textarea":Ys(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Ge(i,!!o.multiple,s,!1)}}}var vl=!1;function Sc(i,s,o){if(vl)return i(s,o);vl=!0;try{var u=i(s);return u}finally{if(vl=!1,(Ji!==null||er!==null)&&(dh(),Ji&&(s=Ji,i=er,er=Ji=null,tr(s),i)))for(s=0;s<i.length;s++)tr(i[s])}}function Qs(i,s){var o=i.stateNode;if(o===null)return null;var u=o[Vt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Gn=!1;if(In)try{var Xs={};Object.defineProperty(Xs,"passive",{get:function(){Gn=!0}}),window.addEventListener("test",Xs,Xs),window.removeEventListener("test",Xs,Xs)}catch{Gn=!1}var Ai=null,Qr=null,nr=null;function _l(){if(nr)return nr;var i,s=Qr,o=s.length,u,d="value"in Ai?Ai.value:Ai.textContent,g=d.length;for(i=0;i<o&&s[i]===d[i];i++);var T=o-i;for(u=1;u<=T&&s[o-u]===d[g-u];u++);return nr=d.slice(i,1<u?1-u:void 0)}function bi(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function wi(){return!0}function El(){return!1}function zt(i){function s(o,u,d,g,T){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var b in i)i.hasOwnProperty(b)&&(o=i[b],this[b]=o?o(g):g[b]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?wi:El,this.isPropagationStopped=El,this}return D(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),s}var Ye={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ha=zt(Ye),Ws=D({},Ye,{view:0,detail:0}),Ac=zt(Ws),Ga,Ka,Ri,Zs=D({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ta,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ri&&(Ri&&i.type==="mousemove"?(Ga=i.screenX-Ri.screenX,Ka=i.screenY-Ri.screenY):Ka=Ga=0,Ri=i),Ga)},movementY:function(i){return"movementY"in i?i.movementY:Ka}}),Kn=zt(Zs),bc=D({},Zs,{dataTransfer:0}),vd=zt(bc),Js=D({},Ws,{relatedTarget:0}),$a=zt(Js),Tl=D({},Ye,{animationName:0,elapsedTime:0,pseudoElement:0}),Ya=zt(Tl),wc=D({},Ye,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Qa=zt(wc),_d=D({},Ye,{data:0}),Sl=zt(_d),ea={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Al(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Cc[i])?!!s[i]:!1}function ta(){return Al}var xc=D({},Ws,{key:function(i){if(i.key){var s=ea[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=bi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Rc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ta,charCode:function(i){return i.type==="keypress"?bi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?bi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Xa=zt(xc),Ic=D({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bl=zt(Ic),ir=D({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ta}),Dc=zt(ir),Pc=D({},Ye,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vc=zt(Pc),Oc=D({},Zs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Wa=zt(Oc),gn=D({},Ye,{newState:0,oldState:0}),Nc=zt(gn),Mc=[9,13,27,32],Ci=In&&"CompositionEvent"in window,h=null;In&&"documentMode"in document&&(h=document.documentMode);var v=In&&"TextEvent"in window&&!h,E=In&&(!Ci||h&&8<h&&11>=h),C=" ",G=!1;function Q(i,s){switch(i){case"keyup":return Mc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Be=!1;function Ot(i,s){switch(i){case"compositionend":return oe(s);case"keypress":return s.which!==32?null:(G=!0,C);case"textInput":return i=s.data,i===C&&G?null:i;default:return null}}function ze(i,s){if(Be)return i==="compositionend"||!Ci&&Q(i,s)?(i=_l(),nr=Qr=Ai=null,Be=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var Ft={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nt(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Ft[i.type]:s==="textarea"}function rr(i,s,o,u){Ji?er?er.push(u):er=[u]:Ji=u,s=vh(s,"onChange"),0<s.length&&(o=new Ha("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var $t=null,xi=null;function wl(i){ME(i,0)}function kc(i){var s=qr(i);if(pl(s))return i}function cv(i,s){if(i==="change")return s}var hv=!1;if(In){var Ed;if(In){var Td="oninput"in document;if(!Td){var fv=document.createElement("div");fv.setAttribute("oninput","return;"),Td=typeof fv.oninput=="function"}Ed=Td}else Ed=!1;hv=Ed&&(!document.documentMode||9<document.documentMode)}function dv(){$t&&($t.detachEvent("onpropertychange",mv),xi=$t=null)}function mv(i){if(i.propertyName==="value"&&kc(xi)){var s=[];rr(s,xi,i,qa(i)),Sc(wl,s)}}function x1(i,s,o){i==="focusin"?(dv(),$t=s,xi=o,$t.attachEvent("onpropertychange",mv)):i==="focusout"&&dv()}function I1(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return kc(xi)}function D1(i,s){if(i==="click")return kc(s)}function P1(i,s){if(i==="input"||i==="change")return kc(s)}function V1(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Dn=typeof Object.is=="function"?Object.is:V1;function Rl(i,s){if(Dn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Rn.call(s,d)||!Dn(i[d],s[d]))return!1}return!0}function pv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function gv(i,s){var o=pv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=pv(o)}}function yv(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?yv(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function vv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=za(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=za(i.document)}return s}function Sd(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function O1(i,s){var o=vv(s);s=i.focusedElem;var u=i.selectionRange;if(o!==s&&s&&s.ownerDocument&&yv(s.ownerDocument.documentElement,s)){if(u!==null&&Sd(s)){if(i=u.start,o=u.end,o===void 0&&(o=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(o,s.value.length);else if(o=(i=s.ownerDocument||document)&&i.defaultView||window,o.getSelection){o=o.getSelection();var d=s.textContent.length,g=Math.min(u.start,d);u=u.end===void 0?g:Math.min(u.end,d),!o.extend&&g>u&&(d=u,u=g,g=d),d=gv(s,g);var T=gv(s,u);d&&T&&(o.rangeCount!==1||o.anchorNode!==d.node||o.anchorOffset!==d.offset||o.focusNode!==T.node||o.focusOffset!==T.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),o.removeAllRanges(),g>u?(o.addRange(i),o.extend(T.node,T.offset)):(i.setEnd(T.node,T.offset),o.addRange(i)))}}for(i=[],o=s;o=o.parentNode;)o.nodeType===1&&i.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)o=i[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var N1=In&&"documentMode"in document&&11>=document.documentMode,Za=null,Ad=null,Cl=null,bd=!1;function _v(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;bd||Za==null||Za!==za(u)||(u=Za,"selectionStart"in u&&Sd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Cl&&Rl(Cl,u)||(Cl=u,u=vh(Ad,"onSelect"),0<u.length&&(s=new Ha("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=Za)))}function na(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var Ja={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionrun:na("Transition","TransitionRun"),transitionstart:na("Transition","TransitionStart"),transitioncancel:na("Transition","TransitionCancel"),transitionend:na("Transition","TransitionEnd")},wd={},Ev={};In&&(Ev=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function ia(i){if(wd[i])return wd[i];if(!Ja[i])return i;var s=Ja[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in Ev)return wd[i]=s[o];return i}var Tv=ia("animationend"),Sv=ia("animationiteration"),Av=ia("animationstart"),M1=ia("transitionrun"),k1=ia("transitionstart"),L1=ia("transitioncancel"),bv=ia("transitionend"),wv=new Map,Rv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function hi(i,s){wv.set(i,s),xn(s,[i])}var $n=[],eo=0,Rd=0;function Lc(){for(var i=eo,s=Rd=eo=0;s<i;){var o=$n[s];$n[s++]=null;var u=$n[s];$n[s++]=null;var d=$n[s];$n[s++]=null;var g=$n[s];if($n[s++]=null,u!==null&&d!==null){var T=u.pending;T===null?d.next=d:(d.next=T.next,T.next=d),u.pending=d}g!==0&&Cv(o,d,g)}}function Uc(i,s,o,u){$n[eo++]=i,$n[eo++]=s,$n[eo++]=o,$n[eo++]=u,Rd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Cd(i,s,o,u){return Uc(i,s,o,u),jc(i)}function Xr(i,s){return Uc(i,null,null,s),jc(i)}function Cv(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;d&&s!==null&&i.tag===3&&(g=i.stateNode,d=31-mn(o),g=g.hiddenUpdates,i=g[d],i===null?g[d]=[s]:i.push(s),s.lane=o|536870912)}function jc(i){if(50<Zl)throw Zl=0,Om=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var to={},xv=new WeakMap;function Yn(i,s){if(typeof i=="object"&&i!==null){var o=xv.get(i);return o!==void 0?o:(s={value:i,source:s,stack:ue(s)},xv.set(i,s),s)}return{value:i,source:s,stack:ue(s)}}var no=[],io=0,Bc=null,zc=0,Qn=[],Xn=0,ra=null,sr=1,ar="";function sa(i,s){no[io++]=zc,no[io++]=Bc,Bc=i,zc=s}function Iv(i,s,o){Qn[Xn++]=sr,Qn[Xn++]=ar,Qn[Xn++]=ra,ra=i;var u=sr;i=ar;var d=32-mn(u)-1;u&=~(1<<d),o+=1;var g=32-mn(s)+d;if(30<g){var T=d-d%5;g=(u&(1<<T)-1).toString(32),u>>=T,d-=T,sr=1<<32-mn(s)+d|o<<d|u,ar=g+i}else sr=1<<g|o<<d|u,ar=i}function xd(i){i.return!==null&&(sa(i,1),Iv(i,1,0))}function Id(i){for(;i===Bc;)Bc=no[--io],no[io]=null,zc=no[--io],no[io]=null;for(;i===ra;)ra=Qn[--Xn],Qn[Xn]=null,ar=Qn[--Xn],Qn[Xn]=null,sr=Qn[--Xn],Qn[Xn]=null}var yn=null,Yt=null,Ke=!1,fi=null,Ii=!1,Dd=Error(r(519));function aa(i){var s=Error(r(418,""));throw Dl(Yn(s,i)),Dd}function Dv(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[Bt]=i,s[Vt]=u,o){case"dialog":Ue("cancel",s),Ue("close",s);break;case"iframe":case"object":case"embed":Ue("load",s);break;case"video":case"audio":for(o=0;o<eu.length;o++)Ue(eu[o],s);break;case"source":Ue("error",s);break;case"img":case"image":case"link":Ue("error",s),Ue("load",s);break;case"details":Ue("toggle",s);break;case"input":Ue("invalid",s),$s(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ks(s);break;case"select":Ue("invalid",s);break;case"textarea":Ue("invalid",s),Yr(s,u.value,u.defaultValue,u.children),Ks(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||jE(s.textContent,o)?(u.popover!=null&&(Ue("beforetoggle",s),Ue("toggle",s)),u.onScroll!=null&&Ue("scroll",s),u.onScrollEnd!=null&&Ue("scrollend",s),u.onClick!=null&&(s.onclick=_h),s=!0):s=!1,s||aa(i)}function Pv(i){for(yn=i.return;yn;)switch(yn.tag){case 3:case 27:Ii=!0;return;case 5:case 13:Ii=!1;return;default:yn=yn.return}}function xl(i){if(i!==yn)return!1;if(!Ke)return Pv(i),Ke=!0,!1;var s=!1,o;if((o=i.tag!==3&&i.tag!==27)&&((o=i.tag===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Xm(i.type,i.memoizedProps)),o=!o),o&&(s=!0),s&&Yt&&aa(i),Pv(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(s===0){Yt=mi(i.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;i=i.nextSibling}Yt=null}}else Yt=yn?mi(i.stateNode.nextSibling):null;return!0}function Il(){Yt=yn=null,Ke=!1}function Dl(i){fi===null?fi=[i]:fi.push(i)}var Pl=Error(r(460)),Vv=Error(r(474)),Pd={then:function(){}};function Ov(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Fc(){}function Nv(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(Fc,Fc),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===Pl?Error(r(483)):i;default:if(typeof s.status=="string")s.then(Fc,Fc);else{if(i=nt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===Pl?Error(r(483)):i}throw Vl=s,Pl}}var Vl=null;function Mv(){if(Vl===null)throw Error(r(459));var i=Vl;return Vl=null,i}var ro=null,Ol=0;function qc(i){var s=Ol;return Ol+=1,ro===null&&(ro=[]),Nv(ro,i,s)}function Nl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Hc(i,s){throw s.$$typeof===l?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function kv(i){var s=i._init;return s(i._payload)}function Lv(i){function s(q,z){if(i){var $=q.deletions;$===null?(q.deletions=[z],q.flags|=16):$.push(z)}}function o(q,z){if(!i)return null;for(;z!==null;)s(q,z),z=z.sibling;return null}function u(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function d(q,z){return q=ls(q,z),q.index=0,q.sibling=null,q}function g(q,z,$){return q.index=$,i?($=q.alternate,$!==null?($=$.index,$<z?(q.flags|=33554434,z):$):(q.flags|=33554434,z)):(q.flags|=1048576,z)}function T(q){return i&&q.alternate===null&&(q.flags|=33554434),q}function b(q,z,$,J){return z===null||z.tag!==6?(z=wm($,q.mode,J),z.return=q,z):(z=d(z,$),z.return=q,z)}function V(q,z,$,J){var me=$.type;return me===m?Z(q,z,$.props.children,J,$.key):z!==null&&(z.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===K&&kv(me)===z.type)?(z=d(z,$.props),Nl(z,$),z.return=q,z):(z=lh($.type,$.key,$.props,null,q.mode,J),Nl(z,$),z.return=q,z)}function F(q,z,$,J){return z===null||z.tag!==4||z.stateNode.containerInfo!==$.containerInfo||z.stateNode.implementation!==$.implementation?(z=Rm($,q.mode,J),z.return=q,z):(z=d(z,$.children||[]),z.return=q,z)}function Z(q,z,$,J,me){return z===null||z.tag!==7?(z=ga($,q.mode,J,me),z.return=q,z):(z=d(z,$),z.return=q,z)}function ne(q,z,$){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=wm(""+z,q.mode,$),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case c:return $=lh(z.type,z.key,z.props,null,q.mode,$),Nl($,z),$.return=q,$;case f:return z=Rm(z,q.mode,$),z.return=q,z;case K:var J=z._init;return z=J(z._payload),ne(q,z,$)}if(he(z)||ie(z))return z=ga(z,q.mode,$,null),z.return=q,z;if(typeof z.then=="function")return ne(q,qc(z),$);if(z.$$typeof===A)return ne(q,sh(q,z),$);Hc(q,z)}return null}function Y(q,z,$,J){var me=z!==null?z.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return me!==null?null:b(q,z,""+$,J);if(typeof $=="object"&&$!==null){switch($.$$typeof){case c:return $.key===me?V(q,z,$,J):null;case f:return $.key===me?F(q,z,$,J):null;case K:return me=$._init,$=me($._payload),Y(q,z,$,J)}if(he($)||ie($))return me!==null?null:Z(q,z,$,J,null);if(typeof $.then=="function")return Y(q,z,qc($),J);if($.$$typeof===A)return Y(q,z,sh(q,$),J);Hc(q,$)}return null}function W(q,z,$,J,me){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return q=q.get($)||null,b(z,q,""+J,me);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case c:return q=q.get(J.key===null?$:J.key)||null,V(z,q,J,me);case f:return q=q.get(J.key===null?$:J.key)||null,F(z,q,J,me);case K:var Oe=J._init;return J=Oe(J._payload),W(q,z,$,J,me)}if(he(J)||ie(J))return q=q.get($)||null,Z(z,q,J,me,null);if(typeof J.then=="function")return W(q,z,$,qc(J),me);if(J.$$typeof===A)return W(q,z,$,sh(z,J),me);Hc(z,J)}return null}function ge(q,z,$,J){for(var me=null,Oe=null,ve=z,Se=z=0,Gt=null;ve!==null&&Se<$.length;Se++){ve.index>Se?(Gt=ve,ve=null):Gt=ve.sibling;var $e=Y(q,ve,$[Se],J);if($e===null){ve===null&&(ve=Gt);break}i&&ve&&$e.alternate===null&&s(q,ve),z=g($e,z,Se),Oe===null?me=$e:Oe.sibling=$e,Oe=$e,ve=Gt}if(Se===$.length)return o(q,ve),Ke&&sa(q,Se),me;if(ve===null){for(;Se<$.length;Se++)ve=ne(q,$[Se],J),ve!==null&&(z=g(ve,z,Se),Oe===null?me=ve:Oe.sibling=ve,Oe=ve);return Ke&&sa(q,Se),me}for(ve=u(ve);Se<$.length;Se++)Gt=W(ve,q,Se,$[Se],J),Gt!==null&&(i&&Gt.alternate!==null&&ve.delete(Gt.key===null?Se:Gt.key),z=g(Gt,z,Se),Oe===null?me=Gt:Oe.sibling=Gt,Oe=Gt);return i&&ve.forEach(function(ps){return s(q,ps)}),Ke&&sa(q,Se),me}function Ie(q,z,$,J){if($==null)throw Error(r(151));for(var me=null,Oe=null,ve=z,Se=z=0,Gt=null,$e=$.next();ve!==null&&!$e.done;Se++,$e=$.next()){ve.index>Se?(Gt=ve,ve=null):Gt=ve.sibling;var ps=Y(q,ve,$e.value,J);if(ps===null){ve===null&&(ve=Gt);break}i&&ve&&ps.alternate===null&&s(q,ve),z=g(ps,z,Se),Oe===null?me=ps:Oe.sibling=ps,Oe=ps,ve=Gt}if($e.done)return o(q,ve),Ke&&sa(q,Se),me;if(ve===null){for(;!$e.done;Se++,$e=$.next())$e=ne(q,$e.value,J),$e!==null&&(z=g($e,z,Se),Oe===null?me=$e:Oe.sibling=$e,Oe=$e);return Ke&&sa(q,Se),me}for(ve=u(ve);!$e.done;Se++,$e=$.next())$e=W(ve,q,Se,$e.value,J),$e!==null&&(i&&$e.alternate!==null&&ve.delete($e.key===null?Se:$e.key),z=g($e,z,Se),Oe===null?me=$e:Oe.sibling=$e,Oe=$e);return i&&ve.forEach(function(WC){return s(q,WC)}),Ke&&sa(q,Se),me}function _t(q,z,$,J){if(typeof $=="object"&&$!==null&&$.type===m&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case c:e:{for(var me=$.key;z!==null;){if(z.key===me){if(me=$.type,me===m){if(z.tag===7){o(q,z.sibling),J=d(z,$.props.children),J.return=q,q=J;break e}}else if(z.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===K&&kv(me)===z.type){o(q,z.sibling),J=d(z,$.props),Nl(J,$),J.return=q,q=J;break e}o(q,z);break}else s(q,z);z=z.sibling}$.type===m?(J=ga($.props.children,q.mode,J,$.key),J.return=q,q=J):(J=lh($.type,$.key,$.props,null,q.mode,J),Nl(J,$),J.return=q,q=J)}return T(q);case f:e:{for(me=$.key;z!==null;){if(z.key===me)if(z.tag===4&&z.stateNode.containerInfo===$.containerInfo&&z.stateNode.implementation===$.implementation){o(q,z.sibling),J=d(z,$.children||[]),J.return=q,q=J;break e}else{o(q,z);break}else s(q,z);z=z.sibling}J=Rm($,q.mode,J),J.return=q,q=J}return T(q);case K:return me=$._init,$=me($._payload),_t(q,z,$,J)}if(he($))return ge(q,z,$,J);if(ie($)){if(me=ie($),typeof me!="function")throw Error(r(150));return $=me.call($),Ie(q,z,$,J)}if(typeof $.then=="function")return _t(q,z,qc($),J);if($.$$typeof===A)return _t(q,z,sh(q,$),J);Hc(q,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,z!==null&&z.tag===6?(o(q,z.sibling),J=d(z,$),J.return=q,q=J):(o(q,z),J=wm($,q.mode,J),J.return=q,q=J),T(q)):o(q,z)}return function(q,z,$,J){try{Ol=0;var me=_t(q,z,$,J);return ro=null,me}catch(ve){if(ve===Pl)throw ve;var Oe=ei(29,ve,null,q.mode);return Oe.lanes=J,Oe.return=q,Oe}finally{}}}var oa=Lv(!0),Uv=Lv(!1),so=Me(null),Gc=Me(0);function jv(i,s){i=yr,He(Gc,i),He(so,s),yr=i|s.baseLanes}function Vd(){He(Gc,yr),He(so,so.current)}function Od(){yr=Gc.current,tt(so),tt(Gc)}var Wn=Me(null),Di=null;function Wr(i){var s=i.alternate;He(Mt,Mt.current&1),He(Wn,i),Di===null&&(s===null||so.current!==null||s.memoizedState!==null)&&(Di=i)}function Bv(i){if(i.tag===22){if(He(Mt,Mt.current),He(Wn,i),Di===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Di=i)}}else Zr()}function Zr(){He(Mt,Mt.current),He(Wn,Wn.current)}function or(i){tt(Wn),Di===i&&(Di=null),tt(Mt)}var Mt=Me(0);function Kc(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var U1=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},j1=t.unstable_scheduleCallback,B1=t.unstable_NormalPriority,kt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nd(){return{controller:new U1,data:new Map,refCount:0}}function Ml(i){i.refCount--,i.refCount===0&&j1(B1,function(){i.controller.abort()})}var kl=null,Md=0,ao=0,oo=null;function z1(i,s){if(kl===null){var o=kl=[];Md=0,ao=zm(),oo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Md++,s.then(zv,zv),s}function zv(){if(--Md===0&&kl!==null){oo!==null&&(oo.status="fulfilled");var i=kl;kl=null,ao=0,oo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function F1(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var Fv=w.S;w.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&z1(i,s),Fv!==null&&Fv(i,s)};var la=Me(null);function kd(){var i=la.current;return i!==null?i:nt.pooledCache}function $c(i,s){s===null?He(la,la.current):He(la,s.pool)}function qv(){var i=kd();return i===null?null:{parent:kt._currentValue,pool:i}}var Jr=0,Ve=null,Xe=null,Ct=null,Yc=!1,lo=!1,ua=!1,Qc=0,Ll=0,uo=null,q1=0;function At(){throw Error(r(321))}function Ld(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Dn(i[o],s[o]))return!1;return!0}function Ud(i,s,o,u,d,g){return Jr=g,Ve=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,w.H=i===null||i.memoizedState===null?ca:es,ua=!1,g=o(u,d),ua=!1,lo&&(g=Gv(s,o,u,d)),Hv(i),g}function Hv(i){w.H=Pi;var s=Xe!==null&&Xe.next!==null;if(Jr=0,Ct=Xe=Ve=null,Yc=!1,Ll=0,uo=null,s)throw Error(r(300));i===null||qt||(i=i.dependencies,i!==null&&rh(i)&&(qt=!0))}function Gv(i,s,o,u){Ve=i;var d=0;do{if(lo&&(uo=null),Ll=0,lo=!1,25<=d)throw Error(r(301));if(d+=1,Ct=Xe=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}w.H=ha,g=s(o,u)}while(lo);return g}function H1(){var i=w.H,s=i.useState()[0];return s=typeof s.then=="function"?Ul(s):s,i=i.useState()[0],(Xe!==null?Xe.memoizedState:null)!==i&&(Ve.flags|=1024),s}function jd(){var i=Qc!==0;return Qc=0,i}function Bd(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function zd(i){if(Yc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Yc=!1}Jr=0,Ct=Xe=Ve=null,lo=!1,Ll=Qc=0,uo=null}function An(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ve.memoizedState=Ct=i:Ct=Ct.next=i,Ct}function xt(){if(Xe===null){var i=Ve.alternate;i=i!==null?i.memoizedState:null}else i=Xe.next;var s=Ct===null?Ve.memoizedState:Ct.next;if(s!==null)Ct=s,Xe=i;else{if(i===null)throw Ve.alternate===null?Error(r(467)):Error(r(310));Xe=i,i={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Ct===null?Ve.memoizedState=Ct=i:Ct=Ct.next=i}return Ct}var Xc;Xc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ul(i){var s=Ll;return Ll+=1,uo===null&&(uo=[]),i=Nv(uo,i,s),s=Ve,(Ct===null?s.memoizedState:Ct.next)===null&&(s=s.alternate,w.H=s===null||s.memoizedState===null?ca:es),i}function Wc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ul(i);if(i.$$typeof===A)return an(i)}throw Error(r(438,String(i)))}function Fd(i){var s=null,o=Ve.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ve.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Xc(),Ve.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=ae;return s.index++,o}function lr(i,s){return typeof s=="function"?s(i):s}function Zc(i){var s=xt();return qd(s,Xe,i)}function qd(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var T=d.next;d.next=g.next,g.next=T}s.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{s=d.next;var b=T=null,V=null,F=s,Z=!1;do{var ne=F.lane&-536870913;if(ne!==F.lane?(Fe&ne)===ne:(Jr&ne)===ne){var Y=F.revertLane;if(Y===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ne===ao&&(Z=!0);else if((Jr&Y)===Y){F=F.next,Y===ao&&(Z=!0);continue}else ne={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},V===null?(b=V=ne,T=g):V=V.next=ne,Ve.lanes|=Y,us|=Y;ne=F.action,ua&&o(g,ne),g=F.hasEagerState?F.eagerState:o(g,ne)}else Y={lane:ne,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},V===null?(b=V=Y,T=g):V=V.next=Y,Ve.lanes|=ne,us|=ne;F=F.next}while(F!==null&&F!==s);if(V===null?T=g:V.next=b,!Dn(g,i.memoizedState)&&(qt=!0,Z&&(o=oo,o!==null)))throw o;i.memoizedState=g,i.baseState=T,i.baseQueue=V,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Hd(i){var s=xt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do g=i(g,T.action),T=T.next;while(T!==d);Dn(g,s.memoizedState)||(qt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function Kv(i,s,o){var u=Ve,d=xt(),g=Ke;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var T=!Dn((Xe||d).memoizedState,o);if(T&&(d.memoizedState=o,qt=!0),d=d.queue,$d(Qv.bind(null,u,d,i),[i]),d.getSnapshot!==s||T||Ct!==null&&Ct.memoizedState.tag&1){if(u.flags|=2048,co(9,Yv.bind(null,u,d,o,s),{destroy:void 0},null),nt===null)throw Error(r(349));g||Jr&60||$v(u,s,o)}return o}function $v(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Ve.updateQueue,s===null?(s=Xc(),Ve.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function Yv(i,s,o,u){s.value=o,s.getSnapshot=u,Xv(s)&&Wv(i)}function Qv(i,s,o){return o(function(){Xv(s)&&Wv(i)})}function Xv(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Dn(i,o)}catch{return!0}}function Wv(i){var s=Xr(i,2);s!==null&&vn(s,i,2)}function Gd(i){var s=An();if(typeof i=="function"){var o=i;if(i=o(),ua){vi(!0);try{o()}finally{vi(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:i},s}function Zv(i,s,o,u){return i.baseState=o,qd(i,Xe,typeof u=="function"?u:lr)}function G1(i,s,o,u,d){if(th(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};w.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,Jv(s,g)):(g.next=o.next,s.pending=o.next=g)}}function Jv(i,s){var o=s.action,u=s.payload,d=i.state;if(s.isTransition){var g=w.T,T={};w.T=T;try{var b=o(d,u),V=w.S;V!==null&&V(T,b),e_(i,s,b)}catch(F){Kd(i,s,F)}finally{w.T=g}}else try{g=o(d,u),e_(i,s,g)}catch(F){Kd(i,s,F)}}function e_(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){t_(i,s,u)},function(u){return Kd(i,s,u)}):t_(i,s,o)}function t_(i,s,o){s.status="fulfilled",s.value=o,n_(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,Jv(i,o)))}function Kd(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,n_(s),s=s.next;while(s!==u)}i.action=null}function n_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function i_(i,s){return s}function r_(i,s){if(Ke){var o=nt.formState;if(o!==null){e:{var u=Ve;if(Ke){if(Yt){t:{for(var d=Yt,g=Ii;d.nodeType!==8;){if(!g){d=null;break t}if(d=mi(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){Yt=mi(d.nextSibling),u=d.data==="F!";break e}}aa(u)}u=!1}u&&(s=o[0])}}return o=An(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i_,lastRenderedState:s},o.queue=u,o=S_.bind(null,Ve,u),u.dispatch=o,u=Gd(!1),g=Zd.bind(null,Ve,!1,u.queue),u=An(),d={state:s,dispatch:null,action:i,pending:null},u.queue=d,o=G1.bind(null,Ve,d,g,o),d.dispatch=o,u.memoizedState=i,[s,o,!1]}function s_(i){var s=xt();return a_(s,Xe,i)}function a_(i,s,o){s=qd(i,s,i_)[0],i=Zc(lr)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Ul(s):s;var u=xt(),d=u.queue,g=d.dispatch;return o!==u.memoizedState&&(Ve.flags|=2048,co(9,K1.bind(null,d,o),{destroy:void 0},null)),[s,g,i]}function K1(i,s){i.action=s}function o_(i){var s=xt(),o=Xe;if(o!==null)return a_(s,o,i);xt(),s=s.memoizedState,o=xt();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function co(i,s,o,u){return i={tag:i,create:s,inst:o,deps:u,next:null},s=Ve.updateQueue,s===null&&(s=Xc(),Ve.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function l_(){return xt().memoizedState}function Jc(i,s,o,u){var d=An();Ve.flags|=i,d.memoizedState=co(1|s,o,{destroy:void 0},u===void 0?null:u)}function eh(i,s,o,u){var d=xt();u=u===void 0?null:u;var g=d.memoizedState.inst;Xe!==null&&u!==null&&Ld(u,Xe.memoizedState.deps)?d.memoizedState=co(s,o,g,u):(Ve.flags|=i,d.memoizedState=co(1|s,o,g,u))}function u_(i,s){Jc(8390656,8,i,s)}function $d(i,s){eh(2048,8,i,s)}function c_(i,s){return eh(4,2,i,s)}function h_(i,s){return eh(4,4,i,s)}function f_(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function d_(i,s,o){o=o!=null?o.concat([i]):null,eh(4,4,f_.bind(null,s,i),o)}function Yd(){}function m_(i,s){var o=xt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Ld(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function p_(i,s){var o=xt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Ld(s,u[1]))return u[0];if(u=i(),ua){vi(!0);try{i()}finally{vi(!1)}}return o.memoizedState=[u,s],u}function Qd(i,s,o){return o===void 0||Jr&1073741824?i.memoizedState=s:(i.memoizedState=o,i=yE(),Ve.lanes|=i,us|=i,o)}function g_(i,s,o,u){return Dn(o,s)?o:so.current!==null?(i=Qd(i,o,u),Dn(i,s)||(qt=!0),i):Jr&42?(i=yE(),Ve.lanes|=i,us|=i,s):(qt=!0,i.memoizedState=o)}function y_(i,s,o,u,d){var g=ce.p;ce.p=g!==0&&8>g?g:8;var T=w.T,b={};w.T=b,Zd(i,!1,s,o);try{var V=d(),F=w.S;if(F!==null&&F(b,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var Z=F1(V,u);jl(i,s,Z,Nn(i))}else jl(i,s,u,Nn(i))}catch(ne){jl(i,s,{then:function(){},status:"rejected",reason:ne},Nn())}finally{ce.p=g,w.T=T}}function $1(){}function Xd(i,s,o,u){if(i.tag!==5)throw Error(r(476));var d=v_(i).queue;y_(i,d,s,Re,o===null?$1:function(){return __(i),o(u)})}function v_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:Re,baseState:Re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:Re},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function __(i){var s=v_(i).next.queue;jl(i,s,{},Nn())}function Wd(){return an(su)}function E_(){return xt().memoizedState}function T_(){return xt().memoizedState}function Y1(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=Nn();i=is(o);var u=rs(s,i,o);u!==null&&(vn(u,s,o),Fl(u,s,o)),s={cache:Nd()},i.payload=s;return}s=s.return}}function Q1(i,s,o){var u=Nn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},th(i)?A_(s,o):(o=Cd(i,s,o,u),o!==null&&(vn(o,i,u),b_(o,s,u)))}function S_(i,s,o){var u=Nn();jl(i,s,o,u)}function jl(i,s,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(th(i))A_(s,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var T=s.lastRenderedState,b=g(T,o);if(d.hasEagerState=!0,d.eagerState=b,Dn(b,T))return Uc(i,s,d,0),nt===null&&Lc(),!1}catch{}finally{}if(o=Cd(i,s,d,u),o!==null)return vn(o,i,u),b_(o,s,u),!0}return!1}function Zd(i,s,o,u){if(u={lane:2,revertLane:zm(),action:u,hasEagerState:!1,eagerState:null,next:null},th(i)){if(s)throw Error(r(479))}else s=Cd(i,o,u,2),s!==null&&vn(s,i,2)}function th(i){var s=i.alternate;return i===Ve||s!==null&&s===Ve}function A_(i,s){lo=Yc=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function b_(i,s,o){if(o&4194176){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,Br(i,o)}}var Pi={readContext:an,use:Wc,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At};Pi.useCacheRefresh=At,Pi.useMemoCache=At,Pi.useHostTransitionStatus=At,Pi.useFormState=At,Pi.useActionState=At,Pi.useOptimistic=At;var ca={readContext:an,use:Wc,useCallback:function(i,s){return An().memoizedState=[i,s===void 0?null:s],i},useContext:an,useEffect:u_,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,Jc(4194308,4,f_.bind(null,s,i),o)},useLayoutEffect:function(i,s){return Jc(4194308,4,i,s)},useInsertionEffect:function(i,s){Jc(4,2,i,s)},useMemo:function(i,s){var o=An();s=s===void 0?null:s;var u=i();if(ua){vi(!0);try{i()}finally{vi(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=An();if(o!==void 0){var d=o(s);if(ua){vi(!0);try{o(s)}finally{vi(!1)}}}else d=s;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=Q1.bind(null,Ve,i),[u.memoizedState,i]},useRef:function(i){var s=An();return i={current:i},s.memoizedState=i},useState:function(i){i=Gd(i);var s=i.queue,o=S_.bind(null,Ve,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:Yd,useDeferredValue:function(i,s){var o=An();return Qd(o,i,s)},useTransition:function(){var i=Gd(!1);return i=y_.bind(null,Ve,i.queue,!0,!1),An().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=Ve,d=An();if(Ke){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),nt===null)throw Error(r(349));Fe&60||$v(u,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,u_(Qv.bind(null,u,g,i),[i]),u.flags|=2048,co(9,Yv.bind(null,u,g,o,s),{destroy:void 0},null),o},useId:function(){var i=An(),s=nt.identifierPrefix;if(Ke){var o=ar,u=sr;o=(u&~(1<<32-mn(u)-1)).toString(32)+o,s=":"+s+"R"+o,o=Qc++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=q1++,s=":"+s+"r"+o.toString(32)+":";return i.memoizedState=s},useCacheRefresh:function(){return An().memoizedState=Y1.bind(null,Ve)}};ca.useMemoCache=Fd,ca.useHostTransitionStatus=Wd,ca.useFormState=r_,ca.useActionState=r_,ca.useOptimistic=function(i){var s=An();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Zd.bind(null,Ve,!0,o),o.dispatch=s,[i,s]};var es={readContext:an,use:Wc,useCallback:m_,useContext:an,useEffect:$d,useImperativeHandle:d_,useInsertionEffect:c_,useLayoutEffect:h_,useMemo:p_,useReducer:Zc,useRef:l_,useState:function(){return Zc(lr)},useDebugValue:Yd,useDeferredValue:function(i,s){var o=xt();return g_(o,Xe.memoizedState,i,s)},useTransition:function(){var i=Zc(lr)[0],s=xt().memoizedState;return[typeof i=="boolean"?i:Ul(i),s]},useSyncExternalStore:Kv,useId:E_};es.useCacheRefresh=T_,es.useMemoCache=Fd,es.useHostTransitionStatus=Wd,es.useFormState=s_,es.useActionState=s_,es.useOptimistic=function(i,s){var o=xt();return Zv(o,Xe,i,s)};var ha={readContext:an,use:Wc,useCallback:m_,useContext:an,useEffect:$d,useImperativeHandle:d_,useInsertionEffect:c_,useLayoutEffect:h_,useMemo:p_,useReducer:Hd,useRef:l_,useState:function(){return Hd(lr)},useDebugValue:Yd,useDeferredValue:function(i,s){var o=xt();return Xe===null?Qd(o,i,s):g_(o,Xe.memoizedState,i,s)},useTransition:function(){var i=Hd(lr)[0],s=xt().memoizedState;return[typeof i=="boolean"?i:Ul(i),s]},useSyncExternalStore:Kv,useId:E_};ha.useCacheRefresh=T_,ha.useMemoCache=Fd,ha.useHostTransitionStatus=Wd,ha.useFormState=o_,ha.useActionState=o_,ha.useOptimistic=function(i,s){var o=xt();return Xe!==null?Zv(o,Xe,i,s):(o.baseState=i,[i,o.queue.dispatch])};function Jd(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:D({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var em={isMounted:function(i){return(i=i._reactInternals)?le(i)===i:!1},enqueueSetState:function(i,s,o){i=i._reactInternals;var u=Nn(),d=is(u);d.payload=s,o!=null&&(d.callback=o),s=rs(i,d,u),s!==null&&(vn(s,i,u),Fl(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=Nn(),d=is(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=rs(i,d,u),s!==null&&(vn(s,i,u),Fl(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=Nn(),u=is(o);u.tag=2,s!=null&&(u.callback=s),s=rs(i,u,o),s!==null&&(vn(s,i,o),Fl(s,i,o))}};function w_(i,s,o,u,d,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,T):s.prototype&&s.prototype.isPureReactComponent?!Rl(o,u)||!Rl(d,g):!0}function R_(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&em.enqueueReplaceState(s,s.state,null)}function fa(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=D({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}var nh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function C_(i){nh(i)}function x_(i){console.error(i)}function I_(i){nh(i)}function ih(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function D_(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function tm(i,s,o){return o=is(o),o.tag=3,o.payload={element:null},o.callback=function(){ih(i,s)},o}function P_(i){return i=is(i),i.tag=3,i}function V_(i,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){D_(s,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){D_(s,o,u),typeof d!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function X1(i,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&zl(s,o,d,!0),o=Wn.current,o!==null){switch(o.tag){case 13:return Di===null?km():o.alternate===null&&vt===0&&(vt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Pd?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Um(i,u,d)),!1;case 22:return o.flags|=65536,u===Pd?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Um(i,u,d)),!1}throw Error(r(435,o.tag))}return Um(i,u,d),km(),!1}if(Ke)return s=Wn.current,s!==null?(!(s.flags&65536)&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==Dd&&(i=Error(r(422),{cause:u}),Dl(Yn(i,o)))):(u!==Dd&&(s=Error(r(423),{cause:u}),Dl(Yn(s,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=Yn(u,o),d=tm(i.stateNode,u,d),gm(i,d),vt!==4&&(vt=2)),!1;var g=Error(r(520),{cause:u});if(g=Yn(g,o),Xl===null?Xl=[g]:Xl.push(g),vt!==4&&(vt=2),s===null)return!0;u=Yn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=tm(o.stateNode,u,i),gm(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(cs===null||!cs.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=P_(d),V_(d,i,o,u),gm(o,d),!1}o=o.return}while(o!==null);return!1}var O_=Error(r(461)),qt=!1;function Qt(i,s,o,u){s.child=i===null?Uv(s,null,o,u):oa(s,i.child,o,u)}function N_(i,s,o,u,d){o=o.render;var g=s.ref;if("ref"in u){var T={};for(var b in u)b!=="ref"&&(T[b]=u[b])}else T=u;return ma(s),u=Ud(i,s,o,T,g,d),b=jd(),i!==null&&!qt?(Bd(i,s,d),ur(i,s,d)):(Ke&&b&&xd(s),s.flags|=1,Qt(i,s,u,d),s.child)}function M_(i,s,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!bm(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,k_(i,s,g,u,d)):(i=lh(o.type,null,u,s,s.mode,d),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!cm(i,d)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:Rl,o(T,u)&&i.ref===s.ref)return ur(i,s,d)}return s.flags|=1,i=ls(g,u),i.ref=s.ref,i.return=s,s.child=i}function k_(i,s,o,u,d){if(i!==null){var g=i.memoizedProps;if(Rl(g,u)&&i.ref===s.ref)if(qt=!1,s.pendingProps=u=g,cm(i,d))i.flags&131072&&(qt=!0);else return s.lanes=i.lanes,ur(i,s,d)}return nm(i,s,o,u,d)}function L_(i,s,o){var u=s.pendingProps,d=u.children,g=(s.stateNode._pendingVisibility&2)!==0,T=i!==null?i.memoizedState:null;if(Bl(i,s),u.mode==="hidden"||g){if(s.flags&128){if(u=T!==null?T.baseLanes|o:o,i!==null){for(d=s.child=i.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return U_(i,s,u,o)}if(o&536870912)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&$c(s,T!==null?T.cachePool:null),T!==null?jv(s,T):Vd(),Bv(s);else return s.lanes=s.childLanes=536870912,U_(i,s,T!==null?T.baseLanes|o:o,o)}else T!==null?($c(s,T.cachePool),jv(s,T),Zr(),s.memoizedState=null):(i!==null&&$c(s,null),Vd(),Zr());return Qt(i,s,d,o),s.child}function U_(i,s,o,u){var d=kd();return d=d===null?null:{parent:kt._currentValue,pool:d},s.memoizedState={baseLanes:o,cachePool:d},i!==null&&$c(s,null),Vd(),Bv(s),i!==null&&zl(i,s,u,!0),null}function Bl(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=2097664)}}function nm(i,s,o,u,d){return ma(s),o=Ud(i,s,o,u,void 0,d),u=jd(),i!==null&&!qt?(Bd(i,s,d),ur(i,s,d)):(Ke&&u&&xd(s),s.flags|=1,Qt(i,s,o,d),s.child)}function j_(i,s,o,u,d,g){return ma(s),s.updateQueue=null,o=Gv(s,u,o,d),Hv(i),u=jd(),i!==null&&!qt?(Bd(i,s,g),ur(i,s,g)):(Ke&&u&&xd(s),s.flags|=1,Qt(i,s,o,g),s.child)}function B_(i,s,o,u,d){if(ma(s),s.stateNode===null){var g=to,T=o.contextType;typeof T=="object"&&T!==null&&(g=an(T)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=em,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},mm(s),T=o.contextType,g.context=typeof T=="object"&&T!==null?an(T):to,g.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Jd(s,o,T,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&em.enqueueReplaceState(g,g.state,null),Hl(s,u,g,d),ql(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){g=s.stateNode;var b=s.memoizedProps,V=fa(o,b);g.props=V;var F=g.context,Z=o.contextType;T=to,typeof Z=="object"&&Z!==null&&(T=an(Z));var ne=o.getDerivedStateFromProps;Z=typeof ne=="function"||typeof g.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b||F!==T)&&R_(s,g,u,T),ns=!1;var Y=s.memoizedState;g.state=Y,Hl(s,u,g,d),ql(),F=s.memoizedState,b||Y!==F||ns?(typeof ne=="function"&&(Jd(s,o,ne,u),F=s.memoizedState),(V=ns||w_(s,o,V,u,Y,F,T))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=F),g.props=u,g.state=F,g.context=T,u=V):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,pm(i,s),T=s.memoizedProps,Z=fa(o,T),g.props=Z,ne=s.pendingProps,Y=g.context,F=o.contextType,V=to,typeof F=="object"&&F!==null&&(V=an(F)),b=o.getDerivedStateFromProps,(F=typeof b=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==ne||Y!==V)&&R_(s,g,u,V),ns=!1,Y=s.memoizedState,g.state=Y,Hl(s,u,g,d),ql();var W=s.memoizedState;T!==ne||Y!==W||ns||i!==null&&i.dependencies!==null&&rh(i.dependencies)?(typeof b=="function"&&(Jd(s,o,b,u),W=s.memoizedState),(Z=ns||w_(s,o,Z,u,Y,W,V)||i!==null&&i.dependencies!==null&&rh(i.dependencies))?(F||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,W,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,W,V)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=W),g.props=u,g.state=W,g.context=V,u=Z):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(s.flags|=1024),u=!1)}return g=u,Bl(i,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&u?(s.child=oa(s,i.child,null,d),s.child=oa(s,null,o,d)):Qt(i,s,o,d),s.memoizedState=g.state,i=s.child):i=ur(i,s,d),i}function z_(i,s,o,u){return Il(),s.flags|=256,Qt(i,s,o,u),s.child}var im={dehydrated:null,treeContext:null,retryLane:0};function rm(i){return{baseLanes:i,cachePool:qv()}}function sm(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=ti),i}function F_(i,s,o){var u=s.pendingProps,d=!1,g=(s.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(Mt.current&2)!==0),T&&(d=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ke){if(d?Wr(s):Zr(),Ke){var b=Yt,V;if(V=b){e:{for(V=b,b=Ii;V.nodeType!==8;){if(!b){b=null;break e}if(V=mi(V.nextSibling),V===null){b=null;break e}}b=V}b!==null?(s.memoizedState={dehydrated:b,treeContext:ra!==null?{id:sr,overflow:ar}:null,retryLane:536870912},V=ei(18,null,null,0),V.stateNode=b,V.return=s,s.child=V,yn=s,Yt=null,V=!0):V=!1}V||aa(s)}if(b=s.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return b.data==="$!"?s.lanes=16:s.lanes=536870912,null;or(s)}return b=u.children,u=u.fallback,d?(Zr(),d=s.mode,b=om({mode:"hidden",children:b},d),u=ga(u,d,o,null),b.return=s,u.return=s,b.sibling=u,s.child=b,d=s.child,d.memoizedState=rm(o),d.childLanes=sm(i,T,o),s.memoizedState=im,u):(Wr(s),am(s,b))}if(V=i.memoizedState,V!==null&&(b=V.dehydrated,b!==null)){if(g)s.flags&256?(Wr(s),s.flags&=-257,s=lm(i,s,o)):s.memoizedState!==null?(Zr(),s.child=i.child,s.flags|=128,s=null):(Zr(),d=u.fallback,b=s.mode,u=om({mode:"visible",children:u.children},b),d=ga(d,b,o,null),d.flags|=2,u.return=s,d.return=s,u.sibling=d,s.child=u,oa(s,i.child,null,o),u=s.child,u.memoizedState=rm(o),u.childLanes=sm(i,T,o),s.memoizedState=im,s=d);else if(Wr(s),b.data==="$!"){if(T=b.nextSibling&&b.nextSibling.dataset,T)var F=T.dgst;T=F,u=Error(r(419)),u.stack="",u.digest=T,Dl({value:u,source:null,stack:null}),s=lm(i,s,o)}else if(qt||zl(i,s,o,!1),T=(o&i.childLanes)!==0,qt||T){if(T=nt,T!==null){if(u=o&-o,u&42)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=u&(T.suspendedLanes|o)?0:u,u!==0&&u!==V.retryLane)throw V.retryLane=u,Xr(i,u),vn(T,i,u),O_}b.data==="$?"||km(),s=lm(i,s,o)}else b.data==="$?"?(s.flags|=128,s.child=i.child,s=hC.bind(null,i),b._reactRetry=s,s=null):(i=V.treeContext,Yt=mi(b.nextSibling),yn=s,Ke=!0,fi=null,Ii=!1,i!==null&&(Qn[Xn++]=sr,Qn[Xn++]=ar,Qn[Xn++]=ra,sr=i.id,ar=i.overflow,ra=s),s=am(s,u.children),s.flags|=4096);return s}return d?(Zr(),d=u.fallback,b=s.mode,V=i.child,F=V.sibling,u=ls(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&31457280,F!==null?d=ls(F,d):(d=ga(d,b,o,null),d.flags|=2),d.return=s,u.return=s,u.sibling=d,s.child=u,u=d,d=s.child,b=i.child.memoizedState,b===null?b=rm(o):(V=b.cachePool,V!==null?(F=kt._currentValue,V=V.parent!==F?{parent:F,pool:F}:V):V=qv(),b={baseLanes:b.baseLanes|o,cachePool:V}),d.memoizedState=b,d.childLanes=sm(i,T,o),s.memoizedState=im,u):(Wr(s),o=i.child,i=o.sibling,o=ls(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(T=s.deletions,T===null?(s.deletions=[i],s.flags|=16):T.push(i)),s.child=o,s.memoizedState=null,o)}function am(i,s){return s=om({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function om(i,s){return mE(i,s,0,null)}function lm(i,s,o){return oa(s,i.child,null,o),i=am(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function q_(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),fm(i.return,s,o)}function um(i,s,o,u,d){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=d)}function H_(i,s,o){var u=s.pendingProps,d=u.revealOrder,g=u.tail;if(Qt(i,s,u.children,o),u=Mt.current,u&2)u=u&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&q_(i,o,s);else if(i.tag===19)q_(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(He(Mt,u),d){case"forwards":for(o=s.child,d=null;o!==null;)i=o.alternate,i!==null&&Kc(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),um(s,!1,d,o,g);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(i=d.alternate,i!==null&&Kc(i)===null){s.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}um(s,!0,o,null,g);break;case"together":um(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ur(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),us|=s.lanes,!(o&s.childLanes))if(i!==null){if(zl(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=ls(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=ls(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function cm(i,s){return i.lanes&s?!0:(i=i.dependencies,!!(i!==null&&rh(i)))}function W1(i,s,o){switch(s.tag){case 3:Un(s,s.stateNode.containerInfo),ts(s,kt,i.memoizedState.cache),Il();break;case 27:case 5:jn(s);break;case 4:Un(s,s.stateNode.containerInfo);break;case 10:ts(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Wr(s),s.flags|=128,null):o&s.child.childLanes?F_(i,s,o):(Wr(s),i=ur(i,s,o),i!==null?i.sibling:null);Wr(s);break;case 19:var d=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(zl(i,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return H_(i,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),He(Mt,Mt.current),u)break;return null;case 22:case 23:return s.lanes=0,L_(i,s,o);case 24:ts(s,kt,i.memoizedState.cache)}return ur(i,s,o)}function G_(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)qt=!0;else{if(!cm(i,o)&&!(s.flags&128))return qt=!1,W1(i,s,o);qt=!!(i.flags&131072)}else qt=!1,Ke&&s.flags&1048576&&Iv(s,zc,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var u=s.elementType,d=u._init;if(u=d(u._payload),s.type=u,typeof u=="function")bm(u)?(i=fa(u,i),s.tag=1,s=B_(null,s,u,i,o)):(s.tag=0,s=nm(null,s,u,i,o));else{if(u!=null){if(d=u.$$typeof,d===x){s.tag=11,s=N_(null,s,u,i,o);break e}else if(d===L){s.tag=14,s=M_(null,s,u,i,o);break e}}throw s=R(u)||u,Error(r(306,s,""))}}return s;case 0:return nm(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=fa(u,s.pendingProps),B_(i,s,u,d,o);case 3:e:{if(Un(s,s.stateNode.containerInfo),i===null)throw Error(r(387));var g=s.pendingProps;d=s.memoizedState,u=d.element,pm(i,s),Hl(s,g,null,o);var T=s.memoizedState;if(g=T.cache,ts(s,kt,g),g!==d.cache&&dm(s,[kt],o,!0),ql(),g=T.element,d.isDehydrated)if(d={element:g,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=z_(i,s,g,o);break e}else if(g!==u){u=Yn(Error(r(424)),s),Dl(u),s=z_(i,s,g,o);break e}else for(Yt=mi(s.stateNode.containerInfo.firstChild),yn=s,Ke=!0,fi=null,Ii=!0,o=Uv(s,null,g,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Il(),g===u){s=ur(i,s,o);break e}Qt(i,s,g,o)}s=s.child}return s;case 26:return Bl(i,s),i===null?(o=YE(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ke||(o=s.type,i=s.pendingProps,u=Eh(nn.current).createElement(o),u[Bt]=s,u[Vt]=i,Xt(u,o,i),lt(u),s.stateNode=u):s.memoizedState=YE(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return jn(s),i===null&&Ke&&(u=s.stateNode=GE(s.type,s.pendingProps,nn.current),yn=s,Ii=!0,Yt=mi(u.firstChild)),u=s.pendingProps.children,i!==null||Ke?Qt(i,s,u,o):s.child=oa(s,null,u,o),Bl(i,s),s.child;case 5:return i===null&&Ke&&((d=u=Yt)&&(u=CC(u,s.type,s.pendingProps,Ii),u!==null?(s.stateNode=u,yn=s,Yt=mi(u.firstChild),Ii=!1,d=!0):d=!1),d||aa(s)),jn(s),d=s.type,g=s.pendingProps,T=i!==null?i.memoizedProps:null,u=g.children,Xm(d,g)?u=null:T!==null&&Xm(d,T)&&(s.flags|=32),s.memoizedState!==null&&(d=Ud(i,s,H1,null,null,o),su._currentValue=d),Bl(i,s),Qt(i,s,u,o),s.child;case 6:return i===null&&Ke&&((i=o=Yt)&&(o=xC(o,s.pendingProps,Ii),o!==null?(s.stateNode=o,yn=s,Yt=null,i=!0):i=!1),i||aa(s)),null;case 13:return F_(i,s,o);case 4:return Un(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=oa(s,null,u,o):Qt(i,s,u,o),s.child;case 11:return N_(i,s,s.type,s.pendingProps,o);case 7:return Qt(i,s,s.pendingProps,o),s.child;case 8:return Qt(i,s,s.pendingProps.children,o),s.child;case 12:return Qt(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,ts(s,s.type,u.value),Qt(i,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,ma(s),d=an(d),u=u(d),s.flags|=1,Qt(i,s,u,o),s.child;case 14:return M_(i,s,s.type,s.pendingProps,o);case 15:return k_(i,s,s.type,s.pendingProps,o);case 19:return H_(i,s,o);case 22:return L_(i,s,o);case 24:return ma(s),u=an(kt),i===null?(d=kd(),d===null&&(d=nt,g=Nd(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:u,cache:d},mm(s),ts(s,kt,d)):(i.lanes&o&&(pm(i,s),Hl(s,null,null,o),ql()),d=i.memoizedState,g=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),ts(s,kt,u)):(u=g.cache,ts(s,kt,u),u!==d.cache&&dm(s,[kt],o,!0))),Qt(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}var hm=Me(null),da=null,cr=null;function ts(i,s,o){He(hm,s._currentValue),s._currentValue=o}function hr(i){i._currentValue=hm.current,tt(hm)}function fm(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function dm(i,s,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var T=d.child;g=g.firstContext;e:for(;g!==null;){var b=g;g=d;for(var V=0;V<s.length;V++)if(b.context===s[V]){g.lanes|=o,b=g.alternate,b!==null&&(b.lanes|=o),fm(g.return,o,i),u||(T=null);break e}g=b.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(r(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),fm(T,o,i),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===i){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function zl(i,s,o,u){i=null;for(var d=s,g=!1;d!==null;){if(!g){if(d.flags&524288)g=!0;else if(d.flags&262144)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var b=d.type;Dn(d.pendingProps.value,T.value)||(i!==null?i.push(b):i=[b])}}else if(d===Ln.current){if(T=d.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(su):i=[su])}d=d.return}i!==null&&dm(s,i,o,u),s.flags|=262144}function rh(i){for(i=i.firstContext;i!==null;){if(!Dn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ma(i){da=i,cr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function an(i){return K_(da,i)}function sh(i,s){return da===null&&ma(i),K_(i,s)}function K_(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},cr===null){if(i===null)throw Error(r(308));cr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else cr=cr.next=s;return o}var ns=!1;function mm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pm(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function is(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function rs(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,ct&2){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=jc(i),Cv(i,null,o),s}return Uc(i,u,s,o),jc(i)}function Fl(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,Br(i,o)}}function gm(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var ym=!1;function ql(){if(ym){var i=oo;if(i!==null)throw i}}function Hl(i,s,o,u){ym=!1;var d=i.updateQueue;ns=!1;var g=d.firstBaseUpdate,T=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var V=b,F=V.next;V.next=null,T===null?g=F:T.next=F,T=V;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,b=Z.lastBaseUpdate,b!==T&&(b===null?Z.firstBaseUpdate=F:b.next=F,Z.lastBaseUpdate=V))}if(g!==null){var ne=d.baseState;T=0,Z=F=V=null,b=g;do{var Y=b.lane&-536870913,W=Y!==b.lane;if(W?(Fe&Y)===Y:(u&Y)===Y){Y!==0&&Y===ao&&(ym=!0),Z!==null&&(Z=Z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ge=i,Ie=b;Y=s;var _t=o;switch(Ie.tag){case 1:if(ge=Ie.payload,typeof ge=="function"){ne=ge.call(_t,ne,Y);break e}ne=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Ie.payload,Y=typeof ge=="function"?ge.call(_t,ne,Y):ge,Y==null)break e;ne=D({},ne,Y);break e;case 2:ns=!0}}Y=b.callback,Y!==null&&(i.flags|=64,W&&(i.flags|=8192),W=d.callbacks,W===null?d.callbacks=[Y]:W.push(Y))}else W={lane:Y,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Z===null?(F=Z=W,V=ne):Z=Z.next=W,T|=Y;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;W=b,b=W.next,W.next=null,d.lastBaseUpdate=W,d.shared.pending=null}}while(!0);Z===null&&(V=ne),d.baseState=V,d.firstBaseUpdate=F,d.lastBaseUpdate=Z,g===null&&(d.shared.lanes=0),us|=T,i.lanes=T,i.memoizedState=ne}}function $_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Y_(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)$_(o[i],s)}function Gl(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,T=o.inst;u=g(),T.destroy=u}o=o.next}while(o!==d)}}catch(b){et(s,s.return,b)}}function ss(i,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var T=u.inst,b=T.destroy;if(b!==void 0){T.destroy=void 0,d=s;var V=o;try{b()}catch(F){et(d,V,F)}}}u=u.next}while(u!==g)}}catch(F){et(s,s.return,F)}}function Q_(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{Y_(s,o)}catch(u){et(i,i.return,u)}}}function X_(i,s,o){o.props=fa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){et(i,s,u)}}function pa(i,s){try{var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 26:case 27:case 5:var d=u;break;default:d=u}typeof o=="function"?i.refCleanup=o(d):o.current=d}}catch(g){et(i,s,g)}}function Pn(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){et(i,s,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){et(i,s,d)}else o.current=null}function W_(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){et(i,i.return,d)}}function Z_(i,s,o){try{var u=i.stateNode;SC(u,i.type,o,s),u[Vt]=s}catch(d){et(i,i.return,d)}}function J_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function vm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||J_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function _m(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(i,s):o.insertBefore(i,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(i,o)):(s=o,s.appendChild(i)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=_h));else if(u!==4&&u!==27&&(i=i.child,i!==null))for(_m(i,s,o),i=i.sibling;i!==null;)_m(i,s,o),i=i.sibling}function ah(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&u!==27&&(i=i.child,i!==null))for(ah(i,s,o),i=i.sibling;i!==null;)ah(i,s,o),i=i.sibling}var fr=!1,yt=!1,Em=!1,eE=typeof WeakSet=="function"?WeakSet:Set,Ht=null,tE=!1;function Z1(i,s){if(i=i.containerInfo,Ym=Rh,i=vv(i),Sd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,b=-1,V=-1,F=0,Z=0,ne=i,Y=null;t:for(;;){for(var W;ne!==o||d!==0&&ne.nodeType!==3||(b=T+d),ne!==g||u!==0&&ne.nodeType!==3||(V=T+u),ne.nodeType===3&&(T+=ne.nodeValue.length),(W=ne.firstChild)!==null;)Y=ne,ne=W;for(;;){if(ne===i)break t;if(Y===o&&++F===d&&(b=T),Y===g&&++Z===u&&(V=T),(W=ne.nextSibling)!==null)break;ne=Y,Y=ne.parentNode}ne=W}o=b===-1||V===-1?null:{start:b,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(Qm={focusedElem:i,selectionRange:o},Rh=!1,Ht=s;Ht!==null;)if(s=Ht,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Ht=i;else for(;Ht!==null;){switch(s=Ht,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if(i&1024&&g!==null){i=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var ge=fa(o.type,d,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(ge,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Ie){et(o,o.return,Ie)}}break;case 3:if(i&1024){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)Jm(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Jm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(i&1024)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Ht=i;break}Ht=s.return}return ge=tE,tE=!1,ge}function nE(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:mr(i,o),u&4&&Gl(5,o);break;case 1:if(mr(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(b){et(o,o.return,b)}else{var d=fa(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(d,s,i.__reactInternalSnapshotBeforeUpdate)}catch(b){et(o,o.return,b)}}u&64&&Q_(o),u&512&&pa(o,o.return);break;case 3:if(mr(i,o),u&64&&(u=o.updateQueue,u!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Y_(u,i)}catch(b){et(o,o.return,b)}}break;case 26:mr(i,o),u&512&&pa(o,o.return);break;case 27:case 5:mr(i,o),s===null&&u&4&&W_(o),u&512&&pa(o,o.return);break;case 12:mr(i,o);break;case 13:mr(i,o),u&4&&sE(i,o);break;case 22:if(d=o.memoizedState!==null||fr,!d){s=s!==null&&s.memoizedState!==null||yt;var g=fr,T=yt;fr=d,(yt=s)&&!T?as(i,o,(o.subtreeFlags&8772)!==0):mr(i,o),fr=g,yt=T}u&512&&(o.memoizedProps.mode==="manual"?pa(o,o.return):Pn(o,o.return));break;default:mr(i,o)}}function iE(i){var s=i.alternate;s!==null&&(i.alternate=null,iE(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Gs(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var It=null,Vn=!1;function dr(i,s,o){for(o=o.child;o!==null;)rE(i,s,o),o=o.sibling}function rE(i,s,o){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Mr,o)}catch{}switch(o.tag){case 26:yt||Pn(o,s),dr(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:yt||Pn(o,s);var u=It,d=Vn;for(It=o.stateNode,dr(i,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);Gs(o),It=u,Vn=d;break;case 5:yt||Pn(o,s);case 6:d=It;var g=Vn;if(It=null,dr(i,s,o),It=d,Vn=g,It!==null)if(Vn)try{i=It,u=o.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)}catch(T){et(o,s,T)}else try{It.removeChild(o.stateNode)}catch(T){et(o,s,T)}break;case 18:It!==null&&(Vn?(s=It,o=o.stateNode,s.nodeType===8?Zm(s.parentNode,o):s.nodeType===1&&Zm(s,o),uu(s)):Zm(It,o.stateNode));break;case 4:u=It,d=Vn,It=o.stateNode.containerInfo,Vn=!0,dr(i,s,o),It=u,Vn=d;break;case 0:case 11:case 14:case 15:yt||ss(2,o,s),yt||ss(4,o,s),dr(i,s,o);break;case 1:yt||(Pn(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&X_(o,s,u)),dr(i,s,o);break;case 21:dr(i,s,o);break;case 22:yt||Pn(o,s),yt=(u=yt)||o.memoizedState!==null,dr(i,s,o),yt=u;break;default:dr(i,s,o)}}function sE(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{uu(i)}catch(o){et(s,s.return,o)}}function J1(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new eE),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new eE),s;default:throw Error(r(435,i.tag))}}function Tm(i,s){var o=J1(i);s.forEach(function(u){var d=fC.bind(null,i,u);o.has(u)||(o.add(u),u.then(d,d))})}function Zn(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,T=s,b=T;e:for(;b!==null;){switch(b.tag){case 27:case 5:It=b.stateNode,Vn=!1;break e;case 3:It=b.stateNode.containerInfo,Vn=!0;break e;case 4:It=b.stateNode.containerInfo,Vn=!0;break e}b=b.return}if(It===null)throw Error(r(160));rE(g,T,d),It=null,Vn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)aE(s,i),s=s.sibling}var di=null;function aE(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Zn(s,i),Jn(i),u&4&&(ss(3,i,i.return),Gl(3,i),ss(5,i,i.return));break;case 1:Zn(s,i),Jn(i),u&512&&(yt||o===null||Pn(o,o.return)),u&64&&fr&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=di;if(Zn(s,i),Jn(i),u&512&&(yt||o===null||Pn(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Fr]||g[Bt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),Xt(g,u,o),g[Bt]=i,lt(g),u=g;break e;case"link":var T=WE("link","href",d).get(u+(o.href||""));if(T){for(var b=0;b<T.length;b++)if(g=T[b],g.getAttribute("href")===(o.href==null?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(b,1);break t}}g=d.createElement(u),Xt(g,u,o),d.head.appendChild(g);break;case"meta":if(T=WE("meta","content",d).get(u+(o.content||""))){for(b=0;b<T.length;b++)if(g=T[b],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(b,1);break t}}g=d.createElement(u),Xt(g,u,o),d.head.appendChild(g);break;default:throw Error(r(468,u))}g[Bt]=i,lt(g),u=g}i.stateNode=u}else ZE(d,i.type,i.stateNode);else i.stateNode=XE(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?ZE(d,i.type,i.stateNode):XE(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Z_(i,i.memoizedProps,o.memoizedProps)}break;case 27:if(u&4&&i.alternate===null){d=i.stateNode,g=i.memoizedProps;try{for(var V=d.firstChild;V;){var F=V.nextSibling,Z=V.nodeName;V[Fr]||Z==="HEAD"||Z==="BODY"||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&V.rel.toLowerCase()==="stylesheet"||d.removeChild(V),V=F}for(var ne=i.type,Y=d.attributes;Y.length;)d.removeAttributeNode(Y[0]);Xt(d,ne,g),d[Bt]=i,d[Vt]=g}catch(ge){et(i,i.return,ge)}}case 5:if(Zn(s,i),Jn(i),u&512&&(yt||o===null||Pn(o,o.return)),i.flags&32){d=i.stateNode;try{qn(d,"")}catch(ge){et(i,i.return,ge)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,Z_(i,d,o!==null?o.memoizedProps:d)),u&1024&&(Em=!0);break;case 6:if(Zn(s,i),Jn(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(ge){et(i,i.return,ge)}}break;case 3:if(Ah=null,d=di,di=Th(s.containerInfo),Zn(s,i),di=d,Jn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{uu(s.containerInfo)}catch(ge){et(i,i.return,ge)}Em&&(Em=!1,oE(i));break;case 4:u=di,di=Th(i.stateNode.containerInfo),Zn(s,i),Jn(i),di=u;break;case 12:Zn(s,i),Jn(i);break;case 13:Zn(s,i),Jn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Dm=st()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Tm(i,u)));break;case 22:if(u&512&&(yt||o===null||Pn(o,o.return)),V=i.memoizedState!==null,F=o!==null&&o.memoizedState!==null,Z=fr,ne=yt,fr=Z||V,yt=ne||F,Zn(s,i),yt=ne,fr=Z,Jn(i),s=i.stateNode,s._current=i,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,u&8192&&(s._visibility=V?s._visibility&-2:s._visibility|1,V&&(s=fr||yt,o===null||F||s||ho(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(o=null,s=i;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){F=o=s;try{if(d=F.stateNode,V)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=F.stateNode,b=F.memoizedProps.style;var W=b!=null&&b.hasOwnProperty("display")?b.display:null;T.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(ge){et(F,F.return,ge)}}}else if(s.tag===6){if(o===null){F=s;try{F.stateNode.nodeValue=V?"":F.memoizedProps}catch(ge){et(F,F.return,ge)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Tm(i,o))));break;case 19:Zn(s,i),Jn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Tm(i,u)));break;case 21:break;default:Zn(s,i),Jn(i)}}function Jn(i){var s=i.flags;if(s&2){try{if(i.tag!==27){e:{for(var o=i.return;o!==null;){if(J_(o)){var u=o;break e}o=o.return}throw Error(r(160))}switch(u.tag){case 27:var d=u.stateNode,g=vm(i);ah(i,g,d);break;case 5:var T=u.stateNode;u.flags&32&&(qn(T,""),u.flags&=-33);var b=vm(i);ah(i,b,T);break;case 3:case 4:var V=u.stateNode.containerInfo,F=vm(i);_m(i,F,V);break;default:throw Error(r(161))}}}catch(Z){et(i,i.return,Z)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function oE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;oE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function mr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)nE(i,s.alternate,s),s=s.sibling}function ho(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ss(4,s,s.return),ho(s);break;case 1:Pn(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&X_(s,s.return,o),ho(s);break;case 26:case 27:case 5:Pn(s,s.return),ho(s);break;case 22:Pn(s,s.return),s.memoizedState===null&&ho(s);break;default:ho(s)}i=i.sibling}}function as(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=i,g=s,T=g.flags;switch(g.tag){case 0:case 11:case 15:as(d,g,o),Gl(4,g);break;case 1:if(as(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(F){et(u,u.return,F)}if(u=g,d=u.updateQueue,d!==null){var b=u.stateNode;try{var V=d.shared.hiddenCallbacks;if(V!==null)for(d.shared.hiddenCallbacks=null,d=0;d<V.length;d++)$_(V[d],b)}catch(F){et(u,u.return,F)}}o&&T&64&&Q_(g),pa(g,g.return);break;case 26:case 27:case 5:as(d,g,o),o&&u===null&&T&4&&W_(g),pa(g,g.return);break;case 12:as(d,g,o);break;case 13:as(d,g,o),o&&T&4&&sE(d,g);break;case 22:g.memoizedState===null&&as(d,g,o),pa(g,g.return);break;default:as(d,g,o)}s=s.sibling}}function Sm(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Ml(o))}function Am(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ml(i))}function os(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)lE(i,s,o,u),s=s.sibling}function lE(i,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:os(i,s,o,u),d&2048&&Gl(9,s);break;case 3:os(i,s,o,u),d&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ml(i)));break;case 12:if(d&2048){os(i,s,o,u),i=s.stateNode;try{var g=s.memoizedProps,T=g.id,b=g.onPostCommit;typeof b=="function"&&b(T,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){et(s,s.return,V)}}else os(i,s,o,u);break;case 23:break;case 22:g=s.stateNode,s.memoizedState!==null?g._visibility&4?os(i,s,o,u):Kl(i,s):g._visibility&4?os(i,s,o,u):(g._visibility|=4,fo(i,s,o,u,(s.subtreeFlags&10256)!==0)),d&2048&&Sm(s.alternate,s);break;case 24:os(i,s,o,u),d&2048&&Am(s.alternate,s);break;default:os(i,s,o,u)}}function fo(i,s,o,u,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,T=s,b=o,V=u,F=T.flags;switch(T.tag){case 0:case 11:case 15:fo(g,T,b,V,d),Gl(8,T);break;case 23:break;case 22:var Z=T.stateNode;T.memoizedState!==null?Z._visibility&4?fo(g,T,b,V,d):Kl(g,T):(Z._visibility|=4,fo(g,T,b,V,d)),d&&F&2048&&Sm(T.alternate,T);break;case 24:fo(g,T,b,V,d),d&&F&2048&&Am(T.alternate,T);break;default:fo(g,T,b,V,d)}s=s.sibling}}function Kl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,d=u.flags;switch(u.tag){case 22:Kl(o,u),d&2048&&Sm(u.alternate,u);break;case 24:Kl(o,u),d&2048&&Am(u.alternate,u);break;default:Kl(o,u)}s=s.sibling}}var $l=8192;function mo(i){if(i.subtreeFlags&$l)for(i=i.child;i!==null;)uE(i),i=i.sibling}function uE(i){switch(i.tag){case 26:mo(i),i.flags&$l&&i.memoizedState!==null&&zC(di,i.memoizedState,i.memoizedProps);break;case 5:mo(i);break;case 3:case 4:var s=di;di=Th(i.stateNode.containerInfo),mo(i),di=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=$l,$l=16777216,mo(i),$l=s):mo(i));break;default:mo(i)}}function cE(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Yl(i){var s=i.deletions;if(i.flags&16){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Ht=u,fE(u,i)}cE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)hE(i),i=i.sibling}function hE(i){switch(i.tag){case 0:case 11:case 15:Yl(i),i.flags&2048&&ss(9,i,i.return);break;case 3:Yl(i);break;case 12:Yl(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&4&&(i.return===null||i.return.tag!==13)?(s._visibility&=-5,oh(i)):Yl(i);break;default:Yl(i)}}function oh(i){var s=i.deletions;if(i.flags&16){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Ht=u,fE(u,i)}cE(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ss(8,s,s.return),oh(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,oh(s));break;default:oh(s)}i=i.sibling}}function fE(i,s){for(;Ht!==null;){var o=Ht;switch(o.tag){case 0:case 11:case 15:ss(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ml(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ht=u;else e:for(o=i;Ht!==null;){u=Ht;var d=u.sibling,g=u.return;if(iE(u),u===o){Ht=null;break e}if(d!==null){d.return=g,Ht=d;break e}Ht=g}}}function eC(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ei(i,s,o,u){return new eC(i,s,o,u)}function bm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ls(i,s){var o=i.alternate;return o===null?(o=ei(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&31457280,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function dE(i,s){i.flags&=31457282;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function lh(i,s,o,u,d,g){var T=0;if(u=i,typeof i=="function")bm(i)&&(T=1);else if(typeof i=="string")T=jC(i,o,mt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case m:return ga(o.children,d,g,s);case p:T=8,d|=24;break;case y:return i=ei(12,o,s,d|2),i.elementType=y,i.lanes=g,i;case k:return i=ei(13,o,s,d),i.elementType=k,i.lanes=g,i;case O:return i=ei(19,o,s,d),i.elementType=O,i.lanes=g,i;case H:return mE(o,d,g,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case _:case A:T=10;break e;case S:T=9;break e;case x:T=11;break e;case L:T=14;break e;case K:T=16,u=null;break e}T=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=ei(T,o,s,d),s.elementType=i,s.type=u,s.lanes=g,s}function ga(i,s,o,u){return i=ei(7,i,u,s),i.lanes=o,i}function mE(i,s,o,u){i=ei(22,i,u,s),i.elementType=H,i.lanes=o;var d={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=d._current;if(g===null)throw Error(r(456));if(!(d._pendingVisibility&2)){var T=Xr(g,2);T!==null&&(d._pendingVisibility|=2,vn(T,g,2))}},attach:function(){var g=d._current;if(g===null)throw Error(r(456));if(d._pendingVisibility&2){var T=Xr(g,2);T!==null&&(d._pendingVisibility&=-3,vn(T,g,2))}}};return i.stateNode=d,i}function wm(i,s,o){return i=ei(6,i,null,s),i.lanes=o,i}function Rm(i,s,o){return s=ei(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function pr(i){i.flags|=4}function pE(i,s){if(s.type!=="stylesheet"||s.state.loading&4)i.flags&=-16777217;else if(i.flags|=16777216,!JE(s)){if(s=Wn.current,s!==null&&((Fe&4194176)===Fe?Di!==null:(Fe&62914560)!==Fe&&!(Fe&536870912)||s!==Di))throw Vl=Pd,Vv;i.flags|=8192}}function uh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Ur():536870912,i.lanes|=s,go|=s)}function Ql(i,s){if(!Ke)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ut(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&31457280,u|=d.flags&31457280,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function tC(i,s,o){var u=s.pendingProps;switch(Id(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(s),null;case 1:return ut(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),hr(kt),rn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(xl(s)?pr(s):i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,fi!==null&&(Nm(fi),fi=null))),ut(s),null;case 26:return o=s.memoizedState,i===null?(pr(s),o!==null?(ut(s),pE(s,o)):(ut(s),s.flags&=-16777217)):o?o!==i.memoizedState?(pr(s),ut(s),pE(s,o)):(ut(s),s.flags&=-16777217):(i.memoizedProps!==u&&pr(s),ut(s),s.flags&=-16777217),null;case 27:li(s),o=nn.current;var d=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&pr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return ut(s),null}i=mt.current,xl(s)?Dv(s):(i=GE(d,u,o),s.stateNode=i,pr(s))}return ut(s),null;case 5:if(li(s),o=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&pr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return ut(s),null}if(i=mt.current,xl(s))Dv(s);else{switch(d=Eh(nn.current),i){case 1:i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=d.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}i[Bt]=s,i[Vt]=u;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=i;e:switch(Xt(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&pr(s)}}return ut(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&pr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=nn.current,xl(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,d=yn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[Bt]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||jE(i.nodeValue,o)),i||aa(s)}else i=Eh(i).createTextNode(u),i[Bt]=s,s.stateNode=i}return ut(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=xl(s),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(r(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Bt]=s}else Il(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;ut(s),d=!1}else fi!==null&&(Nm(fi),fi=null),d=!0;if(!d)return s.flags&256?(or(s),s):(or(s),null)}if(or(s),s.flags&128)return s.lanes=o,s;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return o!==i&&o&&(s.child.flags|=8192),uh(s,s.updateQueue),ut(s),null;case 4:return rn(),i===null&&Gm(s.stateNode.containerInfo),ut(s),null;case 10:return hr(s.type),ut(s),null;case 19:if(tt(Mt),d=s.memoizedState,d===null)return ut(s),null;if(u=(s.flags&128)!==0,g=d.rendering,g===null)if(u)Ql(d,!1);else{if(vt!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(g=Kc(i),g!==null){for(s.flags|=128,Ql(d,!1),i=g.updateQueue,s.updateQueue=i,uh(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)dE(o,i),o=o.sibling;return He(Mt,Mt.current&1|2),s.child}i=i.sibling}d.tail!==null&&st()>ch&&(s.flags|=128,u=!0,Ql(d,!1),s.lanes=4194304)}else{if(!u)if(i=Kc(g),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,uh(s,i),Ql(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Ke)return ut(s),null}else 2*st()-d.renderingStartTime>ch&&o!==536870912&&(s.flags|=128,u=!0,Ql(d,!1),s.lanes=4194304);d.isBackwards?(g.sibling=s.child,s.child=g):(i=d.last,i!==null?i.sibling=g:s.child=g,d.last=g)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=st(),s.sibling=null,i=Mt.current,He(Mt,u?i&1|2:i&1),s):(ut(s),null);case 22:case 23:return or(s),Od(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?o&536870912&&!(s.flags&128)&&(ut(s),s.subtreeFlags&6&&(s.flags|=8192)):ut(s),o=s.updateQueue,o!==null&&uh(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&tt(la),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),hr(kt),ut(s),null;case 25:return null}throw Error(r(156,s.tag))}function nC(i,s){switch(Id(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return hr(kt),rn(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return li(s),null;case 13:if(or(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Il()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return tt(Mt),null;case 4:return rn(),null;case 10:return hr(s.type),null;case 22:case 23:return or(s),Od(),i!==null&&tt(la),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return hr(kt),null;case 25:return null;default:return null}}function gE(i,s){switch(Id(s),s.tag){case 3:hr(kt),rn();break;case 26:case 27:case 5:li(s);break;case 4:rn();break;case 13:or(s);break;case 19:tt(Mt);break;case 10:hr(s.type);break;case 22:case 23:or(s),Od(),i!==null&&tt(la);break;case 24:hr(kt)}}var iC={getCacheForType:function(i){var s=an(kt),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o}},rC=typeof WeakMap=="function"?WeakMap:Map,ct=0,nt=null,Ne=null,Fe=0,it=0,On=null,gr=!1,po=!1,Cm=!1,yr=0,vt=0,us=0,ya=0,xm=0,ti=0,go=0,Xl=null,Vi=null,Im=!1,Dm=0,ch=1/0,hh=null,cs=null,fh=!1,va=null,Wl=0,Pm=0,Vm=null,Zl=0,Om=null;function Nn(){if(ct&2&&Fe!==0)return Fe&-Fe;if(w.T!==null){var i=ao;return i!==0?i:zm()}return vc()}function yE(){ti===0&&(ti=!(Fe&536870912)||Ke?cl():536870912);var i=Wn.current;return i!==null&&(i.flags|=32),ti}function vn(i,s,o){(i===nt&&it===2||i.cancelPendingCommit!==null)&&(yo(i,0),vr(i,Fe,ti,!1)),St(i,o),(!(ct&2)||i!==nt)&&(i===nt&&(!(ct&2)&&(ya|=o),vt===4&&vr(i,Fe,ti,!1)),Oi(i))}function vE(i,s,o){if(ct&6)throw Error(r(327));var u=!o&&(s&60)===0&&(s&i.expiredLanes)===0||Lr(i,s),d=u?oC(i,s):Lm(i,s,!0),g=u;do{if(d===0){po&&!u&&vr(i,s,0,!1);break}else if(d===6)vr(i,s,0,!gr);else{if(o=i.current.alternate,g&&!sC(o)){d=Lm(i,s,!1),g=!1;continue}if(d===2){if(g=s,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var b=i;d=Xl;var V=b.current.memoizedState.isDehydrated;if(V&&(yo(b,T).flags|=256),T=Lm(b,T,!1),T!==2){if(Cm&&!V){b.errorRecoveryDisabledLanes|=g,ya|=g,d=4;break e}g=Vi,Vi=d,g!==null&&Nm(g)}d=T}if(g=!1,d!==2)continue}}if(d===1){yo(i,0),vr(i,s,0,!0);break}e:{switch(u=i,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194176)===s){vr(u,s,ti,!gr);break e}break;case 2:Vi=null;break;case 3:case 5:break;default:throw Error(r(329))}if(u.finishedWork=o,u.finishedLanes=s,(s&62914560)===s&&(g=Dm+300-st(),10<g)){if(vr(u,s,ti,!gr),zn(u,0)!==0)break e;u.timeoutHandle=FE(_E.bind(null,u,o,Vi,hh,Im,s,ti,ya,go,gr,2,-0,0),g);break e}_E(u,o,Vi,hh,Im,s,ti,ya,go,gr,0,-0,0)}}break}while(!0);Oi(i)}function Nm(i){Vi===null?Vi=i:Vi.push.apply(Vi,i)}function _E(i,s,o,u,d,g,T,b,V,F,Z,ne,Y){var W=s.subtreeFlags;if((W&8192||(W&16785408)===16785408)&&(ru={stylesheets:null,count:0,unsuspend:BC},uE(s),s=FC(),s!==null)){i.cancelPendingCommit=s(RE.bind(null,i,o,u,d,T,b,V,1,ne,Y)),vr(i,g,T,!F);return}RE(i,o,u,d,T,b,V,Z,ne,Y)}function sC(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!Dn(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function vr(i,s,o,u){s&=~xm,s&=~ya,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var d=s;0<d;){var g=31-mn(d),T=1<<g;u[g]=-1,d&=~T}o!==0&&jr(i,o,s)}function dh(){return ct&6?!0:(Jl(0),!1)}function Mm(){if(Ne!==null){if(it===0)var i=Ne.return;else i=Ne,cr=da=null,zd(i),ro=null,Ol=0,i=Ne;for(;i!==null;)gE(i.alternate,i),i=i.return;Ne=null}}function yo(i,s){i.finishedWork=null,i.finishedLanes=0;var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,bC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Mm(),nt=i,Ne=o=ls(i.current,null),Fe=s,it=0,On=null,gr=!1,po=Lr(i,s),Cm=!1,go=ti=xm=ya=us=vt=0,Vi=Xl=null,Im=!1,s&8&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var d=31-mn(u),g=1<<d;s|=i[d],u&=~g}return yr=s,Lc(),o}function EE(i,s){Ve=null,w.H=Pi,s===Pl?(s=Mv(),it=3):s===Vv?(s=Mv(),it=4):it=s===O_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,On=s,Ne===null&&(vt=1,ih(i,Yn(s,i.current)))}function TE(){var i=w.H;return w.H=Pi,i===null?Pi:i}function SE(){var i=w.A;return w.A=iC,i}function km(){vt=4,gr||(Fe&4194176)!==Fe&&Wn.current!==null||(po=!0),!(us&134217727)&&!(ya&134217727)||nt===null||vr(nt,Fe,ti,!1)}function Lm(i,s,o){var u=ct;ct|=2;var d=TE(),g=SE();(nt!==i||Fe!==s)&&(hh=null,yo(i,s)),s=!1;var T=vt;e:do try{if(it!==0&&Ne!==null){var b=Ne,V=On;switch(it){case 8:Mm(),T=6;break e;case 3:case 2:case 6:Wn.current===null&&(s=!0);var F=it;if(it=0,On=null,vo(i,b,V,F),o&&po){T=0;break e}break;default:F=it,it=0,On=null,vo(i,b,V,F)}}aC(),T=vt;break}catch(Z){EE(i,Z)}while(!0);return s&&i.shellSuspendCounter++,cr=da=null,ct=u,w.H=d,w.A=g,Ne===null&&(nt=null,Fe=0,Lc()),T}function aC(){for(;Ne!==null;)AE(Ne)}function oC(i,s){var o=ct;ct|=2;var u=TE(),d=SE();nt!==i||Fe!==s?(hh=null,ch=st()+500,yo(i,s)):po=Lr(i,s);e:do try{if(it!==0&&Ne!==null){s=Ne;var g=On;t:switch(it){case 1:it=0,On=null,vo(i,s,g,1);break;case 2:if(Ov(g)){it=0,On=null,bE(s);break}s=function(){it===2&&nt===i&&(it=7),Oi(i)},g.then(s,s);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:Ov(g)?(it=0,On=null,bE(s)):(it=0,On=null,vo(i,s,g,7));break;case 5:var T=null;switch(Ne.tag){case 26:T=Ne.memoizedState;case 5:case 27:var b=Ne;if(!T||JE(T)){it=0,On=null;var V=b.sibling;if(V!==null)Ne=V;else{var F=b.return;F!==null?(Ne=F,mh(F)):Ne=null}break t}}it=0,On=null,vo(i,s,g,5);break;case 6:it=0,On=null,vo(i,s,g,6);break;case 8:Mm(),vt=6;break e;default:throw Error(r(462))}}lC();break}catch(Z){EE(i,Z)}while(!0);return cr=da=null,w.H=u,w.A=d,ct=o,Ne!==null?0:(nt=null,Fe=0,Lc(),vt)}function lC(){for(;Ne!==null&&!Nr();)AE(Ne)}function AE(i){var s=G_(i.alternate,i,yr);i.memoizedProps=i.pendingProps,s===null?mh(i):Ne=s}function bE(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=j_(o,s,s.pendingProps,s.type,void 0,Fe);break;case 11:s=j_(o,s,s.pendingProps,s.type.render,s.ref,Fe);break;case 5:zd(s);default:gE(o,s),s=Ne=dE(s,yr),s=G_(o,s,yr)}i.memoizedProps=i.pendingProps,s===null?mh(i):Ne=s}function vo(i,s,o,u){cr=da=null,zd(s),ro=null,Ol=0;var d=s.return;try{if(X1(i,d,s,o,Fe)){vt=1,ih(i,Yn(o,i.current)),Ne=null;return}}catch(g){if(d!==null)throw Ne=d,g;vt=1,ih(i,Yn(o,i.current)),Ne=null;return}s.flags&32768?(Ke||u===1?i=!0:po||Fe&536870912?i=!1:(gr=i=!0,(u===2||u===3||u===6)&&(u=Wn.current,u!==null&&u.tag===13&&(u.flags|=16384))),wE(s,i)):mh(s)}function mh(i){var s=i;do{if(s.flags&32768){wE(s,gr);return}i=s.return;var o=tC(s.alternate,s,yr);if(o!==null){Ne=o;return}if(s=s.sibling,s!==null){Ne=s;return}Ne=s=i}while(s!==null);vt===0&&(vt=5)}function wE(i,s){do{var o=nC(i.alternate,i);if(o!==null){o.flags&=32767,Ne=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Ne=i;return}Ne=i=o}while(i!==null);vt=6,Ne=null}function RE(i,s,o,u,d,g,T,b,V,F){var Z=w.T,ne=ce.p;try{ce.p=2,w.T=null,uC(i,s,o,u,ne,d,g,T,b,V,F)}finally{w.T=Z,ce.p=ne}}function uC(i,s,o,u,d,g,T,b){do _o();while(va!==null);if(ct&6)throw Error(r(327));var V=i.finishedWork;if(u=i.finishedLanes,V===null)return null;if(i.finishedWork=null,i.finishedLanes=0,V===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var F=V.lanes|V.childLanes;if(F|=Rd,gc(i,u,F,g,T,b),i===nt&&(Ne=nt=null,Fe=0),!(V.subtreeFlags&10256)&&!(V.flags&10256)||fh||(fh=!0,Pm=F,Vm=o,dC(Qi,function(){return _o(),null})),o=(V.flags&15990)!==0,V.subtreeFlags&15990||o?(o=w.T,w.T=null,g=ce.p,ce.p=2,T=ct,ct|=4,Z1(i,V),aE(V,i),O1(Qm,i.containerInfo),Rh=!!Ym,Qm=Ym=null,i.current=V,nE(i,V.alternate,V),Je(),ct=T,ce.p=g,w.T=o):i.current=V,fh?(fh=!1,va=i,Wl=u):CE(i,F),F=i.pendingLanes,F===0&&(cs=null),ll(V.stateNode),Oi(i),s!==null)for(d=i.onRecoverableError,V=0;V<s.length;V++)F=s[V],d(F.value,{componentStack:F.stack});return Wl&3&&_o(),F=i.pendingLanes,u&4194218&&F&42?i===Om?Zl++:(Zl=0,Om=i):Zl=0,Jl(0),null}function CE(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Ml(s)))}function _o(){if(va!==null){var i=va,s=Pm;Pm=0;var o=yc(Wl),u=w.T,d=ce.p;try{if(ce.p=32>o?32:o,w.T=null,va===null)var g=!1;else{o=Vm,Vm=null;var T=va,b=Wl;if(va=null,Wl=0,ct&6)throw Error(r(331));var V=ct;if(ct|=4,hE(T.current),lE(T,T.current,b,o),ct=V,Jl(0,!1),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Mr,T)}catch{}g=!0}return g}finally{ce.p=d,w.T=u,CE(i,s)}}return!1}function xE(i,s,o){s=Yn(o,s),s=tm(i.stateNode,s,2),i=rs(i,s,2),i!==null&&(St(i,2),Oi(i))}function et(i,s,o){if(i.tag===3)xE(i,i,o);else for(;s!==null;){if(s.tag===3){xE(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(cs===null||!cs.has(u))){i=Yn(o,i),o=P_(2),u=rs(s,o,2),u!==null&&(V_(o,u,s,i),St(u,2),Oi(u));break}}s=s.return}}function Um(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new rC;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(Cm=!0,d.add(o),i=cC.bind(null,i,s,o),s.then(i,i))}function cC(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,nt===i&&(Fe&o)===o&&(vt===4||vt===3&&(Fe&62914560)===Fe&&300>st()-Dm?!(ct&2)&&yo(i,0):xm|=o,go===Fe&&(go=0)),Oi(i)}function IE(i,s){s===0&&(s=Ur()),i=Xr(i,s),i!==null&&(St(i,s),Oi(i))}function hC(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),IE(i,o)}function fC(i,s){var o=0;switch(i.tag){case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),IE(i,o)}function dC(i,s){return Tn(i,s)}var ph=null,Eo=null,jm=!1,gh=!1,Bm=!1,_a=0;function Oi(i){i!==Eo&&i.next===null&&(Eo===null?ph=Eo=i:Eo=Eo.next=i),gh=!0,jm||(jm=!0,pC(mC))}function Jl(i,s){if(!Bm&&gh){Bm=!0;do for(var o=!1,u=ph;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var T=u.suspendedLanes,b=u.pingedLanes;g=(1<<31-mn(42|i)+1)-1,g&=d&~(T&~b),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(o=!0,VE(u,g))}else g=Fe,g=zn(u,u===nt?g:0),!(g&3)||Lr(u,g)||(o=!0,VE(u,g));u=u.next}while(o);Bm=!1}}function mC(){gh=jm=!1;var i=0;_a!==0&&(AC()&&(i=_a),_a=0);for(var s=st(),o=null,u=ph;u!==null;){var d=u.next,g=DE(u,s);g===0?(u.next=null,o===null?ph=d:o.next=d,d===null&&(Eo=o)):(o=u,(i!==0||g&3)&&(gh=!0)),u=d}Jl(i)}function DE(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-mn(g),b=1<<T,V=d[T];V===-1?(!(b&o)||b&u)&&(d[T]=La(b,s)):V<=s&&(i.expiredLanes|=b),g&=~b}if(s=nt,o=Fe,o=zn(i,i===s?o:0),u=i.callbackNode,o===0||i===s&&it===2||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Cn(u),i.callbackNode=null,i.callbackPriority=0;if(!(o&3)||Lr(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&Cn(u),yc(o)){case 2:case 8:o=jt;break;case 32:o=Qi;break;case 268435456:o=ol;break;default:o=Qi}return u=PE.bind(null,i),o=Tn(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&Cn(u),i.callbackPriority=2,i.callbackNode=null,2}function PE(i,s){var o=i.callbackNode;if(_o()&&i.callbackNode!==o)return null;var u=Fe;return u=zn(i,i===nt?u:0),u===0?null:(vE(i,u,s),DE(i,st()),i.callbackNode!=null&&i.callbackNode===o?PE.bind(null,i):null)}function VE(i,s){if(_o())return null;vE(i,s,!0)}function pC(i){wC(function(){ct&6?Tn(pt,i):i()})}function zm(){return _a===0&&(_a=cl()),_a}function OE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Si(""+i)}function NE(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function gC(i,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var g=OE((d[Vt]||null).action),T=u.submitter;T&&(s=(s=T[Vt]||null)?OE(s.formAction):T.getAttribute("formAction"),s!==null&&(g=s,T=null));var b=new Ha("action","action",null,u,d);i.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(_a!==0){var V=T?NE(d,T):new FormData(d);Xd(o,{pending:!0,data:V,method:d.method,action:g},null,V)}}else typeof g=="function"&&(b.preventDefault(),V=T?NE(d,T):new FormData(d),Xd(o,{pending:!0,data:V,method:d.method,action:g},g,V))},currentTarget:d}]})}}for(var Fm=0;Fm<Rv.length;Fm++){var qm=Rv[Fm],yC=qm.toLowerCase(),vC=qm[0].toUpperCase()+qm.slice(1);hi(yC,"on"+vC)}hi(Tv,"onAnimationEnd"),hi(Sv,"onAnimationIteration"),hi(Av,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(M1,"onTransitionRun"),hi(k1,"onTransitionStart"),hi(L1,"onTransitionCancel"),hi(bv,"onTransitionEnd"),Sn("onMouseEnter",["mouseout","mouseover"]),Sn("onMouseLeave",["mouseout","mouseover"]),Sn("onPointerEnter",["pointerout","pointerover"]),Sn("onPointerLeave",["pointerout","pointerover"]),xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_C=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eu));function ME(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var T=u.length-1;0<=T;T--){var b=u[T],V=b.instance,F=b.currentTarget;if(b=b.listener,V!==g&&d.isPropagationStopped())break e;g=b,d.currentTarget=F;try{g(d)}catch(Z){nh(Z)}d.currentTarget=null,g=V}else for(T=0;T<u.length;T++){if(b=u[T],V=b.instance,F=b.currentTarget,b=b.listener,V!==g&&d.isPropagationStopped())break e;g=b,d.currentTarget=F;try{g(d)}catch(Z){nh(Z)}d.currentTarget=null,g=V}}}}function Ue(i,s){var o=s[Hs];o===void 0&&(o=s[Hs]=new Set);var u=i+"__bubble";o.has(u)||(kE(s,i,2,!1),o.add(u))}function Hm(i,s,o){var u=0;s&&(u|=4),kE(o,i,u,s)}var yh="_reactListening"+Math.random().toString(36).slice(2);function Gm(i){if(!i[yh]){i[yh]=!0,fl.forEach(function(o){o!=="selectionchange"&&(_C.has(o)||Hm(o,!1,i),Hm(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[yh]||(s[yh]=!0,Hm("selectionchange",!1,s))}}function kE(i,s,o,u){switch(sT(s)){case 2:var d=GC;break;case 8:d=KC;break;default:d=rp}o=d.bind(null,s,o,i),d=void 0,!Gn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(s,o,{capture:!0,passive:d}):i.addEventListener(s,o,!0):d!==void 0?i.addEventListener(s,o,{passive:d}):i.addEventListener(s,o,!1)}function Km(i,s,o,u,d){var g=u;if(!(s&1)&&!(s&2)&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var b=u.stateNode.containerInfo;if(b===d||b.nodeType===8&&b.parentNode===d)break;if(T===4)for(T=u.return;T!==null;){var V=T.tag;if((V===3||V===4)&&(V=T.stateNode.containerInfo,V===d||V.nodeType===8&&V.parentNode===d))return;T=T.return}for(;b!==null;){if(T=ci(b),T===null)return;if(V=T.tag,V===5||V===6||V===26||V===27){u=g=T;continue e}b=b.parentNode}}u=u.return}Sc(function(){var F=g,Z=qa(o),ne=[];e:{var Y=wv.get(i);if(Y!==void 0){var W=Ha,ge=i;switch(i){case"keypress":if(bi(o)===0)break e;case"keydown":case"keyup":W=Xa;break;case"focusin":ge="focus",W=$a;break;case"focusout":ge="blur",W=$a;break;case"beforeblur":case"afterblur":W=$a;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Kn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=vd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Dc;break;case Tv:case Sv:case Av:W=Ya;break;case bv:W=Vc;break;case"scroll":case"scrollend":W=Ac;break;case"wheel":W=Wa;break;case"copy":case"cut":case"paste":W=Qa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=bl;break;case"toggle":case"beforetoggle":W=Nc}var Ie=(s&4)!==0,_t=!Ie&&(i==="scroll"||i==="scrollend"),q=Ie?Y!==null?Y+"Capture":null:Y;Ie=[];for(var z=F,$;z!==null;){var J=z;if($=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||$===null||q===null||(J=Qs(z,q),J!=null&&Ie.push(tu(z,J,$))),_t)break;z=z.return}0<Ie.length&&(Y=new W(Y,ge,null,o,Z),ne.push({event:Y,listeners:Ie}))}}if(!(s&7)){e:{if(Y=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",Y&&o!==Hn&&(ge=o.relatedTarget||o.fromElement)&&(ci(ge)||ge[Xi]))break e;if((W||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,W?(ge=o.relatedTarget||o.toElement,W=F,ge=ge?ci(ge):null,ge!==null&&(_t=le(ge),Ie=ge.tag,ge!==_t||Ie!==5&&Ie!==27&&Ie!==6)&&(ge=null)):(W=null,ge=F),W!==ge)){if(Ie=Kn,J="onMouseLeave",q="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(Ie=bl,J="onPointerLeave",q="onPointerEnter",z="pointer"),_t=W==null?Y:qr(W),$=ge==null?Y:qr(ge),Y=new Ie(J,z+"leave",W,o,Z),Y.target=_t,Y.relatedTarget=$,J=null,ci(Z)===F&&(Ie=new Ie(q,z+"enter",ge,o,Z),Ie.target=$,Ie.relatedTarget=_t,J=Ie),_t=J,W&&ge)t:{for(Ie=W,q=ge,z=0,$=Ie;$;$=To($))z++;for($=0,J=q;J;J=To(J))$++;for(;0<z-$;)Ie=To(Ie),z--;for(;0<$-z;)q=To(q),$--;for(;z--;){if(Ie===q||q!==null&&Ie===q.alternate)break t;Ie=To(Ie),q=To(q)}Ie=null}else Ie=null;W!==null&&LE(ne,Y,W,Ie,!1),ge!==null&&_t!==null&&LE(ne,_t,ge,Ie,!0)}}e:{if(Y=F?qr(F):window,W=Y.nodeName&&Y.nodeName.toLowerCase(),W==="select"||W==="input"&&Y.type==="file")var me=cv;else if(Nt(Y))if(hv)me=P1;else{me=I1;var Oe=x1}else W=Y.nodeName,!W||W.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?F&&yl(F.elementType)&&(me=cv):me=D1;if(me&&(me=me(i,F))){rr(ne,me,o,Z);break e}Oe&&Oe(i,Y,F),i==="focusout"&&F&&Y.type==="number"&&F.memoizedProps.value!=null&&Fa(Y,"number",Y.value)}switch(Oe=F?qr(F):window,i){case"focusin":(Nt(Oe)||Oe.contentEditable==="true")&&(Za=Oe,Ad=F,Cl=null);break;case"focusout":Cl=Ad=Za=null;break;case"mousedown":bd=!0;break;case"contextmenu":case"mouseup":case"dragend":bd=!1,_v(ne,o,Z);break;case"selectionchange":if(N1)break;case"keydown":case"keyup":_v(ne,o,Z)}var ve;if(Ci)e:{switch(i){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Be?Q(i,o)&&(Se="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Se="onCompositionStart");Se&&(E&&o.locale!=="ko"&&(Be||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Be&&(ve=_l()):(Ai=Z,Qr="value"in Ai?Ai.value:Ai.textContent,Be=!0)),Oe=vh(F,Se),0<Oe.length&&(Se=new Sl(Se,i,null,o,Z),ne.push({event:Se,listeners:Oe}),ve?Se.data=ve:(ve=oe(o),ve!==null&&(Se.data=ve)))),(ve=v?Ot(i,o):ze(i,o))&&(Se=vh(F,"onBeforeInput"),0<Se.length&&(Oe=new Sl("onBeforeInput","beforeinput",null,o,Z),ne.push({event:Oe,listeners:Se}),Oe.data=ve)),gC(ne,i,F,o,Z)}ME(ne,s)})}function tu(i,s,o){return{instance:i,listener:s,currentTarget:o}}function vh(i,s){for(var o=s+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=Qs(i,o),d!=null&&u.unshift(tu(i,d,g)),d=Qs(i,s),d!=null&&u.push(tu(i,d,g))),i=i.return}return u}function To(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function LE(i,s,o,u,d){for(var g=s._reactName,T=[];o!==null&&o!==u;){var b=o,V=b.alternate,F=b.stateNode;if(b=b.tag,V!==null&&V===u)break;b!==5&&b!==26&&b!==27||F===null||(V=F,d?(F=Qs(o,g),F!=null&&T.unshift(tu(o,F,V))):d||(F=Qs(o,g),F!=null&&T.push(tu(o,F,V)))),o=o.return}T.length!==0&&i.push({event:s,listeners:T})}var EC=/\r\n?/g,TC=/\u0000|\uFFFD/g;function UE(i){return(typeof i=="string"?i:""+i).replace(EC,`
`).replace(TC,"")}function jE(i,s){return s=UE(s),UE(i)===s}function _h(){}function We(i,s,o,u,d,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||qn(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&qn(i,""+u);break;case"className":Kr(i,"class",u);break;case"tabIndex":Kr(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Kr(i,o,u);break;case"style":Tc(i,u,g);break;case"data":if(s!=="object"){Kr(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Si(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&We(i,s,"name",d.name,d,null),We(i,s,"formEncType",d.formEncType,d,null),We(i,s,"formMethod",d.formMethod,d,null),We(i,s,"formTarget",d.formTarget,d,null)):(We(i,s,"encType",d.encType,d,null),We(i,s,"method",d.method,d,null),We(i,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Si(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=_h);break;case"onScroll":u!=null&&Ue("scroll",i);break;case"onScrollEnd":u!=null&&Ue("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Si(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Ue("beforetoggle",i),Ue("toggle",i),Gr(i,"popover",u);break;case"xlinkActuate":Fn(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Fn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Fn(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Fn(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Fn(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Fn(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Fn(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Fn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Fn(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Gr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=gd.get(o)||o,Gr(i,o,u))}}function $m(i,s,o,u,d,g){switch(o){case"style":Tc(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?qn(i,u):(typeof u=="number"||typeof u=="bigint")&&qn(i,""+u);break;case"onScroll":u!=null&&Ue("scroll",i);break;case"onScrollEnd":u!=null&&Ue("scrollend",i);break;case"onClick":u!=null&&(i.onclick=_h);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ba.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=i[Vt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,d);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Gr(i,o,u)}}}function Xt(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",i),Ue("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:We(i,s,g,T,o,null)}}d&&We(i,s,"srcSet",o.srcSet,o,null),u&&We(i,s,"src",o.src,o,null);return;case"input":Ue("invalid",i);var b=g=T=d=null,V=null,F=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":d=Z;break;case"type":T=Z;break;case"checked":V=Z;break;case"defaultChecked":F=Z;break;case"value":g=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:We(i,s,u,Z,o,null)}}$s(i,g,b,V,F,T,d,!1),Ks(i);return;case"select":Ue("invalid",i),u=T=g=null;for(d in o)if(o.hasOwnProperty(d)&&(b=o[d],b!=null))switch(d){case"value":g=b;break;case"defaultValue":T=b;break;case"multiple":u=b;default:We(i,s,d,b,o,null)}s=g,o=T,i.multiple=!!u,s!=null?Ge(i,!!u,s,!1):o!=null&&Ge(i,!!u,o,!0);return;case"textarea":Ue("invalid",i),g=d=u=null;for(T in o)if(o.hasOwnProperty(T)&&(b=o[T],b!=null))switch(T){case"value":u=b;break;case"defaultValue":d=b;break;case"children":g=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:We(i,s,T,b,o,null)}Yr(i,u,d,g),Ks(i);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(u=o[V],u!=null))switch(V){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:We(i,s,V,u,o,null)}return;case"dialog":Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":Ue("load",i);break;case"video":case"audio":for(u=0;u<eu.length;u++)Ue(eu[u],i);break;case"image":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"embed":case"source":case"link":Ue("error",i),Ue("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in o)if(o.hasOwnProperty(F)&&(u=o[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:We(i,s,F,u,o,null)}return;default:if(yl(s)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&$m(i,s,Z,u,o,void 0));return}}for(b in o)o.hasOwnProperty(b)&&(u=o[b],u!=null&&We(i,s,b,u,o,null))}function SC(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,T=null,b=null,V=null,F=null,Z=null;for(W in o){var ne=o[W];if(o.hasOwnProperty(W)&&ne!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":V=ne;default:u.hasOwnProperty(W)||We(i,s,W,null,u,ne)}}for(var Y in u){var W=u[Y];if(ne=o[Y],u.hasOwnProperty(Y)&&(W!=null||ne!=null))switch(Y){case"type":g=W;break;case"name":d=W;break;case"checked":F=W;break;case"defaultChecked":Z=W;break;case"value":T=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,s));break;default:W!==ne&&We(i,s,Y,W,u,ne)}}$r(i,T,b,V,F,Z,g,d);return;case"select":W=T=b=Y=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":W=V;default:u.hasOwnProperty(g)||We(i,s,g,null,u,V)}for(d in u)if(g=u[d],V=o[d],u.hasOwnProperty(d)&&(g!=null||V!=null))switch(d){case"value":Y=g;break;case"defaultValue":b=g;break;case"multiple":T=g;default:g!==V&&We(i,s,d,g,u,V)}s=b,o=T,u=W,Y!=null?Ge(i,!!o,Y,!1):!!u!=!!o&&(s!=null?Ge(i,!!o,s,!0):Ge(i,!!o,o?[]:"",!1));return;case"textarea":W=Y=null;for(b in o)if(d=o[b],o.hasOwnProperty(b)&&d!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:We(i,s,b,null,u,d)}for(T in u)if(d=u[T],g=o[T],u.hasOwnProperty(T)&&(d!=null||g!=null))switch(T){case"value":Y=d;break;case"defaultValue":W=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==g&&We(i,s,T,d,u,g)}Ys(i,Y,W);return;case"option":for(var ge in o)if(Y=o[ge],o.hasOwnProperty(ge)&&Y!=null&&!u.hasOwnProperty(ge))switch(ge){case"selected":i.selected=!1;break;default:We(i,s,ge,null,u,Y)}for(V in u)if(Y=u[V],W=o[V],u.hasOwnProperty(V)&&Y!==W&&(Y!=null||W!=null))switch(V){case"selected":i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:We(i,s,V,Y,u,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in o)Y=o[Ie],o.hasOwnProperty(Ie)&&Y!=null&&!u.hasOwnProperty(Ie)&&We(i,s,Ie,null,u,Y);for(F in u)if(Y=u[F],W=o[F],u.hasOwnProperty(F)&&Y!==W&&(Y!=null||W!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:We(i,s,F,Y,u,W)}return;default:if(yl(s)){for(var _t in o)Y=o[_t],o.hasOwnProperty(_t)&&Y!==void 0&&!u.hasOwnProperty(_t)&&$m(i,s,_t,void 0,u,Y);for(Z in u)Y=u[Z],W=o[Z],!u.hasOwnProperty(Z)||Y===W||Y===void 0&&W===void 0||$m(i,s,Z,Y,u,W);return}}for(var q in o)Y=o[q],o.hasOwnProperty(q)&&Y!=null&&!u.hasOwnProperty(q)&&We(i,s,q,null,u,Y);for(ne in u)Y=u[ne],W=o[ne],!u.hasOwnProperty(ne)||Y===W||Y==null&&W==null||We(i,s,ne,Y,u,W)}var Ym=null,Qm=null;function Eh(i){return i.nodeType===9?i:i.ownerDocument}function BE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zE(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Xm(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Wm=null;function AC(){var i=window.event;return i&&i.type==="popstate"?i===Wm?!1:(Wm=i,!0):(Wm=null,!1)}var FE=typeof setTimeout=="function"?setTimeout:void 0,bC=typeof clearTimeout=="function"?clearTimeout:void 0,qE=typeof Promise=="function"?Promise:void 0,wC=typeof queueMicrotask=="function"?queueMicrotask:typeof qE<"u"?function(i){return qE.resolve(null).then(i).catch(RC)}:FE;function RC(i){setTimeout(function(){throw i})}function Zm(i,s){var o=s,u=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(u===0){i.removeChild(d),uu(s);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=d}while(o);uu(s)}function Jm(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Jm(o),Gs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function CC(i,s,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Fr])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=mi(i.nextSibling),i===null)break}return null}function xC(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=mi(i.nextSibling),i===null))return null;return i}function mi(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}function HE(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}function GE(i,s,o){switch(s=Eh(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}var ni=new Map,KE=new Set;function Th(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var _r=ce.d;ce.d={f:IC,r:DC,D:PC,C:VC,L:OC,m:NC,X:kC,S:MC,M:LC};function IC(){var i=_r.f(),s=dh();return i||s}function DC(i){var s=Wi(i);s!==null&&s.tag===5&&s.type==="form"?__(s):_r.r(i)}var So=typeof document>"u"?null:document;function $E(i,s,o){var u=So;if(u&&typeof s=="string"&&s){var d=gt(s);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),KE.has(d)||(KE.add(d),i={rel:i,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),Xt(s,"link",i),lt(s),u.head.appendChild(s)))}}function PC(i){_r.D(i),$E("dns-prefetch",i,null)}function VC(i,s){_r.C(i,s),$E("preconnect",i,s)}function OC(i,s,o){_r.L(i,s,o);var u=So;if(u&&i&&s){var d='link[rel="preload"][as="'+gt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+gt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+gt(o.imageSizes)+'"]')):d+='[href="'+gt(i)+'"]';var g=d;switch(s){case"style":g=Ao(i);break;case"script":g=bo(i)}ni.has(g)||(i=D({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),ni.set(g,i),u.querySelector(d)!==null||s==="style"&&u.querySelector(nu(g))||s==="script"&&u.querySelector(iu(g))||(s=u.createElement("link"),Xt(s,"link",i),lt(s),u.head.appendChild(s)))}}function NC(i,s){_r.m(i,s);var o=So;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+gt(u)+'"][href="'+gt(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=bo(i)}if(!ni.has(g)&&(i=D({rel:"modulepreload",href:i},s),ni.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(iu(g)))return}u=o.createElement("link"),Xt(u,"link",i),lt(u),o.head.appendChild(u)}}}function MC(i,s,o){_r.S(i,s,o);var u=So;if(u&&i){var d=Hr(u).hoistableStyles,g=Ao(i);s=s||"default";var T=d.get(g);if(!T){var b={loading:0,preload:null};if(T=u.querySelector(nu(g)))b.loading=5;else{i=D({rel:"stylesheet",href:i,"data-precedence":s},o),(o=ni.get(g))&&ep(i,o);var V=T=u.createElement("link");lt(V),Xt(V,"link",i),V._p=new Promise(function(F,Z){V.onload=F,V.onerror=Z}),V.addEventListener("load",function(){b.loading|=1}),V.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Sh(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:b},d.set(g,T)}}}function kC(i,s){_r.X(i,s);var o=So;if(o&&i){var u=Hr(o).hoistableScripts,d=bo(i),g=u.get(d);g||(g=o.querySelector(iu(d)),g||(i=D({src:i,async:!0},s),(s=ni.get(d))&&tp(i,s),g=o.createElement("script"),lt(g),Xt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function LC(i,s){_r.M(i,s);var o=So;if(o&&i){var u=Hr(o).hoistableScripts,d=bo(i),g=u.get(d);g||(g=o.querySelector(iu(d)),g||(i=D({src:i,async:!0,type:"module"},s),(s=ni.get(d))&&tp(i,s),g=o.createElement("script"),lt(g),Xt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function YE(i,s,o,u){var d=(d=nn.current)?Th(d):null;if(!d)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Ao(o.href),o=Hr(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Ao(o.href);var g=Hr(d).hoistableStyles,T=g.get(i);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=d.querySelector(nu(i)))&&!g._p&&(T.instance=g,T.state.loading=5),ni.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ni.set(i,o),g||UC(d,i,o,T.state))),s&&u===null)throw Error(r(528,""));return T}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=bo(o),o=Hr(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Ao(i){return'href="'+gt(i)+'"'}function nu(i){return'link[rel="stylesheet"]['+i+"]"}function QE(i){return D({},i,{"data-precedence":i.precedence,precedence:null})}function UC(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Xt(s,"link",o),lt(s),i.head.appendChild(s))}function bo(i){return'[src="'+gt(i)+'"]'}function iu(i){return"script[async]"+i}function XE(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+gt(o.href)+'"]');if(u)return s.instance=u,lt(u),u;var d=D({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),lt(u),Xt(u,"style",d),Sh(u,o.precedence,i),s.instance=u;case"stylesheet":d=Ao(o.href);var g=i.querySelector(nu(d));if(g)return s.state.loading|=4,s.instance=g,lt(g),g;u=QE(o),(d=ni.get(d))&&ep(u,d),g=(i.ownerDocument||i).createElement("link"),lt(g);var T=g;return T._p=new Promise(function(b,V){T.onload=b,T.onerror=V}),Xt(g,"link",u),s.state.loading|=4,Sh(g,o.precedence,i),s.instance=g;case"script":return g=bo(o.src),(d=i.querySelector(iu(g)))?(s.instance=d,lt(d),d):(u=o,(d=ni.get(g))&&(u=D({},o),tp(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),lt(d),Xt(d,"link",u),i.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&!(s.state.loading&4)&&(u=s.instance,s.state.loading|=4,Sh(u,o.precedence,i));return s.instance}function Sh(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,T=0;T<u.length;T++){var b=u[T];if(b.dataset.precedence===s)g=b;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function ep(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function tp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Ah=null;function WE(i,s,o){if(Ah===null){var u=new Map,d=Ah=new Map;d.set(o,u)}else d=Ah,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[Fr]||g[Bt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(s)||"";T=i+T;var b=u.get(T);b?b.push(g):u.set(T,[g])}}return u}function ZE(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function jC(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function JE(i){return!(i.type==="stylesheet"&&!(i.state.loading&3))}var ru=null;function BC(){}function zC(i,s,o){if(ru===null)throw Error(r(475));var u=ru;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&!(s.state.loading&4)){if(s.instance===null){var d=Ao(o.href),g=i.querySelector(nu(d));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=bh.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=g,lt(g);return}g=i.ownerDocument||i,o=QE(o),(d=ni.get(d))&&ep(o,d),g=g.createElement("link"),lt(g);var T=g;T._p=new Promise(function(b,V){T.onload=b,T.onerror=V}),Xt(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&!(s.state.loading&3)&&(u.count++,s=bh.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function FC(){if(ru===null)throw Error(r(475));var i=ru;return i.stylesheets&&i.count===0&&np(i,i.stylesheets),0<i.count?function(s){var o=setTimeout(function(){if(i.stylesheets&&np(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(o)}}:null}function bh(){if(this.count--,this.count===0){if(this.stylesheets)np(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var wh=null;function np(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,wh=new Map,s.forEach(qC,i),wh=null,bh.call(i))}function qC(i,s){if(!(s.state.loading&4)){var o=wh.get(i);if(o)var u=o.get(null);else{o=new Map,wh.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var T=d[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}d=s.instance,T=d.getAttribute("data-precedence"),g=o.get(T)||u,g===u&&o.set(null,d),o.set(T,d),this.count++,u=bh.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),s.state.loading|=4}}var su={$$typeof:A,Provider:null,Consumer:null,_currentValue:Re,_currentValue2:Re,_threadCount:0};function HC(i,s,o,u,d,g,T,b){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ua(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ua(0),this.hiddenUpdates=Ua(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function eT(i,s,o,u,d,g,T,b,V,F,Z,ne){return i=new HC(i,s,o,T,b,V,F,ne),s=1,g===!0&&(s|=24),g=ei(3,null,null,s),i.current=g,g.stateNode=i,s=Nd(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},mm(g),i}function tT(i){return i?(i=to,i):to}function nT(i,s,o,u,d,g){d=tT(d),u.context===null?u.context=d:u.pendingContext=d,u=is(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=rs(i,u,s),o!==null&&(vn(o,i,s),Fl(o,i,s))}function iT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function ip(i,s){iT(i,s),(i=i.alternate)&&iT(i,s)}function rT(i){if(i.tag===13){var s=Xr(i,67108864);s!==null&&vn(s,i,67108864),ip(i,67108864)}}var Rh=!0;function GC(i,s,o,u){var d=w.T;w.T=null;var g=ce.p;try{ce.p=2,rp(i,s,o,u)}finally{ce.p=g,w.T=d}}function KC(i,s,o,u){var d=w.T;w.T=null;var g=ce.p;try{ce.p=8,rp(i,s,o,u)}finally{ce.p=g,w.T=d}}function rp(i,s,o,u){if(Rh){var d=sp(u);if(d===null)Km(i,s,u,Ch,o),aT(i,u);else if(YC(d,i,s,o,u))u.stopPropagation();else if(aT(i,u),s&4&&-1<$C.indexOf(i)){for(;d!==null;){var g=Wi(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=ui(g.pendingLanes);if(T!==0){var b=g;for(b.pendingLanes|=2,b.entangledLanes|=2;T;){var V=1<<31-mn(T);b.entanglements[1]|=V,T&=~V}Oi(g),!(ct&6)&&(ch=st()+500,Jl(0))}}break;case 13:b=Xr(g,2),b!==null&&vn(b,g,2),dh(),ip(g,2)}if(g=sp(u),g===null&&Km(i,s,u,Ch,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else Km(i,s,u,null,o)}}function sp(i){return i=qa(i),ap(i)}var Ch=null;function ap(i){if(Ch=null,i=ci(i),i!==null){var s=le(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=ye(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Ch=i,null}function sT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bn()){case pt:return 2;case jt:return 8;case Qi:case dc:return 32;case ol:return 268435456;default:return 32}default:return 32}}var op=!1,hs=null,fs=null,ds=null,au=new Map,ou=new Map,ms=[],$C="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function aT(i,s){switch(i){case"focusin":case"focusout":hs=null;break;case"dragenter":case"dragleave":fs=null;break;case"mouseover":case"mouseout":ds=null;break;case"pointerover":case"pointerout":au.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ou.delete(s.pointerId)}}function lu(i,s,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},s!==null&&(s=Wi(s),s!==null&&rT(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),i)}function YC(i,s,o,u,d){switch(s){case"focusin":return hs=lu(hs,i,s,o,u,d),!0;case"dragenter":return fs=lu(fs,i,s,o,u,d),!0;case"mouseover":return ds=lu(ds,i,s,o,u,d),!0;case"pointerover":var g=d.pointerId;return au.set(g,lu(au.get(g)||null,i,s,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,ou.set(g,lu(ou.get(g)||null,i,s,o,u,d)),!0}return!1}function oT(i){var s=ci(i.target);if(s!==null){var o=le(s);if(o!==null){if(s=o.tag,s===13){if(s=ye(o),s!==null){i.blockedOn=s,zr(i.priority,function(){if(o.tag===13){var u=Nn(),d=Xr(o,u);d!==null&&vn(d,o,u),ip(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function xh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=sp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Hn=u,o.target.dispatchEvent(u),Hn=null}else return s=Wi(o),s!==null&&rT(s),i.blockedOn=o,!1;s.shift()}return!0}function lT(i,s,o){xh(i)&&o.delete(s)}function QC(){op=!1,hs!==null&&xh(hs)&&(hs=null),fs!==null&&xh(fs)&&(fs=null),ds!==null&&xh(ds)&&(ds=null),au.forEach(lT),ou.forEach(lT)}function Ih(i,s){i.blockedOn===s&&(i.blockedOn=null,op||(op=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,QC)))}var Dh=null;function uT(i){Dh!==i&&(Dh=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Dh===i&&(Dh=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],d=i[s+2];if(typeof u!="function"){if(ap(u||o)===null)continue;break}var g=Wi(o);g!==null&&(i.splice(s,3),s-=3,Xd(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function uu(i){function s(V){return Ih(V,i)}hs!==null&&Ih(hs,i),fs!==null&&Ih(fs,i),ds!==null&&Ih(ds,i),au.forEach(s),ou.forEach(s);for(var o=0;o<ms.length;o++){var u=ms[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<ms.length&&(o=ms[0],o.blockedOn===null);)oT(o),o.blockedOn===null&&ms.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],T=d[Vt]||null;if(typeof g=="function")T||uT(o);else if(T){var b=null;if(g&&g.hasAttribute("formAction")){if(d=g,T=g[Vt]||null)b=T.formAction;else if(ap(d)!==null)continue}else b=T.action;typeof b=="function"?o[u+1]=b:(o.splice(u,3),u-=3),uT(o)}}}function lp(i){this._internalRoot=i}Ph.prototype.render=lp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=Nn();nT(o,u,i,s,null,null)},Ph.prototype.unmount=lp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;i.tag===0&&_o(),nT(i.current,2,null,i,null,null),dh(),s[Xi]=null}};function Ph(i){this._internalRoot=i}Ph.prototype.unstable_scheduleHydration=function(i){if(i){var s=vc();i={blockedOn:null,target:i,priority:s};for(var o=0;o<ms.length&&s!==0&&s<ms[o].priority;o++);ms.splice(o,0,i),o===0&&oT(i)}};var cT=e.version;if(cT!=="19.0.0")throw Error(r(527,cT,"19.0.0"));ce.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=te(s),i=i!==null?de(i):null,i=i===null?null:i.stateNode,i};var XC={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:w,findFiberByHostInstance:ci,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vh.isDisabled&&Vh.supportsFiber)try{Mr=Vh.inject(XC),sn=Vh}catch{}}return hu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",d=C_,g=x_,T=I_,b=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(b=s.unstable_transitionCallbacks)),s=eT(i,1,!1,null,null,o,u,d,g,T,b,null),i[Xi]=s.current,Gm(i.nodeType===8?i.parentNode:i),new lp(s)},hu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,d="",g=C_,T=x_,b=I_,V=null,F=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(b=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(V=o.unstable_transitionCallbacks),o.formState!==void 0&&(F=o.formState)),s=eT(i,1,!0,s,o??null,u,d,g,T,b,V,F),s.context=tT(null),o=s.current,u=Nn(),d=is(u),d.callback=null,rs(o,d,u),s.current.lanes=u,St(s,u),Oi(s),i[Xi]=s.current,Gm(i),new Ph(s)},hu.version="19.0.0",hu}var ET;function ax(){if(ET)return hp.exports;ET=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hp.exports=sx(),hp.exports}var ox=ax(),pp={exports:{}},gp={};/**
 * @license React
 * react-compiler-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TT;function lx(){if(TT)return gp;TT=1;var t=Nf().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return gp.c=function(e){return t.H.useMemoCache(e)},gp}var ST;function ux(){return ST||(ST=1,pp.exports=lx()),pp.exports}var Us=ux();const cx="modulepreload",hx=function(t){return"/"+t},AT={},Og=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=Promise.allSettled(n.map(m=>{if(m=hx(m),m in AT)return;AT[m]=!0;const p=m.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const _=document.createElement("link");if(_.rel=p?"stylesheet":cx,p||(_.as="script"),_.crossOrigin="",_.href=m,f&&_.setAttribute("nonce",f),document.head.appendChild(_),p)return new Promise((S,A)=>{_.addEventListener("load",S),_.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return a.then(c=>{for(const f of c||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var jo;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(jo||(jo={}));class yp extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}}const fx=t=>{var e,n;return t!=null&&t.androidBridge?"android":!((n=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},dx=t=>{const e=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},r=n.Plugins=n.Plugins||{},a=()=>e!==null?e.name:fx(t),l=()=>a()!=="web",c=_=>{const S=p.get(_);return!!(S!=null&&S.platforms.has(a())||f(_))},f=_=>{var S;return(S=n.PluginHeaders)===null||S===void 0?void 0:S.find(A=>A.name===_)},m=_=>t.console.error(_),p=new Map,y=(_,S={})=>{const A=p.get(_);if(A)return console.warn(`Capacitor plugin "${_}" already registered. Cannot register plugins twice.`),A.proxy;const x=a(),k=f(_);let O;const L=async()=>(!O&&x in S?O=typeof S[x]=="function"?O=await S[x]():O=S[x]:e!==null&&!O&&"web"in S&&(O=typeof S.web=="function"?O=await S.web():O=S.web),O),K=(R,w)=>{var D,j;if(k){const P=k==null?void 0:k.methods.find(I=>w===I.name);if(P)return P.rtype==="promise"?I=>n.nativePromise(_,w.toString(),I):(I,Te)=>n.nativeCallback(_,w.toString(),I,Te);if(R)return(D=R[w])===null||D===void 0?void 0:D.bind(R)}else{if(R)return(j=R[w])===null||j===void 0?void 0:j.bind(R);throw new yp(`"${_}" plugin is not implemented on ${x}`,jo.Unimplemented)}},H=R=>{let w;const D=(...j)=>{const P=L().then(I=>{const Te=K(I,R);if(Te){const pe=Te(...j);return w=pe==null?void 0:pe.remove,pe}else throw new yp(`"${_}.${R}()" is not implemented on ${x}`,jo.Unimplemented)});return R==="addListener"&&(P.remove=async()=>w()),P};return D.toString=()=>`${R.toString()}() { [capacitor code] }`,Object.defineProperty(D,"name",{value:R,writable:!1,configurable:!1}),D},ae=H("addListener"),X=H("removeListener"),ie=(R,w)=>{const D=ae({eventName:R},w),j=async()=>{const I=await D;X({eventName:R,callbackId:I},w)},P=new Promise(I=>D.then(()=>I({remove:j})));return P.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await j()},P},N=new Proxy({},{get(R,w){switch(w){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return k?ie:ae;case"removeListener":return X;default:return H(w)}}});return r[_]=N,p.set(_,{name:_,proxy:N,platforms:new Set([...Object.keys(S),...k?[x]:[]])}),N};return n.convertFileSrc||(n.convertFileSrc=_=>_),n.getPlatform=a,n.handleError=m,n.isNativePlatform=l,n.isPluginAvailable=c,n.registerPlugin=y,n.Exception=yp,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},mx=t=>t.Capacitor=dx(t),af=mx(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Pa=af.registerPlugin;class dA{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(n);const l=this.windowListeners[e];l&&!l.registered&&this.addWindowListener(l),r&&this.sendRetainedArgumentsForEvent(e);const c=async()=>this.removeListener(e,n);return Promise.resolve({remove:c})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,r){const a=this.listeners[e];if(!a){if(r){let l=this.retainedEventArguments[e];l||(l=[]),l.push(n),this.retainedEventArguments[e]=l}return}a.forEach(l=>l(n))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(e="not implemented"){return new af.Exception(e,jo.Unimplemented)}unavailable(e="not available"){return new af.Exception(e,jo.Unavailable)}async removeListener(e,n){const r=this.listeners[e];if(!r)return;const a=r.indexOf(n);this.listeners[e].splice(a,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}}const bT=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),wT=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class px extends dA{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[a,l]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=wT(a).trim(),l=wT(l).trim(),n[a]=l}),n}async setCookie(e){try{const n=bT(e.key),r=bT(e.value),a=`; expires=${(e.expires||"").replace("expires=","")}`,l=(e.path||"/").replace("path=",""),c=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${a}; path=${l}; ${c};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Pa("CapacitorCookies",{web:()=>new px});const gx=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const a=r.result;e(a.indexOf(",")>=0?a.split(",")[1]:a)},r.onerror=a=>n(a),r.readAsDataURL(t)}),yx=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(a=>a.toLocaleLowerCase()).reduce((a,l,c)=>(a[l]=t[e[c]],a),{})},vx=(t,e=!0)=>t?Object.entries(t).reduce((r,a)=>{const[l,c]=a;let f,m;return Array.isArray(c)?(m="",c.forEach(p=>{f=e?encodeURIComponent(p):p,m+=`${l}=${f}&`}),m.slice(0,-1)):(f=e?encodeURIComponent(c):c,m=`${l}=${f}`),`${r}&${m}`},"").substr(1):null,_x=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),a=yx(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(a.includes("application/x-www-form-urlencoded")){const l=new URLSearchParams;for(const[c,f]of Object.entries(t.data||{}))l.set(c,f);n.body=l.toString()}else if(a.includes("multipart/form-data")||t.data instanceof FormData){const l=new FormData;if(t.data instanceof FormData)t.data.forEach((f,m)=>{l.append(m,f)});else for(const f of Object.keys(t.data))l.append(f,t.data[f]);n.body=l;const c=new Headers(n.headers);c.delete("content-type"),n.headers=c}else(a.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class Ex extends dA{async request(e){const n=_x(e,e.webFetchExtra),r=vx(e.params,e.shouldEncodeUrlParams),a=r?`${e.url}?${r}`:e.url,l=await fetch(a,n),c=l.headers.get("content-type")||"";let{responseType:f="text"}=l.ok?e:{};c.includes("application/json")&&(f="json");let m,p;switch(f){case"arraybuffer":case"blob":p=await l.blob(),m=await gx(p);break;case"json":m=await l.json();break;case"document":case"text":default:m=await l.text()}const y={};return l.headers.forEach((_,S)=>{y[S]=_}),{data:m,headers:y,status:l.status,url:l.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Pa("CapacitorHttp",{web:()=>new Ex});const mA=Pa("App",{web:()=>Og(()=>import("./web-BBbHXqpz.js"),[]).then(t=>new t.AppWeb)});var RT;(function(t){t[t.Sunday=1]="Sunday",t[t.Monday=2]="Monday",t[t.Tuesday=3]="Tuesday",t[t.Wednesday=4]="Wednesday",t[t.Thursday=5]="Thursday",t[t.Friday=6]="Friday",t[t.Saturday=7]="Saturday"})(RT||(RT={}));const qp=Pa("LocalNotifications",{web:()=>Og(()=>import("./web-B7Qly201.js"),[]).then(t=>new t.LocalNotificationsWeb)});var Hp;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(Hp||(Hp={}));var CT;(function(t){t.None="NONE",t.Slide="SLIDE",t.Fade="FADE"})(CT||(CT={}));const xT=Pa("StatusBar"),Tx=Pa("EdgeToEdge",{});var fu={},IT;function Sx(){if(IT)return fu;IT=1,Object.defineProperty(fu,"__esModule",{value:!0}),fu.parse=c,fu.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function c(S,A){const x=new l,k=S.length;if(k<2)return x;const O=(A==null?void 0:A.decode)||y;let L=0;do{const K=S.indexOf("=",L);if(K===-1)break;const H=S.indexOf(";",L),ae=H===-1?k:H;if(K>ae){L=S.lastIndexOf(";",K-1)+1;continue}const X=f(S,L,K),ie=m(S,K,X),N=S.slice(X,ie);if(x[N]===void 0){let R=f(S,K+1,ae),w=m(S,ae,R);const D=O(S.slice(R,w));x[N]=D}L=ae+1}while(L<k);return x}function f(S,A,x){do{const k=S.charCodeAt(A);if(k!==32&&k!==9)return A}while(++A<x);return x}function m(S,A,x){for(;A>x;){const k=S.charCodeAt(--A);if(k!==32&&k!==9)return A+1}return x}function p(S,A,x){const k=(x==null?void 0:x.encode)||encodeURIComponent;if(!t.test(S))throw new TypeError(`argument name is invalid: ${S}`);const O=k(A);if(!e.test(O))throw new TypeError(`argument val is invalid: ${A}`);let L=S+"="+O;if(!x)return L;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);L+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);L+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);L+="; Path="+x.path}if(x.expires){if(!_(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);L+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(L+="; HttpOnly"),x.secure&&(L+="; Secure"),x.partitioned&&(L+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return L}function y(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function _(S){return a.call(S)==="[object Date]"}return fu}Sx();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var DT="popstate";function Ax(t={}){function e(r,a){let{pathname:l,search:c,hash:f}=r.location;return Gp("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Nu(a)}return wx(e,n,null,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bx(){return Math.random().toString(36).substring(2,10)}function PT(t,e){return{usr:t.state,key:t.key,idx:e}}function Gp(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Wo(e):e,state:n,key:e&&e.key||r||bx()}}function Nu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Wo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function wx(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,f="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){f="POP";let O=y(),L=O==null?null:O-p;p=O,m&&m({action:f,location:k.location,delta:L})}function S(O,L){f="PUSH";let K=Gp(k.location,O,L);p=y()+1;let H=PT(K,p),ae=k.createHref(K);try{c.pushState(H,"",ae)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;a.location.assign(ae)}l&&m&&m({action:f,location:k.location,delta:1})}function A(O,L){f="REPLACE";let K=Gp(k.location,O,L);p=y();let H=PT(K,p),ae=k.createHref(K);c.replaceState(H,"",ae),l&&m&&m({action:f,location:k.location,delta:0})}function x(O){let L=a.location.origin!=="null"?a.location.origin:a.location.href,K=typeof O=="string"?O:Nu(O);return K=K.replace(/ $/,"%20"),ft(L,`No window.location.(origin|href) available to create URL for href: ${K}`),new URL(K,L)}let k={get action(){return f},get location(){return t(a,c)},listen(O){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(DT,_),m=O,()=>{a.removeEventListener(DT,_),m=null}},createHref(O){return e(a,O)},createURL:x,encodeLocation(O){let L=x(O);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:S,replace:A,go(O){return c.go(O)}};return k}function pA(t,e,n="/"){return Rx(t,e,n,!1)}function Rx(t,e,n,r){let a=typeof e=="string"?Wo(e):e,l=Is(a.pathname||"/",n);if(l==null)return null;let c=gA(t);Cx(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=Ux(l);f=kx(c[m],p,r)}return f}function gA(t,e=[],n=[],r=""){let a=(l,c,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(ft(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let p=br([r,m.relativePath]),y=n.concat(m);l.children&&l.children.length>0&&(ft(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),gA(l.children,e,y,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:Nx(p,l.index),routesMeta:y})};return t.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,c);else for(let m of yA(l.path))a(l,c,m)}),e}function yA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=yA(r.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function Cx(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Mx(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var xx=/^:[\w-]+$/,Ix=3,Dx=2,Px=1,Vx=10,Ox=-2,VT=t=>t==="*";function Nx(t,e){let n=t.split("/"),r=n.length;return n.some(VT)&&(r+=Ox),e&&(r+=Dx),n.filter(a=>!VT(a)).reduce((a,l)=>a+(xx.test(l)?Ix:l===""?Px:Vx),r)}function Mx(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function kx(t,e,n=!1){let{routesMeta:r}=t,a={},l="/",c=[];for(let f=0;f<r.length;++f){let m=r[f],p=f===r.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=of({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),S=m.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=of({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:br([l,_.pathname]),pathnameBase:Fx(br([l,_.pathnameBase])),route:S}),_.pathnameBase!=="/"&&(l=br([l,_.pathnameBase]))}return c}function of(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Lx(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:_},S)=>{if(y==="*"){let x=f[S]||"";c=l.slice(0,l.length-x.length).replace(/(.)\/+$/,"$1")}const A=f[S];return _&&!A?p[y]=void 0:p[y]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function Lx(t,e=!1,n=!0){Fi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(r.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function Ux(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Is(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function jx(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Wo(t):t;return{pathname:n?n.startsWith("/")?n:Bx(n,e):e,search:qx(r),hash:Hx(a)}}function Bx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function vp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zx(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vA(t){let e=zx(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function _A(t,e,n,r=!1){let a;typeof t=="string"?a=Wo(t):(a={...t},ft(!a.pathname||!a.pathname.includes("?"),vp("?","pathname","search",a)),ft(!a.pathname||!a.pathname.includes("#"),vp("#","pathname","hash",a)),ft(!a.search||!a.search.includes("#"),vp("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let _=e.length-1;if(!r&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),_-=1;a.pathname=S.join("/")}f=_>=0?e[_]:"/"}let m=jx(a,f),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var br=t=>t.join("/").replace(/\/\/+/g,"/"),Fx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Hx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Gx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var EA=["POST","PUT","PATCH","DELETE"];new Set(EA);var Kx=["GET",...EA];new Set(Kx);var Zo=B.createContext(null);Zo.displayName="DataRouter";var Mf=B.createContext(null);Mf.displayName="DataRouterState";var TA=B.createContext({isTransitioning:!1});TA.displayName="ViewTransition";var $x=B.createContext(new Map);$x.displayName="Fetchers";var Yx=B.createContext(null);Yx.displayName="Await";var Gi=B.createContext(null);Gi.displayName="Navigation";var Qu=B.createContext(null);Qu.displayName="Location";var Ki=B.createContext({outlet:null,matches:[],isDataRoute:!1});Ki.displayName="Route";var Ng=B.createContext(null);Ng.displayName="RouteError";function Qx(t,{relative:e}={}){ft(Xu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=B.useContext(Gi),{hash:a,pathname:l,search:c}=Wu(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:br([n,l])),r.createHref({pathname:f,search:c,hash:a})}function Xu(){return B.useContext(Qu)!=null}function Va(){return ft(Xu(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Qu).location}var SA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function AA(t){B.useContext(Gi).static||B.useLayoutEffect(t)}function js(){let{isDataRoute:t}=B.useContext(Ki);return t?uI():Xx()}function Xx(){ft(Xu(),"useNavigate() may be used only in the context of a <Router> component.");let t=B.useContext(Zo),{basename:e,navigator:n}=B.useContext(Gi),{matches:r}=B.useContext(Ki),{pathname:a}=Va(),l=JSON.stringify(vA(r)),c=B.useRef(!1);return AA(()=>{c.current=!0}),B.useCallback((m,p={})=>{if(Fi(c.current,SA),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=_A(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:br([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}B.createContext(null);function Wx(){let{matches:t}=B.useContext(Ki),e=t[t.length-1];return e?e.params:{}}function Wu(t,{relative:e}={}){let{matches:n}=B.useContext(Ki),{pathname:r}=Va(),a=JSON.stringify(vA(n));return B.useMemo(()=>_A(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function Zx(t,e){return bA(t,e)}function bA(t,e,n,r){var K;ft(Xu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=B.useContext(Gi),{matches:c}=B.useContext(Ki),f=c[c.length-1],m=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",_=f&&f.route;{let H=_&&_.path||"";wA(p,!_||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let S=Va(),A;if(e){let H=typeof e=="string"?Wo(e):e;ft(y==="/"||((K=H.pathname)==null?void 0:K.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${H.pathname}" was given in the \`location\` prop.`),A=H}else A=S;let x=A.pathname||"/",k=x;if(y!=="/"){let H=y.replace(/^\//,"").split("/");k="/"+x.replace(/^\//,"").split("/").slice(H.length).join("/")}let O=!l&&n&&n.matches&&n.matches.length>0?n.matches:pA(t,{pathname:k});Fi(_||O!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Fi(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=iI(O&&O.map(H=>Object.assign({},H,{params:Object.assign({},m,H.params),pathname:br([y,a.encodeLocation?a.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?y:br([y,a.encodeLocation?a.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),c,n,r);return e&&L?B.createElement(Qu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},L):L}function Jx(){let t=lI(),e=Gx(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:l},"ErrorBoundary")," or"," ",B.createElement("code",{style:l},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:a},n):null,c)}var eI=B.createElement(Jx,null),tI=class extends B.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?B.createElement(Ki.Provider,{value:this.props.routeContext},B.createElement(Ng.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nI({routeContext:t,match:e,children:n}){let r=B.useContext(Zo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Ki.Provider,{value:t},n)}function iI(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);ft(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,f=-1;if(n)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=m),p.route.id){let{loaderData:y,errors:_}=n,S=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||S){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((m,p,y)=>{let _,S=!1,A=null,x=null;n&&(_=l&&p.route.id?l[p.route.id]:void 0,A=p.route.errorElement||eI,c&&(f<0&&y===0?(wA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,x=null):f===y&&(S=!0,x=p.route.hydrateFallbackElement||null)));let k=e.concat(a.slice(0,y+1)),O=()=>{let L;return _?L=A:S?L=x:p.route.Component?L=B.createElement(p.route.Component,null):p.route.element?L=p.route.element:L=m,B.createElement(nI,{match:p,routeContext:{outlet:m,matches:k,isDataRoute:n!=null},children:L})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?B.createElement(tI,{location:n.location,revalidation:n.revalidation,component:A,error:_,children:O(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):O()},null)}function Mg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rI(t){let e=B.useContext(Zo);return ft(e,Mg(t)),e}function sI(t){let e=B.useContext(Mf);return ft(e,Mg(t)),e}function aI(t){let e=B.useContext(Ki);return ft(e,Mg(t)),e}function kg(t){let e=aI(t),n=e.matches[e.matches.length-1];return ft(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function oI(){return kg("useRouteId")}function lI(){var r;let t=B.useContext(Ng),e=sI("useRouteError"),n=kg("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function uI(){let{router:t}=rI("useNavigate"),e=kg("useNavigate"),n=B.useRef(!1);return AA(()=>{n.current=!0}),B.useCallback(async(a,l={})=>{Fi(n.current,SA),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var OT={};function wA(t,e,n){!e&&!OT[t]&&(OT[t]=!0,Fi(!1,n))}B.memo(cI);function cI({routes:t,future:e,state:n}){return bA(t,void 0,n,e)}function Er(t){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hI({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:l=!1}){ft(!Xu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),f=B.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=Wo(n));let{pathname:m="/",search:p="",hash:y="",state:_=null,key:S="default"}=n,A=B.useMemo(()=>{let x=Is(m,c);return x==null?null:{location:{pathname:x,search:p,hash:y,state:_,key:S},navigationType:r}},[c,m,p,y,_,S,r]);return Fi(A!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:B.createElement(Gi.Provider,{value:f},B.createElement(Qu.Provider,{children:e,value:A}))}function fI({children:t,location:e}){return Zx(Kp(t),e)}function Kp(t,e=[]){let n=[];return B.Children.forEach(t,(r,a)=>{if(!B.isValidElement(r))return;let l=[...e,a];if(r.type===B.Fragment){n.push.apply(n,Kp(r.props.children,l));return}ft(r.type===Er,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Kp(r.props.children,l)),n.push(c)}),n}var Hh="get",Gh="application/x-www-form-urlencoded";function kf(t){return t!=null&&typeof t.tagName=="string"}function dI(t){return kf(t)&&t.tagName.toLowerCase()==="button"}function mI(t){return kf(t)&&t.tagName.toLowerCase()==="form"}function pI(t){return kf(t)&&t.tagName.toLowerCase()==="input"}function gI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function yI(t,e){return t.button===0&&(!e||e==="_self")&&!gI(t)}var Oh=null;function vI(){if(Oh===null)try{new FormData(document.createElement("form"),0),Oh=!1}catch{Oh=!0}return Oh}var _I=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _p(t){return t!=null&&!_I.has(t)?(Fi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gh}"`),null):t}function EI(t,e){let n,r,a,l,c;if(mI(t)){let f=t.getAttribute("action");r=f?Is(f,e):null,n=t.getAttribute("method")||Hh,a=_p(t.getAttribute("enctype"))||Gh,l=new FormData(t)}else if(dI(t)||pI(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(r=m?Is(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Hh,a=_p(t.getAttribute("formenctype"))||_p(f.getAttribute("enctype"))||Gh,l=new FormData(f,t),!vI()){let{name:p,type:y,value:_}=t;if(y==="image"){let S=p?`${p}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else p&&l.append(p,_)}}else{if(kf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hh,r=null,a=Gh,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:c}}function Lg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function TI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function SI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function AI(t,e,n){let r=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await TI(l,n);return c.links?c.links():[]}return[]}));return CI(r.flat(1).filter(SI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function NT(t,e,n,r,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>{var y;return n[p].pathname!==m.pathname||((y=n[p].route.path)==null?void 0:y.endsWith("*"))&&n[p].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,p)=>c(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{var _;let y=r.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let S=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function bI(t,e){return wI(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let a=[r.module];return r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function wI(t){return[...new Set(t)]}function RI(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function CI(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let l=JSON.stringify(RI(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}function xI(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function II(){let t=B.useContext(Zo);return Lg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function DI(){let t=B.useContext(Mf);return Lg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ug=B.createContext(void 0);Ug.displayName="FrameworkContext";function RA(){let t=B.useContext(Ug);return Lg(t,"You must render this element inside a <HydratedRouter> element"),t}function PI(t,e){let n=B.useContext(Ug),[r,a]=B.useState(!1),[l,c]=B.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,S=B.useRef(null);B.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let k=L=>{L.forEach(K=>{c(K.isIntersecting)})},O=new IntersectionObserver(k,{threshold:.5});return S.current&&O.observe(S.current),()=>{O.disconnect()}}},[t]),B.useEffect(()=>{if(r){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[r]);let A=()=>{a(!0)},x=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,S,{}]:[l,S,{onFocus:du(f,A),onBlur:du(m,x),onMouseEnter:du(p,A),onMouseLeave:du(y,x),onTouchStart:du(_,A)}]:[!1,S,{}]}function du(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function VI({page:t,...e}){let{router:n}=II(),r=B.useMemo(()=>pA(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?B.createElement(NI,{page:t,matches:r,...e}):null}function OI(t){let{manifest:e,routeModules:n}=RA(),[r,a]=B.useState([]);return B.useEffect(()=>{let l=!1;return AI(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),r}function NI({page:t,matches:e,...n}){let r=Va(),{manifest:a,routeModules:l}=RA(),{loaderData:c,matches:f}=DI(),m=B.useMemo(()=>NT(t,e,f,a,r,"data"),[t,e,f,a,r]),p=B.useMemo(()=>NT(t,e,f,a,r,"assets"),[t,e,f,a,r]),y=B.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let A=new Set,x=!1;if(e.forEach(O=>{var K;let L=a.routes[O.route.id];!L||!L.hasLoader||(!m.some(H=>H.route.id===O.route.id)&&O.route.id in c&&((K=l[O.route.id])!=null&&K.shouldRevalidate)||L.hasClientLoader?x=!0:A.add(O.route.id))}),A.size===0)return[];let k=xI(t);return x&&A.size>0&&k.searchParams.set("_routes",e.filter(O=>A.has(O.route.id)).map(O=>O.route.id).join(",")),[k.pathname+k.search]},[c,r,a,m,e,t,l]),_=B.useMemo(()=>bI(p,a),[p,a]),S=OI(p);return B.createElement(B.Fragment,null,y.map(A=>B.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),_.map(A=>B.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),S.map(({key:A,link:x})=>B.createElement("link",{key:A,...x})))}function MI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var CA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CA&&(window.__reactRouterVersion="7.1.5")}catch{}function kI({basename:t,children:e,window:n}){let r=B.useRef();r.current==null&&(r.current=Ax({window:n,v5Compat:!0}));let a=r.current,[l,c]=B.useState({action:a.action,location:a.location}),f=B.useCallback(m=>{B.startTransition(()=>c(m))},[c]);return B.useLayoutEffect(()=>a.listen(f),[a,f]),B.createElement(hI,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var xA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jg=B.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:y,viewTransition:_,...S},A){let{basename:x}=B.useContext(Gi),k=typeof p=="string"&&xA.test(p),O,L=!1;if(typeof p=="string"&&k&&(O=p,CA))try{let w=new URL(window.location.href),D=p.startsWith("//")?new URL(w.protocol+p):new URL(p),j=Is(D.pathname,x);D.origin===w.origin&&j!=null?p=j+D.search+D.hash:L=!0}catch{Fi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=Qx(p,{relative:a}),[H,ae,X]=PI(r,S),ie=BI(p,{replace:c,state:f,target:m,preventScrollReset:y,relative:a,viewTransition:_});function N(w){e&&e(w),w.defaultPrevented||ie(w)}let R=B.createElement("a",{...S,...X,href:O||K,onClick:L||l?e:N,ref:MI(A,ae),target:m,"data-discover":!k&&n==="render"?"true":void 0});return H&&!k?B.createElement(B.Fragment,null,R,B.createElement(VI,{page:K})):R});jg.displayName="Link";var LI=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...p},y){let _=Wu(c,{relative:p.relative}),S=Va(),A=B.useContext(Mf),{navigator:x,basename:k}=B.useContext(Gi),O=A!=null&&GI(_)&&f===!0,L=x.encodeLocation?x.encodeLocation(_).pathname:_.pathname,K=S.pathname,H=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(K=K.toLowerCase(),H=H?H.toLowerCase():null,L=L.toLowerCase()),H&&k&&(H=Is(H,k)||H);const ae=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let X=K===L||!a&&K.startsWith(L)&&K.charAt(ae)==="/",ie=H!=null&&(H===L||!a&&H.startsWith(L)&&H.charAt(L.length)==="/"),N={isActive:X,isPending:ie,isTransitioning:O},R=X?e:void 0,w;typeof r=="function"?w=r(N):w=[r,X?"active":null,ie?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(N):l;return B.createElement(jg,{...p,"aria-current":R,className:w,ref:y,style:D,to:c,viewTransition:f},typeof m=="function"?m(N):m)});LI.displayName="NavLink";var UI=B.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:l,method:c=Hh,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,...S},A)=>{let x=qI(),k=HI(f,{relative:p}),O=c.toLowerCase()==="get"?"get":"post",L=typeof f=="string"&&xA.test(f),K=H=>{if(m&&m(H),H.defaultPrevented)return;H.preventDefault();let ae=H.nativeEvent.submitter,X=(ae==null?void 0:ae.getAttribute("formmethod"))||c;x(ae||H.currentTarget,{fetcherKey:e,method:X,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_})};return B.createElement("form",{ref:A,method:O,action:k,onSubmit:r?m:K,...S,"data-discover":!L&&t==="render"?"true":void 0})});UI.displayName="Form";function jI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IA(t){let e=B.useContext(Zo);return ft(e,jI(t)),e}function BI(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=js(),m=Va(),p=Wu(t,{relative:l});return B.useCallback(y=>{if(yI(y,e)){y.preventDefault();let _=n!==void 0?n:Nu(m)===Nu(p);f(t,{replace:_,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[m,f,p,n,r,e,t,a,l,c])}var zI=0,FI=()=>`__${String(++zI)}__`;function qI(){let{router:t}=IA("useSubmit"),{basename:e}=B.useContext(Gi),n=oI();return B.useCallback(async(r,a={})=>{let{action:l,method:c,encType:f,formData:m,body:p}=EI(r,e);if(a.navigate===!1){let y=a.fetcherKey||FI();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function HI(t,{relative:e}={}){let{basename:n}=B.useContext(Gi),r=B.useContext(Ki);ft(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...Wu(t||".",{relative:e})},c=Va();if(t==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:br([n,l.pathname])),Nu(l)}function GI(t,e={}){let n=B.useContext(TA);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=IA("useViewTransitionState"),a=Wu(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=Is(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Is(n.nextLocation.pathname,r)||n.nextLocation.pathname;return of(a.pathname,c)!=null||of(a.pathname,l)!=null}new TextEncoder;var MT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},KI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},PA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,f=c?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,y=l>>2,_=(l&3)<<4|f>>4;let S=(f&15)<<2|p>>6,A=p&63;m||(A=64,c||(S=64)),r.push(n[y],n[_],n[S],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(DA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||_==null)throw new $I;const S=l<<2|f>>4;if(r.push(S),p!==64){const A=f<<4&240|p>>2;if(r.push(A),_!==64){const x=p<<6&192|_;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $I extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YI=function(t){const e=DA(t);return PA.encodeByteArray(e,!0)},lf=function(t){return YI(t).replace(/\./g,"")},VA=function(t){try{return PA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=()=>QI().__FIREBASE_DEFAULTS__,WI=()=>{if(typeof process>"u"||typeof MT>"u")return;const t=MT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&VA(t[1]);return e&&JSON.parse(e)},Lf=()=>{try{return XI()||WI()||ZI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},OA=t=>{var e,n;return(n=(e=Lf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},JI=t=>{const e=OA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},NA=()=>{var t;return(t=Lf())===null||t===void 0?void 0:t.config},MA=t=>{var e;return(e=Lf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[lf(JSON.stringify(n)),lf(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function iD(){var t;const e=(t=Lf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function aD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oD(){const t=dn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lD(){return!iD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uD(){try{return typeof indexedDB=="object"}catch{return!1}}function cD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="FirebaseError";class Or extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hD,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zu.prototype.create)}}class Zu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?fD(l,r):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new Or(a,f,r)}}function fD(t,e){return t.replace(dD,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const dD=/\{\$([^}]+)}/g;function mD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function uf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const l=t[a],c=e[a];if(kT(l)&&kT(c)){if(!uf(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function kT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function gu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function pD(t,e){const n=new gD(t,e);return n.subscribe.bind(n)}class gD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");yD(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=Ep),a.error===void 0&&(a.error=Ep),a.complete===void 0&&(a.complete=Ep);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ep(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t){return t&&t._delegate?t._delegate:t}class Ca{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new eD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ED(e))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=Ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ta){return this.instances.has(e)}getOptions(e=Ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(a)}return a}onInit(e,n){var r;const a=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_D(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ta){return this.component?this.component.multipleInstances?e:Ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _D(t){return t===Ta?void 0:t}function ED(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const SD={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},AD=ke.INFO,bD={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},wD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=bD[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bg{constructor(e){this.name=e,this._logLevel=AD,this._logHandler=wD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const RD=(t,e)=>e.some(n=>t instanceof n);let LT,UT;function CD(){return LT||(LT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xD(){return UT||(UT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kA=new WeakMap,$p=new WeakMap,LA=new WeakMap,Tp=new WeakMap,zg=new WeakMap;function ID(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(As(t.result)),a()},c=()=>{r(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&kA.set(n,t)}).catch(()=>{}),zg.set(e,t),e}function DD(t){if($p.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});$p.set(t,e)}let Yp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $p.get(t);if(e==="objectStoreNames")return t.objectStoreNames||LA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return As(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PD(t){Yp=t(Yp)}function VD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Sp(this),e,...n);return LA.set(r,e.sort?e.sort():[e]),As(r)}:xD().includes(t)?function(...e){return t.apply(Sp(this),e),As(kA.get(this))}:function(...e){return As(t.apply(Sp(this),e))}}function OD(t){return typeof t=="function"?VD(t):(t instanceof IDBTransaction&&DD(t),RD(t,CD())?new Proxy(t,Yp):t)}function As(t){if(t instanceof IDBRequest)return ID(t);if(Tp.has(t))return Tp.get(t);const e=OD(t);return e!==t&&(Tp.set(t,e),zg.set(e,t)),e}const Sp=t=>zg.get(t);function ND(t,e,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),f=As(c);return r&&c.addEventListener("upgradeneeded",m=>{r(As(c.result),m.oldVersion,m.newVersion,As(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const MD=["get","getKey","getAll","getAllKeys","count"],kD=["put","add","delete","clear"],Ap=new Map;function jT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ap.get(e))return Ap.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=kD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||MD.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return Ap.set(e,l),l}PD(t=>({...t,get:(e,n,r)=>jT(e,n)||t.get(e,n,r),has:(e,n)=>!!jT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function UD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qp="@firebase/app",BT="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr=new Bg("@firebase/app"),jD="@firebase/app-compat",BD="@firebase/analytics-compat",zD="@firebase/analytics",FD="@firebase/app-check-compat",qD="@firebase/app-check",HD="@firebase/auth",GD="@firebase/auth-compat",KD="@firebase/database",$D="@firebase/data-connect",YD="@firebase/database-compat",QD="@firebase/functions",XD="@firebase/functions-compat",WD="@firebase/installations",ZD="@firebase/installations-compat",JD="@firebase/messaging",eP="@firebase/messaging-compat",tP="@firebase/performance",nP="@firebase/performance-compat",iP="@firebase/remote-config",rP="@firebase/remote-config-compat",sP="@firebase/storage",aP="@firebase/storage-compat",oP="@firebase/firestore",lP="@firebase/vertexai",uP="@firebase/firestore-compat",cP="firebase",hP="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="[DEFAULT]",fP={[Qp]:"fire-core",[jD]:"fire-core-compat",[zD]:"fire-analytics",[BD]:"fire-analytics-compat",[qD]:"fire-app-check",[FD]:"fire-app-check-compat",[HD]:"fire-auth",[GD]:"fire-auth-compat",[KD]:"fire-rtdb",[$D]:"fire-data-connect",[YD]:"fire-rtdb-compat",[QD]:"fire-fn",[XD]:"fire-fn-compat",[WD]:"fire-iid",[ZD]:"fire-iid-compat",[JD]:"fire-fcm",[eP]:"fire-fcm-compat",[tP]:"fire-perf",[nP]:"fire-perf-compat",[iP]:"fire-rc",[rP]:"fire-rc-compat",[sP]:"fire-gcs",[aP]:"fire-gcs-compat",[oP]:"fire-fst",[uP]:"fire-fst-compat",[lP]:"fire-vertex","fire-js":"fire-js",[cP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf=new Map,dP=new Map,Wp=new Map;function zT(t,e){try{t.container.addComponent(e)}catch(n){xr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bo(t){const e=t.name;if(Wp.has(e))return xr.debug(`There were multiple attempts to register component ${e}.`),!1;Wp.set(e,t);for(const n of cf.values())zT(n,t);for(const n of dP.values())zT(n,t);return!0}function Fg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bs=new Zu("app","Firebase",mP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=hP;function UA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Xp,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw bs.create("bad-app-name",{appName:String(a)});if(n||(n=NA()),!n)throw bs.create("no-options");const l=cf.get(a);if(l){if(uf(n,l.options)&&uf(r,l.config))return l;throw bs.create("duplicate-app",{appName:a})}const c=new TD(a);for(const m of Wp.values())c.addComponent(m);const f=new pP(n,r,c);return cf.set(a,f),f}function jA(t=Xp){const e=cf.get(t);if(!e&&t===Xp&&NA())return UA();if(!e)throw bs.create("no-app",{appName:t});return e}function ws(t,e,n){var r;let a=(r=fP[t])!==null&&r!==void 0?r:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xr.warn(f.join(" "));return}Bo(new Ca(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP="firebase-heartbeat-database",yP=1,Mu="firebase-heartbeat-store";let bp=null;function BA(){return bp||(bp=ND(gP,yP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Mu)}catch(n){console.warn(n)}}}}).catch(t=>{throw bs.create("idb-open",{originalErrorMessage:t.message})})),bp}async function vP(t){try{const n=(await BA()).transaction(Mu),r=await n.objectStore(Mu).get(zA(t));return await n.done,r}catch(e){if(e instanceof Or)xr.warn(e.message);else{const n=bs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xr.warn(n.message)}}}async function FT(t,e){try{const r=(await BA()).transaction(Mu,"readwrite");await r.objectStore(Mu).put(e,zA(t)),await r.done}catch(n){if(n instanceof Or)xr.warn(n.message);else{const r=bs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xr.warn(r.message)}}}function zA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=1024,EP=30*24*60*60*1e3;class TP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=qT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const f=new Date(c.date).valueOf();return Date.now()-f<=EP}),this._storage.overwrite(this._heartbeatsCache))}catch(r){xr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=qT(),{heartbeatsToSend:r,unsentEntries:a}=SP(this._heartbeatsCache.heartbeats),l=lf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return xr.warn(n),""}}}function qT(){return new Date().toISOString().substring(0,10)}function SP(t,e=_P){const n=[];let r=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),HT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),HT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class AP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uD()?cD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return FT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return FT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function HT(t){return lf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(t){Bo(new Ca("platform-logger",e=>new LD(e),"PRIVATE")),Bo(new Ca("heartbeat",e=>new TP(e),"PRIVATE")),ws(Qp,BT,t),ws(Qp,BT,"esm2017"),ws("fire-js","")}bP("");var GT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rs,FA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,R){function w(){}w.prototype=R.prototype,N.D=R.prototype,N.prototype=new w,N.prototype.constructor=N,N.C=function(D,j,P){for(var I=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)I[Te-2]=arguments[Te];return R.prototype[j].apply(D,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,R,w){w||(w=0);var D=Array(16);if(typeof R=="string")for(var j=0;16>j;++j)D[j]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(j=0;16>j;++j)D[j]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=N.g[0],w=N.g[1],j=N.g[2];var P=N.g[3],I=R+(P^w&(j^P))+D[0]+3614090360&4294967295;R=w+(I<<7&4294967295|I>>>25),I=P+(j^R&(w^j))+D[1]+3905402710&4294967295,P=R+(I<<12&4294967295|I>>>20),I=j+(w^P&(R^w))+D[2]+606105819&4294967295,j=P+(I<<17&4294967295|I>>>15),I=w+(R^j&(P^R))+D[3]+3250441966&4294967295,w=j+(I<<22&4294967295|I>>>10),I=R+(P^w&(j^P))+D[4]+4118548399&4294967295,R=w+(I<<7&4294967295|I>>>25),I=P+(j^R&(w^j))+D[5]+1200080426&4294967295,P=R+(I<<12&4294967295|I>>>20),I=j+(w^P&(R^w))+D[6]+2821735955&4294967295,j=P+(I<<17&4294967295|I>>>15),I=w+(R^j&(P^R))+D[7]+4249261313&4294967295,w=j+(I<<22&4294967295|I>>>10),I=R+(P^w&(j^P))+D[8]+1770035416&4294967295,R=w+(I<<7&4294967295|I>>>25),I=P+(j^R&(w^j))+D[9]+2336552879&4294967295,P=R+(I<<12&4294967295|I>>>20),I=j+(w^P&(R^w))+D[10]+4294925233&4294967295,j=P+(I<<17&4294967295|I>>>15),I=w+(R^j&(P^R))+D[11]+2304563134&4294967295,w=j+(I<<22&4294967295|I>>>10),I=R+(P^w&(j^P))+D[12]+1804603682&4294967295,R=w+(I<<7&4294967295|I>>>25),I=P+(j^R&(w^j))+D[13]+4254626195&4294967295,P=R+(I<<12&4294967295|I>>>20),I=j+(w^P&(R^w))+D[14]+2792965006&4294967295,j=P+(I<<17&4294967295|I>>>15),I=w+(R^j&(P^R))+D[15]+1236535329&4294967295,w=j+(I<<22&4294967295|I>>>10),I=R+(j^P&(w^j))+D[1]+4129170786&4294967295,R=w+(I<<5&4294967295|I>>>27),I=P+(w^j&(R^w))+D[6]+3225465664&4294967295,P=R+(I<<9&4294967295|I>>>23),I=j+(R^w&(P^R))+D[11]+643717713&4294967295,j=P+(I<<14&4294967295|I>>>18),I=w+(P^R&(j^P))+D[0]+3921069994&4294967295,w=j+(I<<20&4294967295|I>>>12),I=R+(j^P&(w^j))+D[5]+3593408605&4294967295,R=w+(I<<5&4294967295|I>>>27),I=P+(w^j&(R^w))+D[10]+38016083&4294967295,P=R+(I<<9&4294967295|I>>>23),I=j+(R^w&(P^R))+D[15]+3634488961&4294967295,j=P+(I<<14&4294967295|I>>>18),I=w+(P^R&(j^P))+D[4]+3889429448&4294967295,w=j+(I<<20&4294967295|I>>>12),I=R+(j^P&(w^j))+D[9]+568446438&4294967295,R=w+(I<<5&4294967295|I>>>27),I=P+(w^j&(R^w))+D[14]+3275163606&4294967295,P=R+(I<<9&4294967295|I>>>23),I=j+(R^w&(P^R))+D[3]+4107603335&4294967295,j=P+(I<<14&4294967295|I>>>18),I=w+(P^R&(j^P))+D[8]+1163531501&4294967295,w=j+(I<<20&4294967295|I>>>12),I=R+(j^P&(w^j))+D[13]+2850285829&4294967295,R=w+(I<<5&4294967295|I>>>27),I=P+(w^j&(R^w))+D[2]+4243563512&4294967295,P=R+(I<<9&4294967295|I>>>23),I=j+(R^w&(P^R))+D[7]+1735328473&4294967295,j=P+(I<<14&4294967295|I>>>18),I=w+(P^R&(j^P))+D[12]+2368359562&4294967295,w=j+(I<<20&4294967295|I>>>12),I=R+(w^j^P)+D[5]+4294588738&4294967295,R=w+(I<<4&4294967295|I>>>28),I=P+(R^w^j)+D[8]+2272392833&4294967295,P=R+(I<<11&4294967295|I>>>21),I=j+(P^R^w)+D[11]+1839030562&4294967295,j=P+(I<<16&4294967295|I>>>16),I=w+(j^P^R)+D[14]+4259657740&4294967295,w=j+(I<<23&4294967295|I>>>9),I=R+(w^j^P)+D[1]+2763975236&4294967295,R=w+(I<<4&4294967295|I>>>28),I=P+(R^w^j)+D[4]+1272893353&4294967295,P=R+(I<<11&4294967295|I>>>21),I=j+(P^R^w)+D[7]+4139469664&4294967295,j=P+(I<<16&4294967295|I>>>16),I=w+(j^P^R)+D[10]+3200236656&4294967295,w=j+(I<<23&4294967295|I>>>9),I=R+(w^j^P)+D[13]+681279174&4294967295,R=w+(I<<4&4294967295|I>>>28),I=P+(R^w^j)+D[0]+3936430074&4294967295,P=R+(I<<11&4294967295|I>>>21),I=j+(P^R^w)+D[3]+3572445317&4294967295,j=P+(I<<16&4294967295|I>>>16),I=w+(j^P^R)+D[6]+76029189&4294967295,w=j+(I<<23&4294967295|I>>>9),I=R+(w^j^P)+D[9]+3654602809&4294967295,R=w+(I<<4&4294967295|I>>>28),I=P+(R^w^j)+D[12]+3873151461&4294967295,P=R+(I<<11&4294967295|I>>>21),I=j+(P^R^w)+D[15]+530742520&4294967295,j=P+(I<<16&4294967295|I>>>16),I=w+(j^P^R)+D[2]+3299628645&4294967295,w=j+(I<<23&4294967295|I>>>9),I=R+(j^(w|~P))+D[0]+4096336452&4294967295,R=w+(I<<6&4294967295|I>>>26),I=P+(w^(R|~j))+D[7]+1126891415&4294967295,P=R+(I<<10&4294967295|I>>>22),I=j+(R^(P|~w))+D[14]+2878612391&4294967295,j=P+(I<<15&4294967295|I>>>17),I=w+(P^(j|~R))+D[5]+4237533241&4294967295,w=j+(I<<21&4294967295|I>>>11),I=R+(j^(w|~P))+D[12]+1700485571&4294967295,R=w+(I<<6&4294967295|I>>>26),I=P+(w^(R|~j))+D[3]+2399980690&4294967295,P=R+(I<<10&4294967295|I>>>22),I=j+(R^(P|~w))+D[10]+4293915773&4294967295,j=P+(I<<15&4294967295|I>>>17),I=w+(P^(j|~R))+D[1]+2240044497&4294967295,w=j+(I<<21&4294967295|I>>>11),I=R+(j^(w|~P))+D[8]+1873313359&4294967295,R=w+(I<<6&4294967295|I>>>26),I=P+(w^(R|~j))+D[15]+4264355552&4294967295,P=R+(I<<10&4294967295|I>>>22),I=j+(R^(P|~w))+D[6]+2734768916&4294967295,j=P+(I<<15&4294967295|I>>>17),I=w+(P^(j|~R))+D[13]+1309151649&4294967295,w=j+(I<<21&4294967295|I>>>11),I=R+(j^(w|~P))+D[4]+4149444226&4294967295,R=w+(I<<6&4294967295|I>>>26),I=P+(w^(R|~j))+D[11]+3174756917&4294967295,P=R+(I<<10&4294967295|I>>>22),I=j+(R^(P|~w))+D[2]+718787259&4294967295,j=P+(I<<15&4294967295|I>>>17),I=w+(P^(j|~R))+D[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(j+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+j&4294967295,N.g[3]=N.g[3]+P&4294967295}r.prototype.u=function(N,R){R===void 0&&(R=N.length);for(var w=R-this.blockSize,D=this.B,j=this.h,P=0;P<R;){if(j==0)for(;P<=w;)a(this,N,P),P+=this.blockSize;if(typeof N=="string"){for(;P<R;)if(D[j++]=N.charCodeAt(P++),j==this.blockSize){a(this,D),j=0;break}}else for(;P<R;)if(D[j++]=N[P++],j==this.blockSize){a(this,D),j=0;break}}this.h=j,this.o+=R},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;var w=8*this.o;for(R=N.length-8;R<N.length;++R)N[R]=w&255,w/=256;for(this.u(N),N=Array(16),R=w=0;4>R;++R)for(var D=0;32>D;D+=8)N[w++]=this.g[R]>>>D&255;return N};function l(N,R){var w=f;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=R(N)}function c(N,R){this.h=R;for(var w=[],D=!0,j=N.length-1;0<=j;j--){var P=N[j]|0;D&&P==R||(w[j]=P,D=!1)}this.g=w}var f={};function m(N){return-128<=N&&128>N?l(N,function(R){return new c([R|0],0>R?-1:0)}):new c([N|0],0>N?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return _;if(0>N)return O(p(-N));for(var R=[],w=1,D=0;N>=w;D++)R[D]=N/w|0,w*=4294967296;return new c(R,0)}function y(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return O(y(N.substring(1),R));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=p(Math.pow(R,8)),D=_,j=0;j<N.length;j+=8){var P=Math.min(8,N.length-j),I=parseInt(N.substring(j,j+P),R);8>P?(P=p(Math.pow(R,P)),D=D.j(P).add(p(I))):(D=D.j(w),D=D.add(p(I)))}return D}var _=m(0),S=m(1),A=m(16777216);t=c.prototype,t.m=function(){if(k(this))return-O(this).m();for(var N=0,R=1,w=0;w<this.g.length;w++){var D=this.i(w);N+=(0<=D?D:4294967296+D)*R,R*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(x(this))return"0";if(k(this))return"-"+O(this).toString(N);for(var R=p(Math.pow(N,6)),w=this,D="";;){var j=ae(w,R).g;w=L(w,j.j(R));var P=((0<w.g.length?w.g[0]:w.h)>>>0).toString(N);if(w=j,x(w))return P+D;for(;6>P.length;)P="0"+P;D=P+D}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function x(N){if(N.h!=0)return!1;for(var R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function k(N){return N.h==-1}t.l=function(N){return N=L(this,N),k(N)?-1:x(N)?0:1};function O(N){for(var R=N.g.length,w=[],D=0;D<R;D++)w[D]=~N.g[D];return new c(w,~N.h).add(S)}t.abs=function(){return k(this)?O(this):this},t.add=function(N){for(var R=Math.max(this.g.length,N.g.length),w=[],D=0,j=0;j<=R;j++){var P=D+(this.i(j)&65535)+(N.i(j)&65535),I=(P>>>16)+(this.i(j)>>>16)+(N.i(j)>>>16);D=I>>>16,P&=65535,I&=65535,w[j]=I<<16|P}return new c(w,w[w.length-1]&-2147483648?-1:0)};function L(N,R){return N.add(O(R))}t.j=function(N){if(x(this)||x(N))return _;if(k(this))return k(N)?O(this).j(O(N)):O(O(this).j(N));if(k(N))return O(this.j(O(N)));if(0>this.l(A)&&0>N.l(A))return p(this.m()*N.m());for(var R=this.g.length+N.g.length,w=[],D=0;D<2*R;D++)w[D]=0;for(D=0;D<this.g.length;D++)for(var j=0;j<N.g.length;j++){var P=this.i(D)>>>16,I=this.i(D)&65535,Te=N.i(j)>>>16,pe=N.i(j)&65535;w[2*D+2*j]+=I*pe,K(w,2*D+2*j),w[2*D+2*j+1]+=P*pe,K(w,2*D+2*j+1),w[2*D+2*j+1]+=I*Te,K(w,2*D+2*j+1),w[2*D+2*j+2]+=P*Te,K(w,2*D+2*j+2)}for(D=0;D<R;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=R;D<2*R;D++)w[D]=0;return new c(w,0)};function K(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function H(N,R){this.g=N,this.h=R}function ae(N,R){if(x(R))throw Error("division by zero");if(x(N))return new H(_,_);if(k(N))return R=ae(O(N),R),new H(O(R.g),O(R.h));if(k(R))return R=ae(N,O(R)),new H(O(R.g),R.h);if(30<N.g.length){if(k(N)||k(R))throw Error("slowDivide_ only works with positive integers.");for(var w=S,D=R;0>=D.l(N);)w=X(w),D=X(D);var j=ie(w,1),P=ie(D,1);for(D=ie(D,2),w=ie(w,2);!x(D);){var I=P.add(D);0>=I.l(N)&&(j=j.add(w),P=I),D=ie(D,1),w=ie(w,1)}return R=L(N,j.j(R)),new H(j,R)}for(j=_;0<=N.l(R);){for(w=Math.max(1,Math.floor(N.m()/R.m())),D=Math.ceil(Math.log(w)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),P=p(w),I=P.j(R);k(I)||0<I.l(N);)w-=D,P=p(w),I=P.j(R);x(P)&&(P=S),j=j.add(P),N=L(N,I)}return new H(j,N)}t.A=function(N){return ae(this,N).h},t.and=function(N){for(var R=Math.max(this.g.length,N.g.length),w=[],D=0;D<R;D++)w[D]=this.i(D)&N.i(D);return new c(w,this.h&N.h)},t.or=function(N){for(var R=Math.max(this.g.length,N.g.length),w=[],D=0;D<R;D++)w[D]=this.i(D)|N.i(D);return new c(w,this.h|N.h)},t.xor=function(N){for(var R=Math.max(this.g.length,N.g.length),w=[],D=0;D<R;D++)w[D]=this.i(D)^N.i(D);return new c(w,this.h^N.h)};function X(N){for(var R=N.g.length+1,w=[],D=0;D<R;D++)w[D]=N.i(D)<<1|N.i(D-1)>>>31;return new c(w,N.h)}function ie(N,R){var w=R>>5;R%=32;for(var D=N.g.length-w,j=[],P=0;P<D;P++)j[P]=0<R?N.i(P+w)>>>R|N.i(P+w+1)<<32-R:N.i(P+w);return new c(j,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,FA=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,Rs=c}).apply(typeof GT<"u"?GT:typeof self<"u"?self:typeof window<"u"?window:{});var Nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qA,yu,HA,Kh,Zp,GA,KA,$A;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,E){return h==Array.prototype||h==Object.prototype||(h[v]=E.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nh=="object"&&Nh];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function a(h,v){if(v)e:{var E=r;h=h.split(".");for(var C=0;C<h.length-1;C++){var G=h[C];if(!(G in E))break e;E=E[G]}h=h[h.length-1],C=E[h],v=v(C),v!=C&&v!=null&&e(E,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var E=0,C=!1,G={next:function(){if(!C&&E<h.length){var Q=E++;return{value:v(Q,h[Q]),done:!1}}return C=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,E){return h.call.apply(h.bind,arguments)}function _(h,v,E){if(!h)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,C),h.apply(v,G)}}return function(){return h.apply(v,arguments)}}function S(h,v,E){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,S.apply(null,arguments)}function A(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var C=E.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function x(h,v){function E(){}E.prototype=v.prototype,h.aa=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(C,G,Q){for(var oe=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)oe[Be-2]=arguments[Be];return v.prototype[G].apply(C,oe)}}function k(h){const v=h.length;if(0<v){const E=Array(v);for(let C=0;C<v;C++)E[C]=h[C];return E}return[]}function O(h,v){for(let E=1;E<arguments.length;E++){const C=arguments[E];if(m(C)){const G=h.length||0,Q=C.length||0;h.length=G+Q;for(let oe=0;oe<Q;oe++)h[G+oe]=C[oe]}else h.push(C)}}class L{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function K(h){return/^[\s\xa0]*$/.test(h)}function H(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function ae(h){return ae[" "](h),h}ae[" "]=function(){};var X=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function ie(h,v,E){for(const C in h)v.call(E,h[C],C,h)}function N(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function R(h){const v={};for(const E in h)v[E]=h[E];return v}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(h,v){let E,C;for(let G=1;G<arguments.length;G++){C=arguments[G];for(E in C)h[E]=C[E];for(let Q=0;Q<w.length;Q++)E=w[Q],Object.prototype.hasOwnProperty.call(C,E)&&(h[E]=C[E])}}function j(h){var v=1;h=h.split(":");const E=[];for(;0<v&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function P(h){f.setTimeout(()=>{throw h},0)}function I(){var h=ye;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Te{constructor(){this.h=this.g=null}add(v,E){const C=pe.get();C.set(v,E),this.h?this.h.next=C:this.g=C,this.h=C}}var pe=new L(()=>new se,h=>h.reset());class se{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,le=!1,ye=new Te,M=()=>{const h=f.Promise.resolve(void 0);ue=()=>{h.then(te)}};var te=()=>{for(var h;h=I();){try{h.h.call(h.g)}catch(E){P(E)}var v=pe;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}le=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};f.addEventListener("test",E,v),f.removeEventListener("test",E,v)}catch{}return h}();function Re(h,v){if(he.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(X){e:{try{ae(v.nodeName);var G=!0;break e}catch{}G=!1}G||(v=null)}}else E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement);this.relatedTarget=v,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ce[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Re.aa.h.call(this)}}x(Re,he);var Ce={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ze="closure_listenable_"+(1e6*Math.random()|0),Me=0;function tt(h,v,E,C,G){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!C,this.ha=G,this.key=++Me,this.da=this.fa=!1}function He(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function mt(h){this.src=h,this.g={},this.h=0}mt.prototype.add=function(h,v,E,C,G){var Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);var oe=nn(h,v,C,G);return-1<oe?(v=h[oe],E||(v.fa=!1)):(v=new tt(v,this.src,Q,!!C,G),v.fa=E,h.push(v)),v};function tn(h,v){var E=v.type;if(E in h.g){var C=h.g[E],G=Array.prototype.indexOf.call(C,v,void 0),Q;(Q=0<=G)&&Array.prototype.splice.call(C,G,1),Q&&(He(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function nn(h,v,E,C){for(var G=0;G<h.length;++G){var Q=h[G];if(!Q.da&&Q.listener==v&&Q.capture==!!E&&Q.ha==C)return G}return-1}var Ln="closure_lm_"+(1e6*Math.random()|0),Un={};function rn(h,v,E,C,G){if(Array.isArray(v)){for(var Q=0;Q<v.length;Q++)rn(h,v[Q],E,C,G);return null}return E=Bn(E),h&&h[Ze]?h.K(v,E,p(C)?!!C.capture:!1,G):jn(h,v,E,!1,C,G)}function jn(h,v,E,C,G,Q){if(!v)throw Error("Invalid event type");var oe=p(G)?!!G.capture:!!G,Be=Je(h);if(Be||(h[Ln]=Be=new mt(h)),E=Be.add(v,E,C,oe,Q),E.proxy)return E;if(C=li(),E.proxy=C,C.src=h,C.listener=E,h.addEventListener)ce||(G=oe),G===void 0&&(G=!1),h.addEventListener(v.toString(),C,G);else if(h.attachEvent)h.attachEvent(Cn(v.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return E}function li(){function h(E){return v.call(h.src,h.listener,E)}const v=Nr;return h}function Rn(h,v,E,C,G){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)Rn(h,v[Q],E,C,G);else C=p(C)?!!C.capture:!!C,E=Bn(E),h&&h[Ze]?(h=h.i,v=String(v).toString(),v in h.g&&(Q=h.g[v],E=nn(Q,E,C,G),-1<E&&(He(Q[E]),Array.prototype.splice.call(Q,E,1),Q.length==0&&(delete h.g[v],h.h--)))):h&&(h=Je(h))&&(v=h.g[v.toString()],h=-1,v&&(h=nn(v,E,C,G)),(E=-1<h?v[h]:null)&&Tn(E))}function Tn(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Ze])tn(v.i,h);else{var E=h.type,C=h.proxy;v.removeEventListener?v.removeEventListener(E,C,h.capture):v.detachEvent?v.detachEvent(Cn(E),C):v.addListener&&v.removeListener&&v.removeListener(C),(E=Je(v))?(tn(E,h),E.h==0&&(E.src=null,v[Ln]=null)):He(h)}}}function Cn(h){return h in Un?Un[h]:Un[h]="on"+h}function Nr(h,v){if(h.da)h=!0;else{v=new Re(v,this);var E=h.listener,C=h.ha||h.src;h.fa&&Tn(h),h=E.call(C,v)}return h}function Je(h){return h=h[Ln],h instanceof mt?h:null}var st="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bn(h){return typeof h=="function"?h:(h[st]||(h[st]=function(v){return h.handleEvent(v)}),h[st])}function pt(){de.call(this),this.i=new mt(this),this.M=this,this.F=null}x(pt,de),pt.prototype[Ze]=!0,pt.prototype.removeEventListener=function(h,v,E,C){Rn(this,h,v,E,C)};function jt(h,v){var E,C=h.F;if(C)for(E=[];C;C=C.F)E.push(C);if(h=h.M,C=v.type||v,typeof v=="string")v=new he(v,h);else if(v instanceof he)v.target=v.target||h;else{var G=v;v=new he(C,h),D(v,G)}if(G=!0,E)for(var Q=E.length-1;0<=Q;Q--){var oe=v.g=E[Q];G=Qi(oe,C,!0,v)&&G}if(oe=v.g=h,G=Qi(oe,C,!0,v)&&G,G=Qi(oe,C,!1,v)&&G,E)for(Q=0;Q<E.length;Q++)oe=v.g=E[Q],G=Qi(oe,C,!1,v)&&G}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var E=h.g[v],C=0;C<E.length;C++)He(E[C]);delete h.g[v],h.h--}}this.F=null},pt.prototype.K=function(h,v,E,C){return this.i.add(String(h),v,!1,E,C)},pt.prototype.L=function(h,v,E,C){return this.i.add(String(h),v,!0,E,C)};function Qi(h,v,E,C){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var G=!0,Q=0;Q<v.length;++Q){var oe=v[Q];if(oe&&!oe.da&&oe.capture==E){var Be=oe.listener,Ot=oe.ha||oe.src;oe.fa&&tn(h.i,oe),G=Be.call(Ot,C)!==!1&&G}}return G&&!C.defaultPrevented}function dc(h,v,E){if(typeof h=="function")E&&(h=S(h,E));else if(h&&typeof h.handleEvent=="function")h=S(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function ol(h){h.g=dc(()=>{h.g=null,h.i&&(h.i=!1,ol(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class fd extends de{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ol(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qs(h){de.call(this),this.h=h,this.g={}}x(qs,de);var Mr=[];function sn(h){ie(h.g,function(v,E){this.g.hasOwnProperty(E)&&Tn(v)},h),h.g={}}qs.prototype.N=function(){qs.aa.N.call(this),sn(this)},qs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ll=f.JSON.stringify,vi=f.JSON.parse,mn=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function ul(){}ul.prototype.h=null;function mc(h){return h.h||(h.h=h.i())}function pc(){}var _i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kr(){he.call(this,"d")}x(kr,he);function ui(){he.call(this,"c")}x(ui,he);var zn={},Lr=null;function La(){return Lr=Lr||new pt}zn.La="serverreachability";function cl(h){he.call(this,zn.La,h)}x(cl,he);function Ur(h){const v=La();jt(v,new cl(v))}zn.STAT_EVENT="statevent";function Ua(h,v){he.call(this,zn.STAT_EVENT,h),this.stat=v}x(Ua,he);function St(h){const v=La();jt(v,new Ua(v,h))}zn.Ma="timingevent";function gc(h,v){he.call(this,zn.Ma,h),this.size=v}x(gc,he);function jr(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function Br(){this.g=!0}Br.prototype.xa=function(){this.g=!1};function yc(h,v,E,C,G,Q){h.info(function(){if(h.g)if(Q)for(var oe="",Be=Q.split("&"),Ot=0;Ot<Be.length;Ot++){var ze=Be[Ot].split("=");if(1<ze.length){var Ft=ze[0];ze=ze[1];var Nt=Ft.split("_");oe=2<=Nt.length&&Nt[1]=="type"?oe+(Ft+"="+ze+"&"):oe+(Ft+"=redacted&")}}else oe=null;else oe=Q;return"XMLHTTP REQ ("+C+") [attempt "+G+"]: "+v+`
`+E+`
`+oe})}function vc(h,v,E,C,G,Q,oe){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+G+"]: "+v+`
`+E+`
`+Q+" "+oe})}function zr(h,v,E,C){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Bt(h,E)+(C?" "+C:"")})}function Ei(h,v){h.info(function(){return"TIMEOUT: "+v})}Br.prototype.info=function(){};function Bt(h,v){if(!h.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var C=E[h];if(!(2>C.length)){var G=C[1];if(Array.isArray(G)&&!(1>G.length)){var Q=G[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var oe=1;oe<G.length;oe++)G[oe]=""}}}}return ll(E)}catch{return v}}var Vt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hs;function ja(){}x(ja,ul),ja.prototype.g=function(){return new XMLHttpRequest},ja.prototype.i=function(){return{}},Hs=new ja;function Ti(h,v,E,C){this.j=h,this.i=v,this.l=E,this.R=C||1,this.U=new qs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new hl}function hl(){this.i=null,this.g="",this.h=!1}var Fr={},Gs={};function ci(h,v,E){h.L=1,h.v=Ys(gt(v)),h.m=E,h.P=!0,Wi(h,null)}function Wi(h,v){h.F=Date.now(),lt(h),h.A=gt(h.v);var E=h.A,C=h.R;Array.isArray(C)||(C=[String(C)]),er(E.i,"t",C),h.C=0,E=h.j.J,h.h=new hl,h.g=Vc(h.j,E?v:null,!h.m),0<h.O&&(h.M=new fd(S(h.Y,h,h.g),h.O)),v=h.U,E=h.g,C=h.ca;var G="readystatechange";Array.isArray(G)||(G&&(Mr[0]=G.toString()),G=Mr);for(var Q=0;Q<G.length;Q++){var oe=rn(E,G[Q],C||v.handleEvent,!1,v.h||v);if(!oe)break;v.g[oe.key]=oe}v=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Ur(),yc(h.i,h.u,h.A,h.l,h.R,h.m)}Ti.prototype.ca=function(h){h=h.target;const v=this.M;v&&Kn(h)==3?v.j():this.Y(h)},Ti.prototype.Y=function(h){try{if(h==this.g)e:{const Nt=Kn(this.g);var v=this.g.Ba();const rr=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||bc(this.g)))){this.J||Nt!=4||v==7||(v==8||0>=rr?Ur(3):Ur(2)),Ba(this);var E=this.g.Z();this.X=E;t:if(qr(this)){var C=bc(this.g);h="";var G=C.length,Q=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Sn(this),xn(this);var oe="";break t}this.h.i=new f.TextDecoder}for(v=0;v<G;v++)this.h.h=!0,h+=this.h.i.decode(C[v],{stream:!(Q&&v==G-1)});C.length=0,this.h.g+=h,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=E==200,vc(this.i,this.u,this.A,this.l,this.R,Nt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Ot=this.g;if((Be=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Be)){var ze=Be;break t}}ze=null}if(E=ze)zr(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,In(this,E);else{this.o=!1,this.s=3,St(12),Sn(this),xn(this);break e}}if(this.P){E=!0;let $t;for(;!this.J&&this.C<oe.length;)if($t=Hr(this,oe),$t==Gs){Nt==4&&(this.s=4,St(14),E=!1),zr(this.i,this.l,null,"[Incomplete Response]");break}else if($t==Fr){this.s=4,St(15),zr(this.i,this.l,oe,"[Invalid Chunk]"),E=!1;break}else zr(this.i,this.l,$t,null),In(this,$t);if(qr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||oe.length!=0||this.h.h||(this.s=1,St(16),E=!1),this.o=this.o&&E,!E)zr(this.i,this.l,oe,"[Invalid Chunked Response]"),Sn(this),xn(this);else if(0<oe.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),ta(Ft),Ft.M=!0,St(11))}}else zr(this.i,this.l,oe,null),In(this,oe);Nt==4&&Sn(this),this.o&&!this.J&&(Nt==4?Ic(this.j,this):(this.o=!1,lt(this)))}else vd(this.g),E==400&&0<oe.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),Sn(this),xn(this)}}}catch{}finally{}};function qr(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Hr(h,v){var E=h.C,C=v.indexOf(`
`,E);return C==-1?Gs:(E=Number(v.substring(E,C)),isNaN(E)?Fr:(C+=1,C+E>v.length?Gs:(v=v.slice(C,C+E),h.C=C+E,v)))}Ti.prototype.cancel=function(){this.J=!0,Sn(this)};function lt(h){h.S=Date.now()+h.I,fl(h,h.I)}function fl(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=jr(S(h.ba,h),v)}function Ba(h){h.B&&(f.clearTimeout(h.B),h.B=null)}Ti.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Ei(this.i,this.A),this.L!=2&&(Ur(),St(17)),Sn(this),this.s=2,xn(this)):fl(this,this.S-h)};function xn(h){h.j.G==0||h.J||Ic(h.j,h)}function Sn(h){Ba(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,sn(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function In(h,v){try{var E=h.j;if(E.G!=0&&(E.g==h||Gr(E.h,h))){if(!h.K&&Gr(E.h,h)&&E.G==3){try{var C=E.Da.g.parse(v)}catch{C=null}if(Array.isArray(C)&&C.length==3){var G=C;if(G[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)Xa(E),Ya(E);else break e;Al(E),St(18)}}else E.za=G[1],0<E.za-E.T&&37500>G[2]&&E.F&&E.v==0&&!E.C&&(E.C=jr(S(E.Za,E),6e3));if(1>=_c(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else ir(E,11)}else if((h.K||E.g==h)&&Xa(E),!K(v))for(G=E.Da.g.parse(v),v=0;v<G.length;v++){let ze=G[v];if(E.T=ze[0],ze=ze[1],E.G==2)if(ze[0]=="c"){E.K=ze[1],E.ia=ze[2];const Ft=ze[3];Ft!=null&&(E.la=Ft,E.j.info("VER="+E.la));const Nt=ze[4];Nt!=null&&(E.Aa=Nt,E.j.info("SVER="+E.Aa));const rr=ze[5];rr!=null&&typeof rr=="number"&&0<rr&&(C=1.5*rr,E.L=C,E.j.info("backChannelRequestTimeoutMs_="+C)),C=E;const $t=h.g;if($t){const xi=$t.g?$t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xi){var Q=C.h;Q.g||xi.indexOf("spdy")==-1&&xi.indexOf("quic")==-1&&xi.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Kr(Q,Q.h),Q.h=null))}if(C.D){const wl=$t.g?$t.g.getResponseHeader("X-HTTP-Session-Id"):null;wl&&(C.ya=wl,Ge(C.I,C.D,wl))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),C=E;var oe=h;if(C.qa=Pc(C,C.J?C.ia:null,C.W),oe.K){Fn(C.h,oe);var Be=oe,Ot=C.L;Ot&&(Be.I=Ot),Be.B&&(Ba(Be),lt(Be)),C.g=oe}else Cc(C);0<E.i.length&&Qa(E)}else ze[0]!="stop"&&ze[0]!="close"||ir(E,7);else E.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?ir(E,7):Tl(E):ze[0]!="noop"&&E.l&&E.l.ta(ze),E.v=0)}}Ur(4)}catch{}}var dd=class{constructor(h,v){this.g=h,this.map=v}};function dl(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ml(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function _c(h){return h.h?1:h.g?h.g.size:0}function Gr(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Kr(h,v){h.g?h.g.add(v):h.h=v}function Fn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}dl.prototype.cancel=function(){if(this.i=pn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function pn(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.D);return v}return k(h.i)}function Ec(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],E=h.length,C=0;C<E;C++)v.push(h[C]);return v}v=[],E=0;for(C in h)v[E++]=h[C];return v}function md(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var E=0;E<h;E++)v.push(E);return v}v=[],E=0;for(const C in h)v[E++]=C;return v}}}function Ks(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var E=md(h),C=Ec(h),G=C.length,Q=0;Q<G;Q++)v.call(void 0,C[Q],E&&E[Q],h)}var pl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function za(h,v){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var C=h[E].indexOf("="),G=null;if(0<=C){var Q=h[E].substring(0,C);G=h[E].substring(C+1)}else Q=h[E];v(Q,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Zi(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Zi){this.h=h.h,$r(this,h.j),this.o=h.o,this.g=h.g,$s(this,h.s),this.l=h.l;var v=h.i,E=new Si;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),Fa(this,E),this.m=h.m}else h&&(v=String(h).match(pl))?(this.h=!1,$r(this,v[1]||"",!0),this.o=Yr(v[2]||""),this.g=Yr(v[3]||"",!0),$s(this,v[4]),this.l=Yr(v[5]||"",!0),Fa(this,v[6]||"",!0),this.m=Yr(v[7]||"")):(this.h=!1,this.i=new Si(null,this.h))}Zi.prototype.toString=function(){var h=[],v=this.j;v&&h.push(qn(v,gl,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(qn(v,gl,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(qn(E,E.charAt(0)=="/"?yl:Tc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",qn(E,yd)),h.join("")};function gt(h){return new Zi(h)}function $r(h,v,E){h.j=E?Yr(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function $s(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Fa(h,v,E){v instanceof Si?(h.i=v,vl(h.i,h.h)):(E||(v=qn(v,gd)),h.i=new Si(v,h.h))}function Ge(h,v,E){h.i.set(v,E)}function Ys(h){return Ge(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Yr(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function qn(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,pd),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function pd(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var gl=/[#\/\?@]/g,Tc=/[#\?:]/g,yl=/[#\?]/g,gd=/[#\?@]/g,yd=/#/g;function Si(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Hn(h){h.g||(h.g=new Map,h.h=0,h.i&&za(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}t=Si.prototype,t.add=function(h,v){Hn(this),this.i=null,h=tr(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function qa(h,v){Hn(h),v=tr(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Ji(h,v){return Hn(h),v=tr(h,v),h.g.has(v)}t.forEach=function(h,v){Hn(this),this.g.forEach(function(E,C){E.forEach(function(G){h.call(v,G,C,this)},this)},this)},t.na=function(){Hn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let C=0;C<v.length;C++){const G=h[C];for(let Q=0;Q<G.length;Q++)E.push(v[C])}return E},t.V=function(h){Hn(this);let v=[];if(typeof h=="string")Ji(this,h)&&(v=v.concat(this.g.get(tr(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)v=v.concat(h[E])}return v},t.set=function(h,v){return Hn(this),this.i=null,h=tr(this,h),Ji(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function er(h,v,E){qa(h,v),0<E.length&&(h.i=null,h.g.set(tr(h,v),k(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var C=v[E];const Q=encodeURIComponent(String(C)),oe=this.V(C);for(C=0;C<oe.length;C++){var G=Q;oe[C]!==""&&(G+="="+encodeURIComponent(String(oe[C]))),h.push(G)}}return this.i=h.join("&")};function tr(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function vl(h,v){v&&!h.j&&(Hn(h),h.i=null,h.g.forEach(function(E,C){var G=C.toLowerCase();C!=G&&(qa(this,C),er(this,G,E))},h)),h.j=v}function Sc(h,v){const E=new Br;if(f.Image){const C=new Image;C.onload=A(Gn,E,"TestLoadImage: loaded",!0,v,C),C.onerror=A(Gn,E,"TestLoadImage: error",!1,v,C),C.onabort=A(Gn,E,"TestLoadImage: abort",!1,v,C),C.ontimeout=A(Gn,E,"TestLoadImage: timeout",!1,v,C),f.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else v(!1)}function Qs(h,v){const E=new Br,C=new AbortController,G=setTimeout(()=>{C.abort(),Gn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:C.signal}).then(Q=>{clearTimeout(G),Q.ok?Gn(E,"TestPingServer: ok",!0,v):Gn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),Gn(E,"TestPingServer: error",!1,v)})}function Gn(h,v,E,C,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),C(E)}catch{}}function Xs(){this.g=new mn}function Ai(h,v,E){const C=E||"";try{Ks(h,function(G,Q){let oe=G;p(G)&&(oe=ll(G)),v.push(C+Q+"="+encodeURIComponent(oe))})}catch(G){throw v.push(C+"type="+encodeURIComponent("_badmap")),G}}function Qr(h){this.l=h.Ub||null,this.j=h.eb||!1}x(Qr,ul),Qr.prototype.g=function(){return new nr(this.l,this.j)},Qr.prototype.i=function(h){return function(){return h}}({});function nr(h,v){pt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(nr,pt),t=nr.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,wi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bi(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,wi(this)),this.g&&(this.readyState=3,wi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_l(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function _l(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?bi(this):wi(this),this.readyState==3&&_l(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,bi(this))},t.Qa=function(h){this.g&&(this.response=h,bi(this))},t.ga=function(){this.g&&bi(this)};function bi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,wi(h)}t.setRequestHeader=function(h,v){this.u.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function wi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(nr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function El(h){let v="";return ie(h,function(E,C){v+=C,v+=":",v+=E,v+=`\r
`}),v}function zt(h,v,E){e:{for(C in E){var C=!1;break e}C=!0}C||(E=El(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):Ge(h,v,E))}function Ye(h){pt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ye,pt);var Ha=/^https?$/i,Ws=["POST","PUT"];t=Ye.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,v,E,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hs.g(),this.v=this.o?mc(this.o):mc(Hs),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Q){Ac(this,Q);return}if(h=E||"",E=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var G in C)E.set(G,C[G]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const Q of C.keys())E.set(Q,C.get(Q));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),G=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Ws,v,void 0))||C||G||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,oe]of E)this.g.setRequestHeader(Q,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zs(this),this.u=!0,this.g.send(h),this.u=!1}catch(Q){Ac(this,Q)}};function Ac(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Ga(h),Ri(h)}function Ga(h){h.A||(h.A=!0,jt(h,"complete"),jt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,jt(this,"complete"),jt(this,"abort"),Ri(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ri(this,!0)),Ye.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ka(this):this.bb())},t.bb=function(){Ka(this)};function Ka(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Kn(h)!=4||h.Z()!=2)){if(h.u&&Kn(h)==4)dc(h.Ea,0,h);else if(jt(h,"readystatechange"),Kn(h)==4){h.h=!1;try{const oe=h.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var C;if(C=oe===0){var G=String(h.D).match(pl)[1]||null;!G&&f.self&&f.self.location&&(G=f.self.location.protocol.slice(0,-1)),C=!Ha.test(G?G.toLowerCase():"")}E=C}if(E)jt(h,"complete"),jt(h,"success");else{h.m=6;try{var Q=2<Kn(h)?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.Z()+"]",Ga(h)}}finally{Ri(h)}}}}function Ri(h,v){if(h.g){Zs(h);const E=h.g,C=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||jt(h,"ready");try{E.onreadystatechange=C}catch{}}}function Zs(h){h.I&&(f.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Kn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),vi(v)}};function bc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function vd(h){const v={};h=(h.g&&2<=Kn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(K(h[C]))continue;var E=j(h[C]);const G=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=v[G]||[];v[G]=Q,Q.push(E)}N(v,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Js(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function $a(h){this.Aa=0,this.i=[],this.j=new Br,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Js("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Js("baseRetryDelayMs",5e3,h),this.cb=Js("retryDelaySeedMs",1e4,h),this.Wa=Js("forwardChannelMaxRetries",2,h),this.wa=Js("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new dl(h&&h.concurrentRequestLimit),this.Da=new Xs,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=$a.prototype,t.la=8,t.G=1,t.connect=function(h,v,E,C){St(0),this.W=h,this.H=v||{},E&&C!==void 0&&(this.H.OSID=E,this.H.OAID=C),this.F=this.X,this.I=Pc(this,null,this.W),Qa(this)};function Tl(h){if(wc(h),h.G==3){var v=h.U++,E=gt(h.I);if(Ge(E,"SID",h.K),Ge(E,"RID",v),Ge(E,"TYPE","terminate"),ea(h,E),v=new Ti(h,h.j,v),v.L=2,v.v=Ys(gt(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&f.Image&&(new Image().src=v.v,E=!0),E||(v.g=Vc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),lt(v)}Dc(h)}function Ya(h){h.g&&(ta(h),h.g.cancel(),h.g=null)}function wc(h){Ya(h),h.u&&(f.clearTimeout(h.u),h.u=null),Xa(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function Qa(h){if(!ml(h.h)&&!h.s){h.s=!0;var v=h.Ga;ue||M(),le||(ue(),le=!0),ye.add(v,h),h.B=0}}function _d(h,v){return _c(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=jr(S(h.Ga,h,v),bl(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const G=new Ti(this,this.j,h);let Q=this.o;if(this.S&&(Q?(Q=R(Q),D(Q,this.S)):Q=this.S),this.m!==null||this.O||(G.H=Q,Q=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var C=this.i[E];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(v+=C,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Rc(this,G,v),E=gt(this.I),Ge(E,"RID",h),Ge(E,"CVER",22),this.D&&Ge(E,"X-HTTP-Session-Id",this.D),ea(this,E),Q&&(this.O?v="headers="+encodeURIComponent(String(El(Q)))+"&"+v:this.m&&zt(E,this.m,Q)),Kr(this.h,G),this.Ua&&Ge(E,"TYPE","init"),this.P?(Ge(E,"$req",v),Ge(E,"SID","null"),G.T=!0,ci(G,E,null)):ci(G,E,v),this.G=2}}else this.G==3&&(h?Sl(this,h):this.i.length==0||ml(this.h)||Sl(this))};function Sl(h,v){var E;v?E=v.l:E=h.U++;const C=gt(h.I);Ge(C,"SID",h.K),Ge(C,"RID",E),Ge(C,"AID",h.T),ea(h,C),h.m&&h.o&&zt(C,h.m,h.o),E=new Ti(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Rc(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Kr(h.h,E),ci(E,C,v)}function ea(h,v){h.H&&ie(h.H,function(E,C){Ge(v,C,E)}),h.l&&Ks({},function(E,C){Ge(v,C,E)})}function Rc(h,v,E){E=Math.min(h.i.length,E);var C=h.l?S(h.l.Na,h.l,h):null;e:{var G=h.i;let Q=-1;for(;;){const oe=["count="+E];Q==-1?0<E?(Q=G[0].g,oe.push("ofs="+Q)):Q=0:oe.push("ofs="+Q);let Be=!0;for(let Ot=0;Ot<E;Ot++){let ze=G[Ot].g;const Ft=G[Ot].map;if(ze-=Q,0>ze)Q=Math.max(0,G[Ot].g-100),Be=!1;else try{Ai(Ft,oe,"req"+ze+"_")}catch{C&&C(Ft)}}if(Be){C=oe.join("&");break e}}}return h=h.i.splice(0,E),v.D=h,C}function Cc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;ue||M(),le||(ue(),le=!0),ye.add(v,h),h.v=0}}function Al(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=jr(S(h.Fa,h),bl(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,xc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=jr(S(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,St(10),Ya(this),xc(this))};function ta(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function xc(h){h.g=new Ti(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=gt(h.qa);Ge(v,"RID","rpc"),Ge(v,"SID",h.K),Ge(v,"AID",h.T),Ge(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ge(v,"TO",h.ja),Ge(v,"TYPE","xmlhttp"),ea(h,v),h.m&&h.o&&zt(v,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=Ys(gt(v)),E.m=null,E.P=!0,Wi(E,h)}t.Za=function(){this.C!=null&&(this.C=null,Ya(this),Al(this),St(19))};function Xa(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function Ic(h,v){var E=null;if(h.g==v){Xa(h),ta(h),h.g=null;var C=2}else if(Gr(h.h,v))E=v.D,Fn(h.h,v),C=1;else return;if(h.G!=0){if(v.o)if(C==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var G=h.B;C=La(),jt(C,new gc(C,E)),Qa(h)}else Cc(h);else if(G=v.s,G==3||G==0&&0<v.X||!(C==1&&_d(h,v)||C==2&&Al(h)))switch(E&&0<E.length&&(v=h.h,v.i=v.i.concat(E)),G){case 1:ir(h,5);break;case 4:ir(h,10);break;case 3:ir(h,6);break;default:ir(h,2)}}}function bl(h,v){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*v}function ir(h,v){if(h.j.info("Error code "+v),v==2){var E=S(h.fb,h),C=h.Xa;const G=!C;C=new Zi(C||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||$r(C,"https"),Ys(C),G?Sc(C.toString(),E):Qs(C.toString(),E)}else St(2);h.G=0,h.l&&h.l.sa(v),Dc(h),wc(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function Dc(h){if(h.G=0,h.ka=[],h.l){const v=pn(h.h);(v.length!=0||h.i.length!=0)&&(O(h.ka,v),O(h.ka,h.i),h.h.i.length=0,k(h.i),h.i.length=0),h.l.ra()}}function Pc(h,v,E){var C=E instanceof Zi?gt(E):new Zi(E);if(C.g!="")v&&(C.g=v+"."+C.g),$s(C,C.s);else{var G=f.location;C=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;var Q=new Zi(null);C&&$r(Q,C),v&&(Q.g=v),G&&$s(Q,G),E&&(Q.l=E),C=Q}return E=h.D,v=h.ya,E&&v&&Ge(C,E,v),Ge(C,"VER",h.la),ea(h,C),C}function Vc(h,v,E){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new Ye(new Qr({eb:E})):new Ye(h.pa),v.Ha(h.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oc(){}t=Oc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Wa(){}Wa.prototype.g=function(h,v){return new gn(h,v)};function gn(h,v){pt.call(this),this.g=new $a(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!K(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!K(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Ci(this)}x(gn,pt),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Tl(this.g)},gn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=ll(h),h=E);v.i.push(new dd(v.Ya++,h)),v.G==3&&Qa(v)},gn.prototype.N=function(){this.g.l=null,delete this.j,Tl(this.g),delete this.g,gn.aa.N.call(this)};function Nc(h){kr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const E in v){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}x(Nc,kr);function Mc(){ui.call(this),this.status=1}x(Mc,ui);function Ci(h){this.g=h}x(Ci,Oc),Ci.prototype.ua=function(){jt(this.g,"a")},Ci.prototype.ta=function(h){jt(this.g,new Nc(h))},Ci.prototype.sa=function(h){jt(this.g,new Mc)},Ci.prototype.ra=function(){jt(this.g,"b")},Wa.prototype.createWebChannel=Wa.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,$A=function(){return new Wa},KA=function(){return La()},GA=zn,Zp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vt.NO_ERROR=0,Vt.TIMEOUT=8,Vt.HTTP_ERROR=6,Kh=Vt,Xi.COMPLETE="complete",HA=Xi,pc.EventType=_i,_i.OPEN="a",_i.CLOSE="b",_i.ERROR="c",_i.MESSAGE="d",pt.prototype.listen=pt.prototype.K,yu=pc,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,qA=Ye}).apply(typeof Nh<"u"?Nh:typeof self<"u"?self:typeof window<"u"?window:{});const KT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new Bg("@firebase/firestore");function wo(){return xa.logLevel}function fe(t,...e){if(xa.logLevel<=ke.DEBUG){const n=e.map(qg);xa.debug(`Firestore (${el}): ${t}`,...n)}}function Ir(t,...e){if(xa.logLevel<=ke.ERROR){const n=e.map(qg);xa.error(`Firestore (${el}): ${t}`,...n)}}function zo(t,...e){if(xa.logLevel<=ke.WARN){const n=e.map(qg);xa.warn(`Firestore (${el}): ${t}`,...n)}}function qg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t="Unexpected state"){const e=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: `+t;throw Ir(e),new Error(e)}function Qe(t,e){t||we()}function De(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Or{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(cn.UNAUTHENTICATED))}shutdown(){}}class RP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class CP{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0);let r=this.i;const a=m=>this.i!==r?(r=this.i,n(m)):Promise.resolve();let l=new Cs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Cs,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},f=m=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Cs)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string"),new YA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new cn(e)}}class xP{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class IP{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new xP(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Qe(this.o===void 0);const r=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const a=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string"),this.R=n.token,new DP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const a=VP(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=e.charAt(a[l]%e.length))}return r}}function je(t,e){return t<e?-1:t>e?1:0}function Fo(t,e,n){return t.length===e.length&&t.every((r,a)=>n(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new _e(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new Rt(0,0))}static max(){return new xe(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n,r){n===void 0?n=0:n>e.length&&we(),r===void 0?r=e.length-n:r>e.length-n&&we(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ni.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ni?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const l=Ni.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=Ni.isNumericId(e),a=Ni.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Ni.extractNumericId(e).compare(Ni.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rs.fromString(e.substring(4,e.length-2))}}class ot extends Ni{construct(e,n,r){return new ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new ot(n)}static emptyPath(){return new ot([])}}const OP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Ni{construct(e,n,r){return new Jt(e,n,r)}static isValidIdentifier(e){return OP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Jt(["__name__"])}static fromServerFormat(e){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new _e(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new _e(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new _e(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(r+=f,a++):(l(),a++)}if(l(),c)throw new _e(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ot.fromString(e))}static fromName(e){return new Ee(ot.fromString(e).popFirst(5))}static empty(){return new Ee(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ot(e.slice()))}}function NP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=xe.fromTimestamp(r===1e9?new Rt(n+1,0):new Rt(n,r));return new Ds(a,Ee.empty(),e)}function MP(t){return new Ds(t.readTime,t.key,-1)}class Ds{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ds(xe.min(),Ee.empty(),-1)}static max(){return new Ds(xe.max(),Ee.empty(),-1)}}function kP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==LP)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let a=0,l=0,c=!1;e.forEach(f=>{++a,f.next(()=>{++l,c&&l===a&&n()},m=>r(m))}),c=!0,l===a&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(a=>a?ee.resolve(a):r());return n}static forEach(e,n){const r=[];return e.forEach((a,l)=>{r.push(n.call(this,a,l))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,a)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next(y=>{c[p]=y,++f,f===l&&r(c)},y=>a(y))}})}static doWhile(e,n){return new ee((r,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):r()};l()})}}function jP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Uf.oe=-1;function jf(t){return t==null}function hf(t){return t===0&&1/t==-1/0}function BP(t){return typeof t=="number"&&Number.isInteger(t)&&!hf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$T(e)),e=FP(t.get(n),e);return $T(e)}function FP(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case"":n+="";break;default:n+=l}}return n}function $T(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function XA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mh(this.root,e,this.comparator,!0)}}class Mh{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,r,a,l){this.key=e,this.value=n,this.color=r??Zt.RED,this.left=a??Zt.EMPTY,this.right=l??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,l){return new Zt(e??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Zt.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,n,r,a,l){return this}insert(e,n,r){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new QT(this.data.getIterator())}getIteratorFrom(e){return new QT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class QT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Mn([])}unionWith(e){let n=new Ut(Jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new WA("Invalid base64 string: "+l):l}}(e);return new en(n)}static fromUint8Array(e){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const qP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ps(t){if(Qe(!!t),typeof t=="string"){let e=0;const n=qP.exec(t);if(Qe(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vs(t){return typeof t=="string"?en.fromBase64String(t):en.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Bf(t){const e=t.mapValue.fields.__previous_value__;return Hg(e)?Bf(e):e}function ku(t){const e=Ps(t.mapValue.fields.__local_write_time__.timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,n,r,a,l,c,f,m,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p}}class Lu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Lu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Lu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh={mapValue:{}};function Os(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hg(t)?4:KP(t)?9007199254740991:GP(t)?10:11:we()}function qi(t,e){if(t===e)return!0;const n=Os(t);if(n!==Os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ku(t).isEqual(ku(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ps(a.timestampValue),f=Ps(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return Vs(a.bytesValue).isEqual(Vs(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return wt(a.geoPointValue.latitude)===wt(l.geoPointValue.latitude)&&wt(a.geoPointValue.longitude)===wt(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return wt(a.integerValue)===wt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=wt(a.doubleValue),f=wt(l.doubleValue);return c===f?hf(c)===hf(f):isNaN(c)&&isNaN(f)}return!1}(t,e);case 9:return Fo(t.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(YT(c)!==YT(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!qi(c[m],f[m])))return!1;return!0}(t,e);default:return we()}}function Uu(t,e){return(t.values||[]).find(n=>qi(n,e))!==void 0}function qo(t,e){if(t===e)return 0;const n=Os(t),r=Os(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return function(l,c){const f=wt(l.integerValue||l.doubleValue),m=wt(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(t,e);case 3:return XT(t.timestampValue,e.timestampValue);case 4:return XT(ku(t),ku(e));case 5:return je(t.stringValue,e.stringValue);case 6:return function(l,c){const f=Vs(l),m=Vs(c);return f.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=je(f[p],m[p]);if(y!==0)return y}return je(f.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const f=je(wt(l.latitude),wt(c.latitude));return f!==0?f:je(wt(l.longitude),wt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return WT(t.arrayValue,e.arrayValue);case 10:return function(l,c){var f,m,p,y;const _=l.fields||{},S=c.fields||{},A=(f=_.value)===null||f===void 0?void 0:f.arrayValue,x=(m=S.value)===null||m===void 0?void 0:m.arrayValue,k=je(((p=A==null?void 0:A.values)===null||p===void 0?void 0:p.length)||0,((y=x==null?void 0:x.values)===null||y===void 0?void 0:y.length)||0);return k!==0?k:WT(A,x)}(t.mapValue,e.mapValue);case 11:return function(l,c){if(l===kh.mapValue&&c===kh.mapValue)return 0;if(l===kh.mapValue)return 1;if(c===kh.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const S=je(m[_],y[_]);if(S!==0)return S;const A=qo(f[m[_]],p[y[_]]);if(A!==0)return A}return je(m.length,y.length)}(t.mapValue,e.mapValue);default:throw we()}}function XT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=Ps(t),r=Ps(e),a=je(n.seconds,r.seconds);return a!==0?a:je(n.nanos,r.nanos)}function WT(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=qo(n[a],r[a]);if(l)return l}return je(n.length,r.length)}function Ho(t){return Jp(t)}function Jp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ps(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Vs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=Jp(l);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${Jp(n.fields[c])}`;return a+"}"}(t.mapValue):we()}function $h(t){switch(Os(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bf(t);return e?16+$h(e):16;case 5:return 2*t.stringValue.length;case 6:return Vs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+$h(l),0)}(t.arrayValue);case 10:case 11:return function(r){let a=0;return Bs(r.fields,(l,c)=>{a+=l.length+$h(c)}),a}(t.mapValue);default:throw we()}}function eg(t){return!!t&&"integerValue"in t}function Gg(t){return!!t&&"arrayValue"in t}function ZT(t){return!!t&&"nullValue"in t}function JT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yh(t){return!!t&&"mapValue"in t}function GP(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function bu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Bs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=bu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function KP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Yh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bu(n)}setAll(e){let n=Jt.emptyPath(),r={},a=[];e.forEach((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,r,a),r={},a=[],n=f.popLast()}c?r[f.lastSegment()]=bu(c):a.push(f.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(e){const n=this.field(e.popLast());Yh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Yh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){Bs(n,(a,l)=>e[a]=l);for(const a of r)delete e[a]}clone(){return new wn(bu(this.value))}}function ZA(t){const e=[];return Bs(t.fields,(n,r)=>{const a=new Jt([n]);if(Yh(r)){const l=ZA(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n,r,a,l,c,f){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new hn(e,0,xe.min(),xe.min(),xe.min(),wn.empty(),0)}static newFoundDocument(e,n,r,a){return new hn(e,1,n,xe.min(),r,a,0)}static newNoDocument(e,n){return new hn(e,2,n,xe.min(),xe.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new hn(e,3,n,xe.min(),xe.min(),wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n){this.position=e,this.inclusive=n}}function e0(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?r=Ee.comparator(Ee.fromName(c.referenceValue),n.key):r=qo(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function t0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,n="asc"){this.field=e,this.dir=n}}function $P(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{}class Lt extends JA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new QP(e,n,r):n==="array-contains"?new ZP(e,r):n==="in"?new JP(e,r):n==="not-in"?new e2(e,r):n==="array-contains-any"?new t2(e,r):new Lt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new XP(e,r):new WP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(qo(n,this.value)):n!==null&&Os(this.value)===Os(n)&&this.matchesComparison(qo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hi extends JA{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Hi(e,n)}matches(e){return eb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function eb(t){return t.op==="and"}function tb(t){return YP(t)&&eb(t)}function YP(t){for(const e of t.filters)if(e instanceof Hi)return!1;return!0}function tg(t){if(t instanceof Lt)return t.field.canonicalString()+t.op.toString()+Ho(t.value);if(tb(t))return t.filters.map(e=>tg(e)).join(",");{const e=t.filters.map(n=>tg(n)).join(",");return`${t.op}(${e})`}}function nb(t,e){return t instanceof Lt?function(r,a){return a instanceof Lt&&r.op===a.op&&r.field.isEqual(a.field)&&qi(r.value,a.value)}(t,e):t instanceof Hi?function(r,a){return a instanceof Hi&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,c,f)=>l&&nb(c,a.filters[f]),!0):!1}(t,e):void we()}function ib(t){return t instanceof Lt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ho(n.value)}`}(t):t instanceof Hi?function(n){return n.op.toString()+" {"+n.getFilters().map(ib).join(" ,")+"}"}(t):"Filter"}class QP extends Lt{constructor(e,n,r){super(e,n,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class XP extends Lt{constructor(e,n){super(e,"in",n),this.keys=rb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class WP extends Lt{constructor(e,n){super(e,"not-in",n),this.keys=rb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function rb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ee.fromName(r.referenceValue))}class ZP extends Lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gg(n)&&Uu(n.arrayValue,this.value)}}class JP extends Lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Uu(this.value.arrayValue,n)}}class e2 extends Lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Uu(this.value.arrayValue,n)}}class t2 extends Lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Uu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n=null,r=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.ue=null}}function n0(t,e=null,n=[],r=[],a=null,l=null,c=null){return new n2(t,e,n,r,a,l,c)}function Kg(t){const e=De(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>tg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),jf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ho(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ho(r)).join(",")),e.ue=n}return e.ue}function $g(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$P(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!nb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!t0(t.startAt,e.startAt)&&t0(t.endAt,e.endAt)}function ng(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,n=null,r=[],a=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function i2(t,e,n,r,a,l,c,f){return new zf(t,e,n,r,a,l,c,f)}function Ff(t){return new zf(t)}function i0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function r2(t){return t.collectionGroup!==null}function wu(t){const e=De(t);if(e.ce===null){e.ce=[];const n=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Ut(Jt.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(f=f.add(p.field))})}),f})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.ce.push(new df(l,r))}),n.has(Jt.keyField().canonicalString())||e.ce.push(new df(Jt.keyField(),r))}return e.ce}function ki(t){const e=De(t);return e.le||(e.le=s2(e,wu(t))),e.le}function s2(t,e){if(t.limitType==="F")return n0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new df(a.field,l)});const n=t.endAt?new ff(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ff(t.startAt.position,t.startAt.inclusive):null;return n0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ig(t,e,n){return new zf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qf(t,e){return $g(ki(t),ki(e))&&t.limitType===e.limitType}function sb(t){return`${Kg(ki(t))}|lt:${t.limitType}`}function Ro(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>ib(a)).join(", ")}]`),jf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>Ho(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>Ho(a)).join(",")),`Target(${r})`}(ki(t))}; limitType=${t.limitType})`}function Hf(t,e){return e.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Ee.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(t,e)&&function(r,a){for(const l of wu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(r,a){return!(r.startAt&&!function(c,f,m){const p=e0(c,f,m);return c.inclusive?p<=0:p<0}(r.startAt,wu(r),a)||r.endAt&&!function(c,f,m){const p=e0(c,f,m);return c.inclusive?p>=0:p>0}(r.endAt,wu(r),a))}(t,e)}function a2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ab(t){return(e,n)=>{let r=!1;for(const a of wu(t)){const l=o2(a,e,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function o2(t,e,n){const r=t.field.isKeyField()?Ee.comparator(e.key,n.key):function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?qo(m,p):we()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Bs(this.inner,(n,r)=>{for(const[a,l]of r)e(a,l)})}isEmpty(){return XA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=new dt(Ee.comparator);function Dr(){return l2}const ob=new dt(Ee.comparator);function vu(...t){let e=ob;for(const n of t)e=e.insert(n.key,n);return e}function lb(t){let e=ob;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ba(){return Ru()}function ub(){return Ru()}function Ru(){return new Oa(t=>t.toString(),(t,e)=>t.isEqual(e))}const u2=new dt(Ee.comparator),c2=new Ut(Ee.comparator);function Le(...t){let e=c2;for(const n of t)e=e.add(n);return e}const h2=new Ut(je);function f2(){return h2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hf(e)?"-0":e}}function cb(t){return{integerValue:""+t}}function d2(t,e){return BP(e)?cb(e):Yg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(){this._=void 0}}function m2(t,e,n){return t instanceof mf?function(a,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Hg(l)&&(l=Bf(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}}(n,e):t instanceof ju?fb(t,e):t instanceof Bu?db(t,e):function(a,l){const c=hb(a,l),f=r0(c)+r0(a.Pe);return eg(c)&&eg(a.Pe)?cb(f):Yg(a.serializer,f)}(t,e)}function p2(t,e,n){return t instanceof ju?fb(t,e):t instanceof Bu?db(t,e):n}function hb(t,e){return t instanceof pf?function(r){return eg(r)||function(l){return!!l&&"doubleValue"in l}(r)}(e)?e:{integerValue:0}:null}class mf extends Gf{}class ju extends Gf{constructor(e){super(),this.elements=e}}function fb(t,e){const n=mb(e);for(const r of t.elements)n.some(a=>qi(a,r))||n.push(r);return{arrayValue:{values:n}}}class Bu extends Gf{constructor(e){super(),this.elements=e}}function db(t,e){let n=mb(e);for(const r of t.elements)n=n.filter(a=>!qi(a,r));return{arrayValue:{values:n}}}class pf extends Gf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function r0(t){return wt(t.integerValue||t.doubleValue)}function mb(t){return Gg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function g2(t,e){return t.field.isEqual(e.field)&&function(r,a){return r instanceof ju&&a instanceof ju||r instanceof Bu&&a instanceof Bu?Fo(r.elements,a.elements,qi):r instanceof pf&&a instanceof pf?qi(r.Pe,a.Pe):r instanceof mf&&a instanceof mf}(t.transform,e.transform)}class y2{constructor(e,n){this.version=e,this.transformResults=n}}class ai{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ai}static exists(e){return new ai(void 0,e)}static updateTime(e){return new ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Kf{}function pb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Qg(t.key,ai.none()):new ec(t.key,t.data,ai.none());{const n=t.data,r=wn.empty();let a=new Ut(Jt.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new zs(t.key,r,new Mn(a.toArray()),ai.none())}}function v2(t,e,n){t instanceof ec?function(a,l,c){const f=a.value.clone(),m=a0(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(t,e,n):t instanceof zs?function(a,l,c){if(!Qh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=a0(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(gb(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(t,e,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function Cu(t,e,n,r){return t instanceof ec?function(l,c,f,m){if(!Qh(l.precondition,c))return f;const p=l.value.clone(),y=o0(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof zs?function(l,c,f,m){if(!Qh(l.precondition,c))return f;const p=o0(l.fieldTransforms,m,c),y=c.data;return y.setAll(gb(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(l,c,f){return Qh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(t,e,n)}function _2(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),l=hb(r.transform,a||null);l!=null&&(n===null&&(n=wn.empty()),n.set(r.field,l))}return n||null}function s0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Fo(r,a,(l,c)=>g2(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ec extends Kf{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class zs extends Kf{constructor(e,n,r,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function gb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function a0(t,e,n){const r=new Map;Qe(t.length===n.length);for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,f=e.data.field(l.field);r.set(l.field,p2(c,f,n[a]))}return r}function o0(t,e,n){const r=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);r.set(a.field,m2(l,c,e))}return r}class Qg extends Kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class E2 extends Kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&v2(l,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Cu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Cu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ub();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=pb(c,f);m!==null&&r.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&Fo(this.mutations,e.mutations,(n,r)=>s0(n,r))&&Fo(this.baseMutations,e.baseMutations,(n,r)=>s0(n,r))}}class Xg{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){Qe(e.mutations.length===r.length);let a=function(){return u2}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new Xg(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,qe;function b2(t){switch(t){default:return we();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function yb(t){if(t===void 0)return Ir("GRPC error has no .code"),re.UNKNOWN;switch(t){case Dt.OK:return re.OK;case Dt.CANCELLED:return re.CANCELLED;case Dt.UNKNOWN:return re.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return re.INTERNAL;case Dt.UNAVAILABLE:return re.UNAVAILABLE;case Dt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Dt.NOT_FOUND:return re.NOT_FOUND;case Dt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Dt.ABORTED:return re.ABORTED;case Dt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Dt.DATA_LOSS:return re.DATA_LOSS;default:return we()}}(qe=Dt||(Dt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=new Rs([4294967295,4294967295],0);function l0(t){const e=w2().encode(t),n=new FA;return n.update(e),new Uint8Array(n.digest())}function u0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Rs([n,r],0),new Rs([a,l],0)]}class Wg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _u(`Invalid padding: ${n}`);if(r<0)throw new _u(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _u(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _u(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Rs.fromNumber(this.Te)}de(e,n,r){let a=e.add(n.multiply(Rs.fromNumber(r)));return a.compare(R2)===1&&(a=new Rs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=l0(e),[r,a]=u0(n);for(let l=0;l<this.hashCount;l++){const c=this.de(r,a,l);if(!this.Ee(c))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Wg(l,a,n);return r.forEach(f=>c.insert(f)),c}insert(e){if(this.Te===0)return;const n=l0(e),[r,a]=u0(n);for(let l=0;l<this.hashCount;l++){const c=this.de(r,a,l);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class _u extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,n,r,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,tc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new $f(xe.min(),a,new dt(je),Dr(),Le())}}class tc{constructor(e,n,r,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new tc(r,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n,r,a){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=a}}class vb{constructor(e,n){this.targetId=e,this.me=n}}class _b{constructor(e,n,r=en.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class c0{constructor(){this.fe=0,this.ge=h0(),this.pe=en.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Le(),n=Le(),r=Le();return this.ge.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:we()}}),new tc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=h0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class C2{constructor(e){this.Be=e,this.Le=new Map,this.ke=Dr(),this.qe=Lh(),this.Qe=Lh(),this.Ke=new dt(je)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:we()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Le.forEach((r,a)=>{this.je(a)&&n(a)})}Je(e){const n=e.targetId,r=e.me.count,a=this.Ye(n);if(a){const l=a.target;if(ng(l))if(r===0){const c=new Ee(l.path);this.We(n,c,hn.newNoDocument(c,xe.min()))}else Qe(r===1);else{const c=this.Ze(n);if(c!==r){const f=this.Xe(e),m=f?this.et(f,e,c):1;if(m!==0){this.He(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=Vs(r).toUint8Array()}catch(m){if(m instanceof WA)return zo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Wg(c,a,l)}catch(m){return zo(m instanceof _u?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.Te===0?null:f}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let a=0;return r.forEach(l=>{const c=this.Be.nt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.We(n,l,null),a++)}),a}it(e){const n=new Map;this.Le.forEach((l,c)=>{const f=this.Ye(c);if(f){if(l.current&&ng(f.target)){const m=new Ee(f.target.path);this.st(m).has(c)||this.ot(c,m)||this.We(c,m,hn.newNoDocument(m,e))}l.be&&(n.set(c,l.ve()),l.Ce())}});let r=Le();this.Qe.forEach((l,c)=>{let f=!0;c.forEachWhile(m=>{const p=this.Ye(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(l))}),this.ke.forEach((l,c)=>c.setReadTime(e));const a=new $f(e,n,this.Ke,this.ke,r);return this.ke=Dr(),this.qe=Lh(),this.Qe=Lh(),this.Ke=new dt(je),a}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const a=this.ze(e);this.ot(e,n)?a.Fe(n,1):a.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Le.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Le.get(e);return n||(n=new c0,this.Le.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new Ut(je),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ut(je),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Le.get(e);return n&&n.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new c0),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function Lh(){return new dt(Ee.comparator)}function h0(){return new dt(Ee.comparator)}const x2={asc:"ASCENDING",desc:"DESCENDING"},I2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},D2={and:"AND",or:"OR"};class P2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rg(t,e){return t.useProto3Json||jf(e)?e:{value:e}}function gf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Eb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function V2(t,e){return gf(t,e.toTimestamp())}function Li(t){return Qe(!!t),xe.fromTimestamp(function(n){const r=Ps(n);return new Rt(r.seconds,r.nanos)}(t))}function Zg(t,e){return sg(t,e).canonicalString()}function sg(t,e){const n=function(a){return new ot(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Tb(t){const e=ot.fromString(t);return Qe(Rb(e)),e}function ag(t,e){return Zg(t.databaseId,e.path)}function wp(t,e){const n=Tb(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(Ab(n))}function Sb(t,e){return Zg(t.databaseId,e)}function O2(t){const e=Tb(t);return e.length===4?ot.emptyPath():Ab(e)}function og(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ab(t){return Qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function f0(t,e,n){return{name:ag(t,e),fields:n.value.mapValue.fields}}function N2(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(Qe(y===void 0||typeof y=="string"),en.fromBase64String(y||"")):(Qe(y===void 0||y instanceof Buffer||y instanceof Uint8Array),en.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(p){const y=p.code===void 0?re.UNKNOWN:yb(p.code);return new _e(y,p.message||"")}(c);n=new _b(r,a,l,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=wp(t,r.document.name),l=Li(r.document.updateTime),c=r.document.createTime?Li(r.document.createTime):xe.min(),f=new wn({mapValue:{fields:r.document.fields}}),m=hn.newFoundDocument(a,l,c,f),p=r.targetIds||[],y=r.removedTargetIds||[];n=new Xh(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=wp(t,r.document),l=r.readTime?Li(r.readTime):xe.min(),c=hn.newNoDocument(a,l),f=r.removedTargetIds||[];n=new Xh([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=wp(t,r.document),l=r.removedTargetIds||[];n=new Xh([],l,a,null)}else{if(!("filter"in e))return we();{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new A2(a,l),f=r.targetId;n=new vb(f,c)}}return n}function M2(t,e){let n;if(e instanceof ec)n={update:f0(t,e.key,e.value)};else if(e instanceof Qg)n={delete:ag(t,e.key)};else if(e instanceof zs)n={update:f0(t,e.key,e.data),updateMask:H2(e.fieldMask)};else{if(!(e instanceof E2))return we();n={verify:ag(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(l,c){const f=c.transform;if(f instanceof mf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof ju)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Bu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof pf)return{fieldPath:c.field.canonicalString(),increment:f.Pe};throw we()}(0,r))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:V2(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:we()}(t,e.precondition)),n}function k2(t,e){return t&&t.length>0?(Qe(e!==void 0),t.map(n=>function(a,l){let c=a.updateTime?Li(a.updateTime):Li(l);return c.isEqual(xe.min())&&(c=Li(l)),new y2(c,a.transformResults||[])}(n,e))):[]}function L2(t,e){return{documents:[Sb(t,e.path)]}}function U2(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Sb(t,a);const l=function(p){if(p.length!==0)return wb(Hi.create(p,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(y=>function(S){return{field:Co(S.field),direction:z2(S.dir)}}(y))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=rg(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:n,parent:a}}function j2(t){let e=O2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Qe(r===1);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=function(_){const S=bb(_);return S instanceof Hi&&tb(S)?S.getFilters():[S]}(n.where));let c=[];n.orderBy&&(c=function(_){return _.map(S=>function(x){return new df(xo(x.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(S))}(n.orderBy));let f=null;n.limit&&(f=function(_){let S;return S=typeof _=="object"?_.value:_,jf(S)?null:S}(n.limit));let m=null;n.startAt&&(m=function(_){const S=!!_.before,A=_.values||[];return new ff(A,S)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const S=!_.before,A=_.values||[];return new ff(A,S)}(n.endAt)),i2(e,a,c,l,f,"F",m,p)}function B2(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=xo(n.unaryFilter.field);return Lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=xo(n.unaryFilter.field);return Lt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=xo(n.unaryFilter.field);return Lt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=xo(n.unaryFilter.field);return Lt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(t):t.fieldFilter!==void 0?function(n){return Lt.create(xo(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Hi.create(n.compositeFilter.filters.map(r=>bb(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return we()}}(n.compositeFilter.op))}(t):we()}function z2(t){return x2[t]}function F2(t){return I2[t]}function q2(t){return D2[t]}function Co(t){return{fieldPath:t.canonicalString()}}function xo(t){return Jt.fromServerFormat(t.fieldPath)}function wb(t){return t instanceof Lt?function(n){if(n.op==="=="){if(JT(n.value))return{unaryFilter:{field:Co(n.field),op:"IS_NAN"}};if(ZT(n.value))return{unaryFilter:{field:Co(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(JT(n.value))return{unaryFilter:{field:Co(n.field),op:"IS_NOT_NAN"}};if(ZT(n.value))return{unaryFilter:{field:Co(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Co(n.field),op:F2(n.op),value:n.value}}}(t):t instanceof Hi?function(n){const r=n.getFilters().map(a=>wb(a));return r.length===1?r[0]:{compositeFilter:{op:q2(n.op),filters:r}}}(t):we()}function H2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Rb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n,r,a,l=xe.min(),c=xe.min(),f=en.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e){this.ht=e}}function K2(t){const e=j2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ig(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.ln=new Y2}addToCollectionParentIndex(e,n){return this.ln.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Ds.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Ds.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class Y2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Ut(ot.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Ut(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(41943040,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Go(0)}static Qn(){return new Go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0([t,e],[n,r]){const a=je(t,n);return a===0?je(e,r):a}class Q2{constructor(e){this.Gn=e,this.buffer=new Ut(m0),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();m0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class X2{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){fe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){nl(n)?fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await tl(n)}await this.Yn(3e5)})}}class W2{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Uf.oe);const r=new Q2(n);return this.Zn.forEachTarget(e,a=>r.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>r.Hn(a))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(d0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),d0):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,a,l,c,f,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(r=_,f=Date.now(),this.removeTargets(e,r,n))).next(_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),wo()<=ke.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function Z2(t,e){return new W2(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this.changes=new Oa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(r!==null&&Cu(r.mutation,a,Mn.empty(),Rt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Le()){const a=ba();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,r).next(l=>{let c=vu();return l.forEach((f,m)=>{c=c.insert(f,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const r=ba();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Le()))}populateOverlays(e,n,r){const a=[];return r.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,f)=>{n.set(c,f)})})}computeViews(e,n,r,a){let l=Dr();const c=Ru(),f=function(){return Ru()}();return n.forEach((m,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof zs)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Cu(y.mutation,p,y.mutation.getFieldMask(),Rt.now())):c.set(p.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((p,y)=>c.set(p,y)),n.forEach((p,y)=>{var _;return f.set(p,new eV(y,(_=c.get(p))!==null&&_!==void 0?_:null))}),f))}recalculateAndSaveOverlays(e,n){const r=Ru();let a=new dt((c,f)=>c-f),l=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const f of c)f.keys().forEach(m=>{const p=n.get(m);if(p===null)return;let y=r.get(m)||Mn.empty();y=f.applyToLocalView(p,y),r.set(m,y);const _=(a.get(f.batchId)||Le()).add(m);a=a.insert(f.batchId,_)})}).next(()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,_=ub();y.forEach(S=>{if(!l.has(S)){const A=pb(n.get(S),r.get(S));A!==null&&_.set(S,A),l=l.add(S)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ee.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,a){return function(c){return Ee.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):r2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-l.size):ee.resolve(ba());let f=-1,m=l;return c.next(p=>ee.forEach(p,(y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(y)?ee.resolve():this.remoteDocumentCache.getEntry(e,y).next(S=>{m=m.insert(y,S)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,m,p,Le())).next(y=>({batchId:f,changes:lb(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(r=>{let a=vu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const l=n.collectionGroup;let c=vu();return this.indexManager.getCollectionParents(e,l).next(f=>ee.forEach(f,m=>{const p=function(_,S){return new zf(S,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next(y=>{y.forEach((_,S)=>{c=c.insert(_,S)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,a))).next(c=>{l.forEach((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,hn.newInvalidDocument(y)))});let f=vu();return c.forEach((m,p)=>{const y=l.get(m);y!==void 0&&Cu(y.mutation,p,Mn.empty(),Rt.now()),Hf(n,p)&&(f=f.insert(m,p))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return ee.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Li(a.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(a){return{name:a.name,query:K2(a.bundledQuery),readTime:Li(a.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(){this.overlays=new dt(Ee.comparator),this.dr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ba();return ee.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((a,l)=>{this.Tt(e,n,l)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.dr.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.dr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const a=ba(),l=n.length+1,c=new Ee(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return ee.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let l=new dt((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=l.get(p.largestBatchId);y===null&&(y=ba(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=ba(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,y)=>f.set(p,y)),!(f.size()>=a)););return ee.resolve(f)}Tt(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.dr.get(a.largestBatchId).delete(r.key);this.dr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new S2(n,r));let l=this.dr.get(n);l===void 0&&(l=Le(),this.dr.set(n,l)),this.dr.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(){this.Er=new Ut(Kt.Ar),this.Rr=new Ut(Kt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,n){const r=new Kt(e,n);this.Er=this.Er.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new Kt(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new Ee(new ot([])),r=new Kt(n,e),a=new Kt(n,e+1),l=[];return this.Rr.forEachInRange([r,a],c=>{this.gr(c),l.push(c.key)}),l}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new Ee(new ot([])),r=new Kt(n,e),a=new Kt(n,e+1);let l=Le();return this.Rr.forEachInRange([r,a],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new Kt(e,0),r=this.Er.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Kt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return Ee.comparator(e.key,n.key)||je(e.br,n.br)}static Vr(e,n){return je(e.br,n.br)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Ut(Kt.Ar)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new T2(l,n,r,a);this.mutationQueue.push(c);for(const f of a)this.vr=this.vr.add(new Kt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ee.resolve(c)}lookupMutationBatch(e,n){return ee.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.Fr(r),l=a<0?0:a;return ee.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Kt(n,0),a=new Kt(n,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([r,a],c=>{const f=this.Cr(c.br);l.push(f)}),ee.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ut(je);return n.forEach(a=>{const l=new Kt(a,0),c=new Kt(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,c],f=>{r=r.add(f.br)})}),ee.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let l=r;Ee.isDocumentKey(l)||(l=l.child(""));const c=new Kt(new Ee(l),0);let f=new Ut(je);return this.vr.forEachWhile(m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.br)),!0)},c),ee.resolve(this.Mr(f))}Mr(e){const n=[];return e.forEach(r=>{const a=this.Cr(r);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Qe(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return ee.forEach(n.mutations,a=>{const l=new Kt(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=r})}Bn(e){}containsKey(e,n){const r=new Kt(n,0),a=this.vr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e){this.Nr=e,this.docs=function(){return new dt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,c=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(e,n){let r=Dr();return n.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():hn.newInvalidDocument(a))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let l=Dr();const c=n.path,f=new Ee(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||kP(MP(y),r)<=0||(a.has(y.key)||Hf(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ee.resolve(l)}getAllFromCollectionGroup(e,n,r,a){we()}Br(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new oV(this)}getSize(e){return ee.resolve(this.size)}}class oV extends J2{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.hr.addEntry(e,a)):this.hr.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e){this.persistence=e,this.Lr=new Oa(n=>Kg(n),$g),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.kr=0,this.qr=new Jg,this.targetCount=0,this.Qr=Go.qn()}forEachTarget(e,n){return this.Lr.forEach((r,a)=>n(a)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),ee.resolve()}Un(e){this.Lr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Go(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Un(n),ee.resolve()}removeTargetData(e,n){return this.Lr.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let a=0;const l=[];return this.Lr.forEach((c,f)=>{f.sequenceNumber<=n&&r.get(f.targetId)===null&&(this.Lr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),ee.waitFor(l).next(()=>a)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.Lr.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ee.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Uf(0),this.Ur=!1,this.Ur=!0,this.Wr=new rV,this.referenceDelegate=e(this),this.Gr=new lV(this),this.indexManager=new $2,this.remoteDocumentCache=function(a){return new aV(a)}(r=>this.referenceDelegate.zr(r)),this.serializer=new G2(n),this.jr=new nV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new sV(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const a=new uV(this.$r.next());return this.referenceDelegate.Hr(),r(a).next(l=>this.referenceDelegate.Jr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Yr(e,n){return ee.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class uV extends UP{constructor(e){super(),this.currentSequenceNumber=e}}class ey{constructor(e){this.persistence=e,this.Zr=new Jg,this.Xr=null}static ei(e){return new ey(e)}get ti(){if(this.Xr)return this.Xr;throw we()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(a=>this.ti.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.ti.add(l.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ti,r=>{const a=Ee.fromPath(r);return this.ni(e,a).next(l=>{l||n.removeEntry(a,xe.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return ee.or([()=>ee.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class yf{constructor(e,n){this.persistence=e,this.ri=new Oa(r=>zP(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=Z2(this,n)}static ei(e,n){return new yf(e,n)}Hr(){}Jr(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(a=>r+a))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return ee.forEach(this.ri,(r,a)=>this.ir(e,r,a).next(l=>l?ee.resolve():n(a)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.Br(e,c=>this.ir(e,c,n).next(f=>{f||(r++,l.removeEntry(c,xe.min()))})).next(()=>l.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),ee.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=$h(e.data.value)),n}ir(e,n,r){return ee.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ri.get(n);return ee.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=a}static zi(e,n){let r=Le(),a=Le();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new ty(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return lD()?8:jP(dn())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,a){const l={result:null};return this.Xi(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.es(e,n,a,r).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new cV;return this.ts(e,n,c).next(f=>{if(l.result=f,this.Hi)return this.ns(e,n,c,f.size)})}).next(()=>l.result)}ns(e,n,r,a){return r.documentReadCount<this.Ji?(wo()<=ke.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),ee.resolve()):(wo()<=ke.DEBUG&&fe("QueryEngine","Query:",Ro(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.Yi*a?(wo()<=ke.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ki(n))):ee.resolve())}Xi(e,n){if(i0(n))return ee.resolve(null);let r=ki(n);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=ig(n,null,"F"),r=ki(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const c=Le(...l);return this.Zi.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,r).next(m=>{const p=this.rs(n,f);return this.ss(n,p,c,m.readTime)?this.Xi(e,ig(n,null,"F")):this.os(e,p,n,m)}))})))}es(e,n,r,a){return i0(n)||a.isEqual(xe.min())?ee.resolve(null):this.Zi.getDocuments(e,r).next(l=>{const c=this.rs(n,l);return this.ss(n,c,r,a)?ee.resolve(null):(wo()<=ke.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ro(n)),this.os(e,c,n,NP(a,-1)).next(f=>f))})}rs(e,n){let r=new Ut(ab(e));return n.forEach((a,l)=>{Hf(e,l)&&(r=r.add(l))}),r}ss(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ts(e,n,r){return wo()<=ke.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Ro(n)),this.Zi.getDocumentsMatchingQuery(e,n,Ds.min(),r)}os(e,n,r,a){return this.Zi.getDocumentsMatchingQuery(e,r,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e,n,r,a){this.persistence=e,this._s=n,this.serializer=a,this.us=new dt(je),this.cs=new Oa(l=>Kg(l),$g),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tV(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function dV(t,e,n,r){return new fV(t,e,n,r)}async function xb(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],f=[];let m=Le();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(r,m).next(p=>({Ts:p,removedBatchIds:c,addedBatchIds:f}))})})}function mV(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),l=n.hs.newChangeBuffer({trackRemovals:!0});return function(f,m,p,y){const _=p.batch,S=_.keys();let A=ee.resolve();return S.forEach(x=>{A=A.next(()=>y.getEntry(m,x)).next(k=>{const O=p.docVersions.get(x);Qe(O!==null),k.version.compareTo(O)<0&&(_.applyToRemoteDocument(k,p),k.isValidDocument()&&(k.setReadTime(p.commitVersion),y.addEntry(k)))})}),A.next(()=>f.mutationQueue.removeMutationBatch(m,_))}(n,r,e,l).next(()=>l.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let m=Le();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m}(e))).next(()=>n.localDocuments.getDocuments(r,a))})}function Ib(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function pV(t,e){const n=De(t),r=e.snapshotVersion;let a=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.hs.newChangeBuffer({trackRemovals:!0});a=n.us;const f=[];e.targetChanges.forEach((y,_)=>{const S=a.get(_);if(!S)return;f.push(n.Gr.removeMatchingKeys(l,y.removedDocuments,_).next(()=>n.Gr.addMatchingKeys(l,y.addedDocuments,_)));let A=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?A=A.withResumeToken(en.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,r)),a=a.insert(_,A),function(k,O,L){return k.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(S,A,y)&&f.push(n.Gr.updateTargetData(l,A))});let m=Dr(),p=Le();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),f.push(gV(l,c,e.documentUpdates).next(y=>{m=y.Is,p=y.ds})),!r.isEqual(xe.min())){const y=n.Gr.getLastRemoteSnapshotVersion(l).next(_=>n.Gr.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(y)}return ee.waitFor(f).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(n.us=a,l))}function gV(t,e,n){let r=Le(),a=Le();return n.forEach(l=>r=r.add(l)),e.getEntries(t,r).next(l=>{let c=Dr();return n.forEach((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(xe.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):fe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)}),{Is:c,ds:a}})}function yV(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function vV(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Gr.getTargetData(r,e).next(l=>l?(a=l,ee.resolve(a)):n.Gr.allocateTargetId(r).next(c=>(a=new Ss(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.us.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function lg(t,e,n){const r=De(t),a=r.us.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!nl(c))throw c;fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.us=r.us.remove(e),r.cs.delete(a.target)}function p0(t,e,n){const r=De(t);let a=xe.min(),l=Le();return r.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,y){const _=De(m),S=_.cs.get(y);return S!==void 0?ee.resolve(_.us.get(S)):_.Gr.getTargetData(p,y)}(r,c,ki(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(c,f.targetId).next(m=>{l=m})}).next(()=>r._s.getDocumentsMatchingQuery(c,e,n?a:xe.min(),n?l:Le())).next(f=>(_V(r,a2(e),f),{documents:f,Es:l})))}function _V(t,e,n){let r=t.ls.get(e)||xe.min();n.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),t.ls.set(e,r)}class g0{constructor(){this.activeTargetIds=f2()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EV{constructor(){this._o=new g0,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new g0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uh=null;function Rp(){return Uh===null?Uh=function(){return 268435456+Math.round(2147483648*Math.random())}():Uh++,"0x"+Uh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class bV extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${a}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Oo(n,r,a,l,c){const f=Rp(),m=this.No(n,r.toUriEncodedString());fe("RestConnection",`Sending RPC '${n}' ${f}:`,m,a);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(p,l,c),this.Lo(n,m,p,a).then(y=>(fe("RestConnection",`Received RPC '${n}' ${f}: `,y),y),y=>{throw zo("RestConnection",`RPC '${n}' ${f} failed with error: `,y,"url: ",m,"request:",a),y})}ko(n,r,a,l,c,f){return this.Oo(n,r,a,l,c)}Bo(n,r,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+el}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((l,c)=>n[c]=l),a&&a.headers.forEach((l,c)=>n[c]=l)}No(n,r){const a=SV[n];return`${this.Fo}/v1/${r}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,n,r,a){const l=Rp();return new Promise((c,f)=>{const m=new qA;m.setWithCredentials(!0),m.listenOnce(HA.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Kh.NO_ERROR:const y=m.getResponseJson();fe(ln,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case Kh.TIMEOUT:fe(ln,`RPC '${e}' ${l} timed out`),f(new _e(re.DEADLINE_EXCEEDED,"Request time out"));break;case Kh.HTTP_ERROR:const _=m.getStatus();if(fe(ln,`RPC '${e}' ${l} failed with status:`,_,"response text:",m.getResponseText()),_>0){let S=m.getResponseJson();Array.isArray(S)&&(S=S[0]);const A=S==null?void 0:S.error;if(A&&A.status&&A.message){const x=function(O){const L=O.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(L)>=0?L:re.UNKNOWN}(A.status);f(new _e(x,A.message))}else f(new _e(re.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new _e(re.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{fe(ln,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(a);fe(ln,`RPC '${e}' ${l} sending request:`,a),m.send(n,"POST",p,r,15)})}qo(e,n,r){const a=Rp(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=$A(),f=KA(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Bo(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const y=l.join("");fe(ln,`Creating RPC '${e}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);let S=!1,A=!1;const x=new AV({Eo:O=>{A?fe(ln,`Not sending because RPC '${e}' stream ${a} is closed:`,O):(S||(fe(ln,`Opening RPC '${e}' stream ${a} transport.`),_.open(),S=!0),fe(ln,`RPC '${e}' stream ${a} sending:`,O),_.send(O))},Ao:()=>_.close()}),k=(O,L,K)=>{O.listen(L,H=>{try{K(H)}catch(ae){setTimeout(()=>{throw ae},0)}})};return k(_,yu.EventType.OPEN,()=>{A||(fe(ln,`RPC '${e}' stream ${a} transport opened.`),x.So())}),k(_,yu.EventType.CLOSE,()=>{A||(A=!0,fe(ln,`RPC '${e}' stream ${a} transport closed`),x.Do())}),k(_,yu.EventType.ERROR,O=>{A||(A=!0,zo(ln,`RPC '${e}' stream ${a} transport errored:`,O),x.Do(new _e(re.UNAVAILABLE,"The operation could not be completed")))}),k(_,yu.EventType.MESSAGE,O=>{var L;if(!A){const K=O.data[0];Qe(!!K);const H=K,ae=(H==null?void 0:H.error)||((L=H[0])===null||L===void 0?void 0:L.error);if(ae){fe(ln,`RPC '${e}' stream ${a} received error:`,ae);const X=ae.status;let ie=function(w){const D=Dt[w];if(D!==void 0)return yb(D)}(X),N=ae.message;ie===void 0&&(ie=re.INTERNAL,N="Unknown error status: "+X+" with message "+ae.message),A=!0,x.Do(new _e(ie,N)),_.close()}else fe(ln,`RPC '${e}' stream ${a} received:`,K),x.vo(K)}}),k(f,GA.STAT_EVENT,O=>{O.stat===Zp.PROXY?fe(ln,`RPC '${e}' stream ${a} detected buffering proxy`):O.stat===Zp.NOPROXY&&fe(ln,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{x.bo()},0),x}}function Cp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(t){return new P2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n,r=1e3,a=1.5,l=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=a,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),a=Math.max(0,n-r);a>0&&fe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,n,r,a,l,c,f,m){this.li=e,this.Yo=r,this.Zo=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Db(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Ir(n.toString()),Ir("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.Xo===n&&this.I_(r,a)},r=>{e(()=>{const a=new _e(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.d_(a)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.E_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{r(()=>this.d_(a))}),this.stream.onMessage(a=>{r(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wV extends Pb{constructor(e,n,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}E_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=N2(this.serializer,e),r=function(l){if(!("targetChange"in l))return xe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?xe.min():c.readTime?Li(c.readTime):xe.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=og(this.serializer),n.addTarget=function(l,c){let f;const m=c.target;if(f=ng(m)?{documents:L2(l,m)}:{query:U2(l,m).ct},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=Eb(l,c.resumeToken);const p=rg(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(xe.min())>0){f.readTime=gf(l,c.snapshotVersion.toTimestamp());const p=rg(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f}(this.serializer,e);const r=B2(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=og(this.serializer),n.removeTarget=e,this.c_(n)}}class RV extends Pb{constructor(e,n,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=k2(e.writeResults,e.commitTime),r=Li(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=og(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>M2(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV extends class{}{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new _e(re.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Oo(e,sg(n,r),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(re.UNKNOWN,l.toString())})}ko(e,n,r,a,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.ko(e,sg(n,r),a,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(re.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class xV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Ir(n),this.C_=!1):fe("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,n,r,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(c=>{r.enqueueAndForget(async()=>{Na(this)&&(fe("RemoteStore","Restarting streams for network reachability change."),await async function(m){const p=De(m);p.k_.add(4),await nc(p),p.K_.set("Unknown"),p.k_.delete(4),await Qf(p)}(this))})}),this.K_=new xV(r,a)}}async function Qf(t){if(Na(t))for(const e of t.q_)await e(!0)}async function nc(t){for(const e of t.q_)await e(!1)}function Vb(t,e){const n=De(t);n.L_.has(e.targetId)||(n.L_.set(e.targetId,e),sy(n)?ry(n):il(n).s_()&&iy(n,e))}function ny(t,e){const n=De(t),r=il(n);n.L_.delete(e),r.s_()&&Ob(n,e),n.L_.size===0&&(r.s_()?r.a_():Na(n)&&n.K_.set("Unknown"))}function iy(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}il(t).V_(e)}function Ob(t,e){t.U_.xe(e),il(t).m_(e)}function ry(t){t.U_=new C2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.L_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),il(t).start(),t.K_.F_()}function sy(t){return Na(t)&&!il(t).i_()&&t.L_.size>0}function Na(t){return De(t).k_.size===0}function Nb(t){t.U_=void 0}async function DV(t){t.K_.set("Online")}async function PV(t){t.L_.forEach((e,n)=>{iy(t,e)})}async function VV(t,e){Nb(t),sy(t)?(t.K_.O_(e),ry(t)):t.K_.set("Unknown")}async function OV(t,e,n){if(t.K_.set("Online"),e instanceof _b&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const f of l.targetIds)a.L_.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.L_.delete(f),a.U_.removeTarget(f))}(t,e)}catch(r){fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vf(t,r)}else if(e instanceof Xh?t.U_.$e(e):e instanceof vb?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(xe.min()))try{const r=await Ib(t.localStore);n.compareTo(r)>=0&&await function(l,c){const f=l.U_.it(c);return f.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.L_.get(p);y&&l.L_.set(p,y.withResumeToken(m.resumeToken,c))}}),f.targetMismatches.forEach((m,p)=>{const y=l.L_.get(m);if(!y)return;l.L_.set(m,y.withResumeToken(en.EMPTY_BYTE_STRING,y.snapshotVersion)),Ob(l,m);const _=new Ss(y.target,m,p,y.sequenceNumber);iy(l,_)}),l.remoteSyncer.applyRemoteEvent(f)}(t,n)}catch(r){fe("RemoteStore","Failed to raise snapshot:",r),await vf(t,r)}}async function vf(t,e,n){if(!nl(e))throw e;t.k_.add(1),await nc(t),t.K_.set("Offline"),n||(n=()=>Ib(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await Qf(t)})}function Mb(t,e){return e().catch(n=>vf(t,n,e))}async function Xf(t){const e=De(t),n=Ns(e);let r=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;NV(e);)try{const a=await yV(e.localStore,r);if(a===null){e.B_.length===0&&n.a_();break}r=a.batchId,MV(e,a)}catch(a){await vf(e,a)}kb(e)&&Lb(e)}function NV(t){return Na(t)&&t.B_.length<10}function MV(t,e){t.B_.push(e);const n=Ns(t);n.s_()&&n.f_&&n.g_(e.mutations)}function kb(t){return Na(t)&&!Ns(t).i_()&&t.B_.length>0}function Lb(t){Ns(t).start()}async function kV(t){Ns(t).w_()}async function LV(t){const e=Ns(t);for(const n of t.B_)e.g_(n.mutations)}async function UV(t,e,n){const r=t.B_.shift(),a=Xg.from(r,e,n);await Mb(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await Xf(t)}async function jV(t,e){e&&Ns(t).f_&&await async function(r,a){if(function(c){return b2(c)&&c!==re.ABORTED}(a.code)){const l=r.B_.shift();Ns(r).__(),await Mb(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Xf(r)}}(t,e),kb(t)&&Lb(t)}async function v0(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials");const r=Na(n);n.k_.add(3),await nc(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Qf(n)}async function BV(t,e){const n=De(t);e?(n.k_.delete(2),await Qf(n)):e||(n.k_.add(2),await nc(n),n.K_.set("Unknown"))}function il(t){return t.W_||(t.W_=function(n,r,a){const l=De(n);return l.b_(),new wV(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{Ro:DV.bind(null,t),mo:PV.bind(null,t),po:VV.bind(null,t),R_:OV.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),sy(t)?ry(t):t.K_.set("Unknown")):(await t.W_.stop(),Nb(t))})),t.W_}function Ns(t){return t.G_||(t.G_=function(n,r,a){const l=De(n);return l.b_(),new RV(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:kV.bind(null,t),po:jV.bind(null,t),p_:LV.bind(null,t),y_:UV.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await Xf(t)):(await t.G_.stop(),t.B_.length>0&&(fe("RemoteStore",`Stopping write stream with ${t.B_.length} pending writes`),t.B_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,n,r,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,l){const c=Date.now()+r,f=new ay(e,n,c,a,l);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oy(t,e){if(Ir("AsyncQueue",`${e}: ${t}`),nl(t))return new _e(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{static emptySet(e){return new Mo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ee.comparator(n.key,r.key):(n,r)=>Ee.comparator(n.key,r.key),this.keyedMap=vu(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Mo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this.z_=new dt(Ee.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):we():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ko{constructor(e,n,r,a,l,c,f,m,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,a,l){const c=[];return n.forEach(f=>{c.push({type:0,doc:f})}),new Ko(e,n,Mo.emptySet(n),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class FV{constructor(){this.queries=E0(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const a=De(n),l=a.queries;a.queries=E0(),l.forEach((c,f)=>{for(const m of f.J_)m.onError(r)})})(this,new _e(re.ABORTED,"Firestore shutting down"))}}function E0(){return new Oa(t=>sb(t),qf)}async function Ub(t,e){const n=De(t);let r=3;const a=e.query;let l=n.queries.get(a);l?!l.Y_()&&e.Z_()&&(r=2):(l=new zV,r=e.Z_()?0:1);try{switch(r){case 0:l.H_=await n.onListen(a,!0);break;case 1:l.H_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=oy(c,`Initialization of query '${Ro(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.J_.push(e),e.ea(n.onlineState),l.H_&&e.ta(l.H_)&&ly(n)}async function jb(t,e){const n=De(t),r=e.query;let a=3;const l=n.queries.get(r);if(l){const c=l.J_.indexOf(e);c>=0&&(l.J_.splice(c,1),l.J_.length===0?a=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function qV(t,e){const n=De(t);let r=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.J_)f.ta(a)&&(r=!0);c.H_=a}}r&&ly(n)}function HV(t,e,n){const r=De(t),a=r.queries.get(e);if(a)for(const l of a.J_)l.onError(n);r.queries.delete(e)}function ly(t){t.X_.forEach(e=>{e.next()})}var ug,T0;(T0=ug||(ug={})).na="default",T0.Cache="cache";class Bb{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Ko(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==ug.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e){this.key=e}}class Fb{constructor(e){this.key=e}}class GV{constructor(e,n){this.query=e,this.Ea=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Le(),this.mutatedKeys=Le(),this.Va=ab(e),this.ma=new Mo(this.Va)}get fa(){return this.Ea}ga(e,n){const r=n?n.pa:new _0,a=n?n.ma:this.ma;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,_)=>{const S=a.get(y),A=Hf(this.query,_)?_:null,x=!!S&&this.mutatedKeys.has(S.key),k=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let O=!1;S&&A?S.data.isEqual(A.data)?x!==k&&(r.track({type:3,doc:A}),O=!0):this.ya(S,A)||(r.track({type:2,doc:A}),O=!0,(m&&this.Va(A,m)>0||p&&this.Va(A,p)<0)&&(f=!0)):!S&&A?(r.track({type:0,doc:A}),O=!0):S&&!A&&(r.track({type:1,doc:S}),O=!0,(m||p)&&(f=!0)),O&&(A?(c=c.add(A),l=k?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{ma:c,pa:r,ss:f,mutatedKeys:l}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((y,_)=>function(A,x){const k=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return k(A)-k(x)}(y.type,_.type)||this.Va(y.doc,_.doc)),this.wa(r),a=a!=null&&a;const f=n&&!a?this.Sa():[],m=this.Ra.size===0&&this.current&&!a?1:0,p=m!==this.Aa;return this.Aa=m,c.length!==0||p?{snapshot:new Ko(this.query,e.ma,l,c,e.mutatedKeys,m===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new _0,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.Ea=this.Ea.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ea=this.Ea.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Le(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new Fb(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new zb(r))}),n}va(e){this.Ea=e.Es,this.Ra=Le();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Ko.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class KV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $V{constructor(e){this.key=e,this.Fa=!1}}class YV{constructor(e,n,r,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new Oa(f=>sb(f),qf),this.Oa=new Map,this.Na=new Set,this.Ba=new dt(Ee.comparator),this.La=new Map,this.ka=new Jg,this.qa={},this.Qa=new Map,this.Ka=Go.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function QV(t,e,n=!0){const r=Yb(t);let a;const l=r.xa.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Ca()):a=await qb(r,e,n,!0),a}async function XV(t,e){const n=Yb(t);await qb(n,e,!0,!1)}async function qb(t,e,n,r){const a=await vV(t.localStore,ki(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let f;return r&&(f=await WV(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&Vb(t.remoteStore,a),f}async function WV(t,e,n,r,a){t.Ua=(_,S,A)=>async function(k,O,L,K){let H=O.view.ga(L);H.ss&&(H=await p0(k.localStore,O.query,!1).then(({documents:N})=>O.view.ga(N,H)));const ae=K&&K.targetChanges.get(O.targetId),X=K&&K.targetMismatches.get(O.targetId)!=null,ie=O.view.applyChanges(H,k.isPrimaryClient,ae,X);return A0(k,O.targetId,ie.ba),ie.snapshot}(t,_,S,A);const l=await p0(t.localStore,e,!0),c=new GV(e,l.Es),f=c.ga(l.documents),m=tc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),p=c.applyChanges(f,t.isPrimaryClient,m);A0(t,n,p.ba);const y=new KV(e,n,c);return t.xa.set(e,y),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),p.snapshot}async function ZV(t,e,n){const r=De(t),a=r.xa.get(e),l=r.Oa.get(a.targetId);if(l.length>1)return r.Oa.set(a.targetId,l.filter(c=>!qf(c,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await lg(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&ny(r.remoteStore,a.targetId),cg(r,a.targetId)}).catch(tl)):(cg(r,a.targetId),await lg(r.localStore,a.targetId,!0))}async function JV(t,e){const n=De(t),r=n.xa.get(e),a=n.Oa.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ny(n.remoteStore,r.targetId))}async function eO(t,e,n){const r=oO(t);try{const a=await function(c,f){const m=De(c),p=Rt.now(),y=f.reduce((A,x)=>A.add(x.key),Le());let _,S;return m.persistence.runTransaction("Locally write mutations","readwrite",A=>{let x=Dr(),k=Le();return m.hs.getEntries(A,y).next(O=>{x=O,x.forEach((L,K)=>{K.isValidDocument()||(k=k.add(L))})}).next(()=>m.localDocuments.getOverlayedDocuments(A,x)).next(O=>{_=O;const L=[];for(const K of f){const H=_2(K,_.get(K.key).overlayedDocument);H!=null&&L.push(new zs(K.key,H,ZA(H.value.mapValue),ai.exists(!0)))}return m.mutationQueue.addMutationBatch(A,p,L,f)}).next(O=>{S=O;const L=O.applyToLocalDocumentSet(_,k);return m.documentOverlayCache.saveOverlays(A,O.batchId,L)})}).then(()=>({batchId:S.batchId,changes:lb(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(c,f,m){let p=c.qa[c.currentUser.toKey()];p||(p=new dt(je)),p=p.insert(f,m),c.qa[c.currentUser.toKey()]=p}(r,a.batchId,n),await ic(r,a.changes),await Xf(r.remoteStore)}catch(a){const l=oy(a,"Failed to persist write");n.reject(l)}}async function Hb(t,e){const n=De(t);try{const r=await pV(n.localStore,e);e.targetChanges.forEach((a,l)=>{const c=n.La.get(l);c&&(Qe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Fa=!0:a.modifiedDocuments.size>0?Qe(c.Fa):a.removedDocuments.size>0&&(Qe(c.Fa),c.Fa=!1))}),await ic(n,r,e)}catch(r){await tl(r)}}function S0(t,e,n){const r=De(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.xa.forEach((l,c)=>{const f=c.view.ea(e);f.snapshot&&a.push(f.snapshot)}),function(c,f){const m=De(c);m.onlineState=f;let p=!1;m.queries.forEach((y,_)=>{for(const S of _.J_)S.ea(f)&&(p=!0)}),p&&ly(m)}(r.eventManager,e),a.length&&r.Ma.R_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function tO(t,e,n){const r=De(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.La.get(e),l=a&&a.key;if(l){let c=new dt(Ee.comparator);c=c.insert(l,hn.newNoDocument(l,xe.min()));const f=Le().add(l),m=new $f(xe.min(),new Map,new dt(je),c,f);await Hb(r,m),r.Ba=r.Ba.remove(l),r.La.delete(e),uy(r)}else await lg(r.localStore,e,!1).then(()=>cg(r,e,n)).catch(tl)}async function nO(t,e){const n=De(t),r=e.batch.batchId;try{const a=await mV(n.localStore,e);Kb(n,r,null),Gb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ic(n,a)}catch(a){await tl(a)}}async function iO(t,e,n){const r=De(t);try{const a=await function(c,f){const m=De(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next(_=>(Qe(_!==null),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>m.localDocuments.getDocuments(p,y))})}(r.localStore,e);Kb(r,e,n),Gb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ic(r,a)}catch(a){await tl(a)}}function Gb(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function Kb(t,e,n){const r=De(t);let a=r.qa[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),r.qa[r.currentUser.toKey()]=a}}function cg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||$b(t,r)})}function $b(t,e){t.Na.delete(e.path.canonicalString());const n=t.Ba.get(e);n!==null&&(ny(t.remoteStore,n),t.Ba=t.Ba.remove(e),t.La.delete(n),uy(t))}function A0(t,e,n){for(const r of n)r instanceof zb?(t.ka.addReference(r.key,e),rO(t,r)):r instanceof Fb?(fe("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||$b(t,r.key)):we()}function rO(t,e){const n=e.key,r=n.path.canonicalString();t.Ba.get(n)||t.Na.has(r)||(fe("SyncEngine","New document in limbo: "+n),t.Na.add(r),uy(t))}function uy(t){for(;t.Na.size>0&&t.Ba.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new Ee(ot.fromString(e)),r=t.Ka.next();t.La.set(r,new $V(n)),t.Ba=t.Ba.insert(n,r),Vb(t.remoteStore,new Ss(ki(Ff(n.path)),r,"TargetPurposeLimboResolution",Uf.oe))}}async function ic(t,e,n){const r=De(t),a=[],l=[],c=[];r.xa.isEmpty()||(r.xa.forEach((f,m)=>{c.push(r.Ua(m,e,n).then(p=>{var y;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(y=n==null?void 0:n.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){a.push(p);const _=ty.zi(m.targetId,p);l.push(_)}}))}),await Promise.all(c),r.Ma.R_(a),await async function(m,p){const y=De(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ee.forEach(p,S=>ee.forEach(S.Wi,A=>y.persistence.referenceDelegate.addReference(_,S.targetId,A)).next(()=>ee.forEach(S.Gi,A=>y.persistence.referenceDelegate.removeReference(_,S.targetId,A)))))}catch(_){if(!nl(_))throw _;fe("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of p){const S=_.targetId;if(!_.fromCache){const A=y.us.get(S),x=A.snapshotVersion,k=A.withLastLimboFreeSnapshotVersion(x);y.us=y.us.insert(S,k)}}}(r.localStore,l))}async function sO(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){fe("SyncEngine","User change. New user:",e.toKey());const r=await xb(n.localStore,e);n.currentUser=e,function(l,c){l.Qa.forEach(f=>{f.forEach(m=>{m.reject(new _e(re.CANCELLED,c))})}),l.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ic(n,r.Ts)}}function aO(t,e){const n=De(t),r=n.La.get(e);if(r&&r.Fa)return Le().add(r.key);{let a=Le();const l=n.Oa.get(e);if(!l)return a;for(const c of l){const f=n.xa.get(c);a=a.unionWith(f.view.fa)}return a}}function Yb(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tO.bind(null,e),e.Ma.R_=qV.bind(null,e.eventManager),e.Ma.Wa=HV.bind(null,e.eventManager),e}function oO(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iO.bind(null,e),e}class _f{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yf(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return dV(this.persistence,new hV,e.initialUser,this.serializer)}ja(e){return new Cb(ey.ei,this.serializer)}za(e){return new EV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_f.provider={build:()=>new _f};class lO extends _f{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Qe(this.persistence.referenceDelegate instanceof yf);const r=this.persistence.referenceDelegate.garbageCollector;return new X2(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new Cb(r=>yf.ei(r,n),this.serializer)}}class hg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>S0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=sO.bind(null,this.syncEngine),await BV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new FV}()}createDatastore(e){const n=Yf(e.databaseInfo.databaseId),r=function(l){return new bV(l)}(e.databaseInfo);return function(l,c,f,m){return new CV(l,c,f,m)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,a,l,c,f){return new IV(r,a,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,n=>S0(this.syncEngine,n,0),function(){return y0.p()?new y0:new TV}())}createSyncEngine(e,n){return function(a,l,c,f,m,p,y){const _=new YV(a,l,c,f,m,p);return y&&(_.$a=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const l=De(a);fe("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await nc(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}hg.provider={build:()=>new hg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Ir("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,n,r,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=cn.UNAUTHENTICATED,this.clientId=QA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async c=>{fe("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(fe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=oy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function xp(t,e){t.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async a=>{r.isEqual(a)||(await xb(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function b0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await cO(t);fe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>v0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,a)=>v0(e.remoteStore,a)),t._onlineComponents=e}async function cO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await xp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===re.FAILED_PRECONDITION||a.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;zo("Error using user provided cache. Falling back to memory cache: "+n),await xp(t,new _f)}}else fe("FirestoreClient","Using default OfflineComponentProvider"),await xp(t,new lO(void 0));return t._offlineComponents}async function Xb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe("FirestoreClient","Using user provided OnlineComponentProvider"),await b0(t,t._uninitializedComponentsProvider._online)):(fe("FirestoreClient","Using default OnlineComponentProvider"),await b0(t,new hg))),t._onlineComponents}function hO(t){return Xb(t).then(e=>e.syncEngine)}async function fg(t){const e=await Xb(t),n=e.eventManager;return n.onListen=QV.bind(null,e.syncEngine),n.onUnlisten=ZV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=XV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=JV.bind(null,e.syncEngine),n}function fO(t,e,n={}){const r=new Cs;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,p){const y=new Qb({next:S=>{y.eu(),c.enqueueAndForget(()=>jb(l,_));const A=S.docs.has(f);!A&&S.fromCache?p.reject(new _e(re.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&S.fromCache&&m&&m.source==="server"?p.reject(new _e(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(S)},error:S=>p.reject(S)}),_=new Bb(Ff(f.path),y,{includeMetadataChanges:!0,ua:!0});return Ub(l,_)}(await fg(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(t,e,n){if(!n)throw new _e(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function dO(t,e,n,r){if(e===!0&&r===!0)throw new _e(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function R0(t){if(!Ee.isDocumentKey(t))throw new _e(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function C0(t){if(Ee.isDocumentKey(t))throw new _e(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":we()}function oi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cy(t);throw new _e(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new _e(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Wb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wf{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new wP;switch(r.type){case"firstParty":return new IP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=w0.get(n);r&&(fe("ComponentProvider","Removing Datastore"),w0.delete(n),r.terminate())}(this),Promise.resolve()}}function mO(t,e,n,r={}){var a;const l=(t=oi(t,Wf))._getSettings(),c=`${e}:${n}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),r.mockUserToken){let f,m;if(typeof r.mockUserToken=="string")f=r.mockUserToken,m=cn.MOCK_USER;else{f=tD(r.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new _e(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new cn(p)}t._authCredentials=new RP(new YA(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zf(this.firestore,e,this._query)}}class En{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new En(this.firestore,e,this._key)}}class xs extends Zf{constructor(e,n,r){super(e,n,Ff(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new Ee(e))}withConverter(e){return new xs(this.firestore,e,this._path)}}function I0(t,e,...n){if(t=Pt(t),Zb("collection","path",e),t instanceof Wf){const r=ot.fromString(e,...n);return C0(r),new xs(t,null,r)}{if(!(t instanceof En||t instanceof xs))throw new _e(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return C0(r),new xs(t.firestore,null,r)}}function si(t,e,...n){if(t=Pt(t),arguments.length===1&&(e=QA.newId()),Zb("doc","path",e),t instanceof Wf){const r=ot.fromString(e,...n);return R0(r),new En(t,null,new Ee(r))}{if(!(t instanceof En||t instanceof xs))throw new _e(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return R0(r),new En(t.firestore,t instanceof xs?t.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Db(this,"async_queue_retry"),this.fu=()=>{const r=Cp();r&&fe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=Cp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const n=Cp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const n=new Cs;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!nl(e))throw e;fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const a=function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),f}(r);throw Ir("INTERNAL UNHANDLED ERROR: ",a),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const a=ay.createAndSchedule(this,e,n,r,l=>this.Su(l));return this.Eu.push(a),a}pu(){this.Au&&we()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.Eu)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.Eu.indexOf(e);this.Eu.splice(n,1)}}function P0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1}(t,["next","error","complete"])}class Ms extends Wf{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new D0,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new D0(e),this._firestoreClient=void 0,await e}}}function hy(t,e){const n=typeof t=="object"?t:jA(),r=typeof t=="string"?t:"(default)",a=Fg(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=JI("firestore");l&&mO(a,...l)}return a}function fy(t){if(t._terminated)throw new _e(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||pO(t),t._firestoreClient}function pO(t){var e,n,r;const a=t._freezeSettings(),l=function(f,m,p,y){return new HP(f,m,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,Wb(y.experimentalLongPollingOptions),y.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new uO(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $o(en.fromBase64String(e))}catch(n){throw new _e(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $o(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=/^__.*__$/;class yO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zs(e,this.data,this.fieldMask,n,this.fieldTransforms):new ec(e,this.data,n,this.fieldTransforms)}}class Jb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new zs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ew(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class gy{constructor(e,n,r,a,l,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new gy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:r,Nu:!1});return a.Bu(e),a}Lu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:r,Nu:!1});return a.Fu(),a}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Ef(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(ew(this.Mu)&&gO.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class vO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yf(e)}$u(e,n,r,a=!1){return new gy({Mu:e,methodName:n,Ku:r,path:Jt.emptyPath(),Nu:!1,Qu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yy(t){const e=t._freezeSettings(),n=Yf(t._databaseId);return new vO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function tw(t,e,n,r,a,l={}){const c=t.$u(l.merge||l.mergeFields?2:0,e,n,a);vy("Data must be an object, but it was:",c,r);const f=nw(r,c);let m,p;if(l.merge)m=new Mn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const S=dg(e,_,n);if(!c.contains(S))throw new _e(re.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);rw(y,S)||y.push(S)}m=new Mn(y),p=c.fieldTransforms.filter(_=>m.covers(_.field))}else m=null,p=c.fieldTransforms;return new yO(new wn(f),m,p)}class ed extends dy{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ed}}function _O(t,e,n,r){const a=t.$u(1,e,n);vy("Data must be an object, but it was:",a,r);const l=[],c=wn.empty();Bs(r,(m,p)=>{const y=_y(e,m,n);p=Pt(p);const _=a.Lu(y);if(p instanceof ed)l.push(y);else{const S=td(p,_);S!=null&&(l.push(y),c.set(y,S))}});const f=new Mn(l);return new Jb(c,f,a.fieldTransforms)}function EO(t,e,n,r,a,l){const c=t.$u(1,e,n),f=[dg(e,r,n)],m=[a];if(l.length%2!=0)throw new _e(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)f.push(dg(e,l[S])),m.push(l[S+1]);const p=[],y=wn.empty();for(let S=f.length-1;S>=0;--S)if(!rw(p,f[S])){const A=f[S];let x=m[S];x=Pt(x);const k=c.Lu(A);if(x instanceof ed)p.push(A);else{const O=td(x,k);O!=null&&(p.push(A),y.set(A,O))}}const _=new Mn(p);return new Jb(y,_,c.fieldTransforms)}function td(t,e){if(iw(t=Pt(t)))return vy("Unsupported field value:",e,t),nw(t,e);if(t instanceof dy)return function(r,a){if(!ew(a.Mu))throw a.qu(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.qu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,a){const l=[];let c=0;for(const f of r){let m=td(f,a.ku(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(t,e)}return function(r,a){if((r=Pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return d2(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Rt.fromDate(r);return{timestampValue:gf(a.serializer,l)}}if(r instanceof Rt){const l=new Rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gf(a.serializer,l)}}if(r instanceof my)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $o)return{bytesValue:Eb(a.serializer,r._byteString)};if(r instanceof En){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Zg(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof py)return function(c,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw f.qu("VectorValues must only contain numeric values.");return Yg(f.serializer,m)})}}}}}}(r,a);throw a.qu(`Unsupported field value: ${cy(r)}`)}(t,e)}function nw(t,e){const n={};return XA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bs(t,(r,a)=>{const l=td(a,e.Ou(r));l!=null&&(n[r]=l)}),{mapValue:{fields:n}}}function iw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Rt||t instanceof my||t instanceof $o||t instanceof En||t instanceof dy||t instanceof py)}function vy(t,e,n){if(!iw(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const r=cy(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function dg(t,e,n){if((e=Pt(e))instanceof Jf)return e._internalPath;if(typeof e=="string")return _y(t,e);throw Ef("Field path arguments must be of type string or ",t,!1,void 0,n)}const TO=new RegExp("[~\\*/\\[\\]]");function _y(t,e,n){if(e.search(TO)>=0)throw Ef(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jf(...e.split("."))._internalPath}catch{throw Ef(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ef(t,e,n,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${r}`),c&&(m+=` in document ${a}`),m+=")"),new _e(re.INVALID_ARGUMENT,f+t+m)}function rw(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,n,r,a,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(aw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class SO extends sw{data(){return super.data()}}function aw(t,e){return typeof e=="string"?_y(t,e):e instanceof Jf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bO{convertValue(e,n="none"){switch(Os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bs(e,(a,l)=>{r[a]=this.convertValue(l,n)}),r}convertVectorValue(e){var n,r,a;const l=(a=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(c=>wt(c.doubleValue));return new py(l)}convertGeoPoint(e){return new my(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Bf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ku(e));default:return null}}convertTimestamp(e){const n=Ps(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ot.fromString(e);Qe(Rb(r));const a=new Lu(r.get(1),r.get(3)),l=new Ee(r.popFirst(5));return a.isEqual(n)||Ir(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lw extends sw{constructor(e,n,r,a,l,c){super(e,n,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(aw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Wh extends lw{data(e={}){return super.data(e)}}class wO{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Eu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Wh(this._firestore,this._userDataWriter,r.key,r,new Eu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(f=>{const m=new Wh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Eu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const m=new Wh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Eu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:RO(f.type),doc:m,oldIndex:p,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function RO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(t){t=oi(t,En);const e=oi(t.firestore,Ms);return fO(fy(e),t._key).then(n=>cw(e,t,n))}class uw extends bO{constructor(e){super(),this.firestore=e}convertBytes(e){return new $o(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,n)}}function CO(t,e,n){t=oi(t,En);const r=oi(t.firestore,Ms),a=ow(t.converter,e);return nd(r,[tw(yy(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,ai.none())])}function Tf(t,e,n,...r){t=oi(t,En);const a=oi(t.firestore,Ms),l=yy(a);let c;return c=typeof(e=Pt(e))=="string"||e instanceof Jf?EO(l,"updateDoc",t._key,e,n,r):_O(l,"updateDoc",t._key,e),nd(a,[c.toMutation(t._key,ai.exists(!0))])}function xO(t){return nd(oi(t.firestore,Ms),[new Qg(t._key,ai.none())])}function IO(t,e){const n=oi(t.firestore,Ms),r=si(t),a=ow(t.converter,e);return nd(n,[tw(yy(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,ai.exists(!1))]).then(()=>r)}function DO(t,...e){var n,r,a;t=Pt(t);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||P0(e[c])||(l=e[c],c++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(P0(e[c])){const _=e[c];e[c]=(n=_.next)===null||n===void 0?void 0:n.bind(_),e[c+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[c+2]=(a=_.complete)===null||a===void 0?void 0:a.bind(_)}let m,p,y;if(t instanceof En)p=oi(t.firestore,Ms),y=Ff(t._key.path),m={next:_=>{e[c]&&e[c](cw(p,t,_))},error:e[c+1],complete:e[c+2]};else{const _=oi(t,Zf);p=oi(_.firestore,Ms),y=_._query;const S=new uw(p);m={next:A=>{e[c]&&e[c](new wO(p,S,_,A))},error:e[c+1],complete:e[c+2]},AO(t._query)}return function(S,A,x,k){const O=new Qb(k),L=new Bb(A,O,x);return S.asyncQueue.enqueueAndForget(async()=>Ub(await fg(S),L)),()=>{O.eu(),S.asyncQueue.enqueueAndForget(async()=>jb(await fg(S),L))}}(fy(p),y,f,m)}function nd(t,e){return function(r,a){const l=new Cs;return r.asyncQueue.enqueueAndForget(async()=>eO(await hO(r),a,l)),l.promise}(fy(t),e)}function cw(t,e,n){const r=n.docs.get(e._key),a=new uw(t);return new lw(t,a,e._key,r,new Eu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){el=a})(Jo),Bo(new Ca("firestore",(r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),f=new Ms(new CP(r.getProvider("auth-internal")),new PP(r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new _e(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lu(p.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:n},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),ws(KT,"4.7.6",e),ws(KT,"4.7.6","esm2017")})();const Ey=B.createContext({});function Ty(t){const e=B.useRef(null);return e.current===null&&(e.current=t()),e.current}const id=B.createContext(null),Sy=B.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class PO extends B.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=r instanceof HTMLElement&&r.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function VO({children:t,isPresent:e,anchorX:n}){const r=B.useId(),a=B.useRef(null),l=B.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=B.useContext(Sy);return B.useInsertionEffect(()=>{const{width:f,height:m,top:p,left:y,right:_}=l.current;if(e||!a.current||!f||!m)return;const S=n==="left"?`left: ${y}`:`right: ${_}`;a.current.dataset.motionPopId=r;const A=document.createElement("style");return c&&(A.nonce=c),document.head.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${m}px !important;
            ${S}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.removeChild(A)}},[e]),U.jsx(PO,{isPresent:e,childRef:a,sizeRef:l,children:B.cloneElement(t,{ref:a})})}const OO=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:l,mode:c,anchorX:f})=>{const m=Ty(NO),p=B.useId(),y=B.useCallback(S=>{m.set(S,!0);for(const A of m.values())if(!A)return;r&&r()},[m,r]),_=B.useMemo(()=>({id:p,initial:e,isPresent:n,custom:a,onExitComplete:y,register:S=>(m.set(S,!1),()=>m.delete(S))}),l?[Math.random(),y]:[n,y]);return B.useMemo(()=>{m.forEach((S,A)=>m.set(A,!1))},[n]),B.useEffect(()=>{!n&&!m.size&&r&&r()},[n]),c==="popLayout"&&(t=U.jsx(VO,{isPresent:n,anchorX:f,children:t})),U.jsx(id.Provider,{value:_,children:t})};function NO(){return new Map}function hw(t=!0){const e=B.useContext(id);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=e,l=B.useId();B.useEffect(()=>{t&&a(l)},[t]);const c=B.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,c]:[!0]}const jh=t=>t.key||"";function V0(t){const e=[];return B.Children.forEach(t,n=>{B.isValidElement(n)&&e.push(n)}),e}const Ay=typeof window<"u",fw=Ay?B.useLayoutEffect:B.useEffect,xu=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:f="left"})=>{const[m,p]=hw(c),y=B.useMemo(()=>V0(t),[t]),_=c&&!m?[]:y.map(jh),S=B.useRef(!0),A=B.useRef(y),x=Ty(()=>new Map),[k,O]=B.useState(y),[L,K]=B.useState(y);fw(()=>{S.current=!1,A.current=y;for(let X=0;X<L.length;X++){const ie=jh(L[X]);_.includes(ie)?x.delete(ie):x.get(ie)!==!0&&x.set(ie,!1)}},[L,_.length,_.join("-")]);const H=[];if(y!==k){let X=[...y];for(let ie=0;ie<L.length;ie++){const N=L[ie],R=jh(N);_.includes(R)||(X.splice(ie,0,N),H.push(N))}return l==="wait"&&H.length&&(X=H),K(V0(X)),O(y),null}const{forceRender:ae}=B.useContext(Ey);return U.jsx(U.Fragment,{children:L.map(X=>{const ie=jh(X),N=c&&!m?!1:y===L||_.includes(ie),R=()=>{if(x.has(ie))x.set(ie,!0);else return;let w=!0;x.forEach(D=>{D||(w=!1)}),w&&(ae==null||ae(),K(A.current),c&&(p==null||p()),r&&r())};return U.jsx(OO,{isPresent:N,initial:!S.current||n?void 0:!1,custom:N?void 0:e,presenceAffectsLayout:a,mode:l,onExitComplete:N?void 0:R,anchorX:f,children:X},ie)})})},kn=t=>t;let dw=kn;const MO={useManualTiming:!1};function kO(t){let e=new Set,n=new Set,r=!1,a=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function f(p){l.has(p)&&(m.schedule(p),t()),p(c)}const m={schedule:(p,y=!1,_=!1)=>{const A=_&&r?e:n;return y&&l.add(p),A.has(p)||A.add(p),p},cancel:p=>{n.delete(p),l.delete(p)},process:p=>{if(c=p,r){a=!0;return}r=!0,[e,n]=[n,e],e.forEach(f),e.clear(),r=!1,a&&(a=!1,m.process(p))}};return m}const Bh=["read","resolveKeyframes","update","preRender","render","postRender"],LO=40;function mw(t,e){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Bh.reduce((L,K)=>(L[K]=kO(l),L),{}),{read:f,resolveKeyframes:m,update:p,preRender:y,render:_,postRender:S}=c,A=()=>{const L=performance.now();n=!1,a.delta=r?1e3/60:Math.max(Math.min(L-a.timestamp,LO),1),a.timestamp=L,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),y.process(a),_.process(a),S.process(a),a.isProcessing=!1,n&&e&&(r=!1,t(A))},x=()=>{n=!0,r=!0,a.isProcessing||t(A)};return{schedule:Bh.reduce((L,K)=>{const H=c[K];return L[K]=(ae,X=!1,ie=!1)=>(n||x(),H.schedule(ae,X,ie)),L},{}),cancel:L=>{for(let K=0;K<Bh.length;K++)c[Bh[K]].cancel(L)},state:a,steps:c}}const{schedule:rt,cancel:ks,state:Wt,steps:Ip}=mw(typeof requestAnimationFrame<"u"?requestAnimationFrame:kn,!0),pw=B.createContext({strict:!1}),O0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Yo={};for(const t in O0)Yo[t]={isEnabled:e=>O0[t].some(n=>!!e[n])};function UO(t){for(const e in t)Yo[e]={...Yo[e],...t[e]}}const jO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||jO.has(t)}let gw=t=>!Sf(t);function BO(t){t&&(gw=e=>e.startsWith("on")?!Sf(e):t(e))}try{BO(require("@emotion/is-prop-valid").default)}catch{}function zO(t,e,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(gw(a)||n===!0&&Sf(a)||!e&&!Sf(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}function FO(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const rd=B.createContext({});function sd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function zu(t){return typeof t=="string"||Array.isArray(t)}const by=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wy=["initial",...by];function ad(t){return sd(t.animate)||wy.some(e=>zu(t[e]))}function yw(t){return!!(ad(t)||t.variants)}function qO(t,e){if(ad(t)){const{initial:n,animate:r}=t;return{initial:n===!1||zu(n)?n:void 0,animate:zu(r)?r:void 0}}return t.inherit!==!1?e:{}}function HO(t){const{initial:e,animate:n}=qO(t,B.useContext(rd));return B.useMemo(()=>({initial:e,animate:n}),[N0(e),N0(n)])}function N0(t){return Array.isArray(t)?t.join(" "):t}const GO=Symbol.for("motionComponentSymbol");function Io(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function KO(t,e,n){return B.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Io(n)&&(n.current=r))},[e])}const Ry=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$O="framerAppearId",vw="data-"+Ry($O),{schedule:Cy}=mw(queueMicrotask,!1),_w=B.createContext({});function YO(t,e,n,r,a){var l,c;const{visualElement:f}=B.useContext(rd),m=B.useContext(pw),p=B.useContext(id),y=B.useContext(Sy).reducedMotion,_=B.useRef(null);r=r||m.renderer,!_.current&&r&&(_.current=r(t,{visualState:e,parent:f,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:y}));const S=_.current,A=B.useContext(_w);S&&!S.projection&&a&&(S.type==="html"||S.type==="svg")&&QO(_.current,n,a,A);const x=B.useRef(!1);B.useInsertionEffect(()=>{S&&x.current&&S.update(n,p)});const k=n[vw],O=B.useRef(!!k&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,k))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,k)));return fw(()=>{S&&(x.current=!0,window.MotionIsMounted=!0,S.updateFeatures(),Cy.render(S.render),O.current&&S.animationState&&S.animationState.animateChanges())}),B.useEffect(()=>{S&&(!O.current&&S.animationState&&S.animationState.animateChanges(),O.current&&(queueMicrotask(()=>{var L;(L=window.MotionHandoffMarkAsComplete)===null||L===void 0||L.call(window,k)}),O.current=!1))}),S}function QO(t,e,n,r){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Ew(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&Io(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,layoutScroll:m,layoutRoot:p})}function Ew(t){if(t)return t.options.allowProjection!==!1?t.projection:Ew(t.parent)}function XO({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:a}){var l,c;t&&UO(t);function f(p,y){let _;const S={...B.useContext(Sy),...p,layoutId:WO(p)},{isStatic:A}=S,x=HO(p),k=r(p,A);if(!A&&Ay){ZO();const O=JO(S);_=O.MeasureLayout,x.visualElement=YO(a,k,S,e,O.ProjectionNode)}return U.jsxs(rd.Provider,{value:x,children:[_&&x.visualElement?U.jsx(_,{visualElement:x.visualElement,...S}):null,n(a,p,KO(k,x.visualElement,y),k,A,x.visualElement)]})}f.displayName=`motion.${typeof a=="string"?a:`create(${(c=(l=a.displayName)!==null&&l!==void 0?l:a.name)!==null&&c!==void 0?c:""})`}`;const m=B.forwardRef(f);return m[GO]=a,m}function WO({layoutId:t}){const e=B.useContext(Ey).id;return e&&t!==void 0?e+"-"+t:t}function ZO(t,e){B.useContext(pw).strict}function JO(t){const{drag:e,layout:n}=Yo;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Tw=t=>e=>typeof e=="string"&&e.startsWith(t),xy=Tw("--"),eN=Tw("var(--"),Iy=t=>eN(t)?tN.test(t.split("/*")[0].trim()):!1,tN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Fu={};function nN(t){for(const e in t)Fu[e]=t[e],xy(e)&&(Fu[e].isCSSVariable=!0)}const rl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ma=new Set(rl);function Sw(t,{layout:e,layoutId:n}){return Ma.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Fu[t]||t==="opacity")}const fn=t=>!!(t&&t.getVelocity),Aw=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Pr=(t,e,n)=>n>e?e:n<t?t:n,sl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},qu={...sl,transform:t=>Pr(0,1,t)},zh={...sl,default:1},sc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ys=sc("deg"),Ui=sc("%"),Ae=sc("px"),iN=sc("vh"),rN=sc("vw"),M0={...Ui,parse:t=>Ui.parse(t)/100,transform:t=>Ui.transform(t*100)},sN={borderWidth:Ae,borderTopWidth:Ae,borderRightWidth:Ae,borderBottomWidth:Ae,borderLeftWidth:Ae,borderRadius:Ae,radius:Ae,borderTopLeftRadius:Ae,borderTopRightRadius:Ae,borderBottomRightRadius:Ae,borderBottomLeftRadius:Ae,width:Ae,maxWidth:Ae,height:Ae,maxHeight:Ae,top:Ae,right:Ae,bottom:Ae,left:Ae,padding:Ae,paddingTop:Ae,paddingRight:Ae,paddingBottom:Ae,paddingLeft:Ae,margin:Ae,marginTop:Ae,marginRight:Ae,marginBottom:Ae,marginLeft:Ae,backgroundPositionX:Ae,backgroundPositionY:Ae},aN={rotate:ys,rotateX:ys,rotateY:ys,rotateZ:ys,scale:zh,scaleX:zh,scaleY:zh,scaleZ:zh,skew:ys,skewX:ys,skewY:ys,distance:Ae,translateX:Ae,translateY:Ae,translateZ:Ae,x:Ae,y:Ae,z:Ae,perspective:Ae,transformPerspective:Ae,opacity:qu,originX:M0,originY:M0,originZ:Ae},k0={...sl,transform:Math.round},Dy={...sN,...aN,zIndex:k0,size:Ae,fillOpacity:qu,strokeOpacity:qu,numOctaves:k0},oN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lN=rl.length;function uN(t,e,n){let r="",a=!0;for(let l=0;l<lN;l++){const c=rl[l],f=t[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const p=Aw(f,Dy[c]);if(!m){a=!1;const y=oN[c]||c;r+=`${y}(${p}) `}n&&(e[c]=p)}}return r=r.trim(),n?r=n(e,a?"":r):a&&(r="none"),r}function Py(t,e,n){const{style:r,vars:a,transformOrigin:l}=t;let c=!1,f=!1;for(const m in e){const p=e[m];if(Ma.has(m)){c=!0;continue}else if(xy(m)){a[m]=p;continue}else{const y=Aw(p,Dy[m]);m.startsWith("origin")?(f=!0,l[m]=y):r[m]=y}}if(e.transform||(c||n?r.transform=uN(e,t.transform,n):r.transform&&(r.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;r.transformOrigin=`${m} ${p} ${y}`}}const Vy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bw(t,e,n){for(const r in e)!fn(e[r])&&!Sw(r,n)&&(t[r]=e[r])}function cN({transformTemplate:t},e){return B.useMemo(()=>{const n=Vy();return Py(n,e,t),Object.assign({},n.vars,n.style)},[e])}function hN(t,e){const n=t.style||{},r={};return bw(r,n,t),Object.assign(r,cN(t,e)),r}function fN(t,e){const n={},r=hN(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const dN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Oy(t){return typeof t!="string"||t.includes("-")?!1:!!(dN.indexOf(t)>-1||/[A-Z]/u.test(t))}const mN={offset:"stroke-dashoffset",array:"stroke-dasharray"},pN={offset:"strokeDashoffset",array:"strokeDasharray"};function gN(t,e,n=1,r=0,a=!0){t.pathLength=1;const l=a?mN:pN;t[l.offset]=Ae.transform(-r);const c=Ae.transform(e),f=Ae.transform(n);t[l.array]=`${c} ${f}`}function L0(t,e,n){return typeof t=="string"?t:Ae.transform(e+n*t)}function yN(t,e,n){const r=L0(e,t.x,t.width),a=L0(n,t.y,t.height);return`${r} ${a}`}function Ny(t,{attrX:e,attrY:n,attrScale:r,originX:a,originY:l,pathLength:c,pathSpacing:f=1,pathOffset:m=0,...p},y,_){if(Py(t,p,_),y){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:S,style:A,dimensions:x}=t;S.transform&&(x&&(A.transform=S.transform),delete S.transform),x&&(a!==void 0||l!==void 0||A.transform)&&(A.transformOrigin=yN(x,a!==void 0?a:.5,l!==void 0?l:.5)),e!==void 0&&(S.x=e),n!==void 0&&(S.y=n),r!==void 0&&(S.scale=r),c!==void 0&&gN(S,c,f,m,!1)}const ww=()=>({...Vy(),attrs:{}}),My=t=>typeof t=="string"&&t.toLowerCase()==="svg";function vN(t,e,n,r){const a=B.useMemo(()=>{const l=ww();return Ny(l,e,My(r),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};bw(l,t.style,t),a.style={...l,...a.style}}return a}function _N(t=!1){return(n,r,a,{latestValues:l},c)=>{const m=(Oy(n)?vN:fN)(r,l,c,n),p=zO(r,typeof n=="string",t),y=n!==B.Fragment?{...p,...m,ref:a}:{},{children:_}=r,S=B.useMemo(()=>fn(_)?_.get():_,[_]);return B.createElement(n,{...y,children:S})}}function U0(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function ky(t,e,n,r){if(typeof e=="function"){const[a,l]=U0(r);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=U0(r);e=e(n!==void 0?n:t.custom,a,l)}return e}const mg=t=>Array.isArray(t),EN=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),TN=t=>mg(t)?t[t.length-1]||0:t;function Zh(t){const e=fn(t)?t.get():t;return EN(e)?e.toValue():e}function SN({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,a,l){const c={latestValues:AN(r,a,l,t),renderState:e()};return n&&(c.onMount=f=>n({props:r,current:f,...c}),c.onUpdate=f=>n(f)),c}const Rw=t=>(e,n)=>{const r=B.useContext(rd),a=B.useContext(id),l=()=>SN(t,e,r,a);return n?l():Ty(l)};function AN(t,e,n,r){const a={},l=r(t,{});for(const S in l)a[S]=Zh(l[S]);let{initial:c,animate:f}=t;const m=ad(t),p=yw(t);e&&p&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?f:c;if(_&&typeof _!="boolean"&&!sd(_)){const S=Array.isArray(_)?_:[_];for(let A=0;A<S.length;A++){const x=ky(t,S[A]);if(x){const{transitionEnd:k,transition:O,...L}=x;for(const K in L){let H=L[K];if(Array.isArray(H)){const ae=y?H.length-1:0;H=H[ae]}H!==null&&(a[K]=H)}for(const K in k)a[K]=k[K]}}}return a}function Ly(t,e,n){var r;const{style:a}=t,l={};for(const c in a)(fn(a[c])||e.style&&fn(e.style[c])||Sw(c,t)||((r=n==null?void 0:n.getValue(c))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(l[c]=a[c]);return l}const bN={useVisualState:Rw({scrapeMotionValuesFromProps:Ly,createRenderState:Vy})};function Cw(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function xw(t,{style:e,vars:n},r,a){Object.assign(t.style,e,a&&a.getProjectionStyles(r));for(const l in n)t.style.setProperty(l,n[l])}const Iw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Dw(t,e,n,r){xw(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(Iw.has(a)?a:Ry(a),e.attrs[a])}function Pw(t,e,n){const r=Ly(t,e,n);for(const a in t)if(fn(t[a])||fn(e[a])){const l=rl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=t[a]}return r}const j0=["x","y","width","height","cx","cy","r"],wN={useVisualState:Rw({scrapeMotionValuesFromProps:Pw,createRenderState:ww,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:a})=>{if(!n)return;let l=!!t.drag;if(!l){for(const f in a)if(Ma.has(f)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let f=0;f<j0.length;f++){const m=j0[f];t[m]!==e[m]&&(c=!0)}c&&rt.read(()=>{Cw(n,r),rt.render(()=>{Ny(r,a,My(n.tagName),t.transformTemplate),Dw(n,r)})})}})};function RN(t,e){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...Oy(r)?wN:bN,preloadedFeatures:t,useRender:_N(a),createVisualElement:e,Component:r};return XO(c)}}function od(t,e,n){const r=t.getProps();return ky(r,e,n!==void 0?n:r.custom,t)}function Uy(t,e){return t?t[e]||t.default||t:void 0}const Vw=new Set(["width","height","top","left","right","bottom",...rl]);let Jh;function CN(){Jh=void 0}const ji={now:()=>(Jh===void 0&&ji.set(Wt.isProcessing||MO.useManualTiming?Wt.timestamp:performance.now()),Jh),set:t=>{Jh=t,queueMicrotask(CN)}};function jy(t,e){t.indexOf(e)===-1&&t.push(e)}function By(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class zy{constructor(){this.subscriptions=[]}add(e){return jy(this.subscriptions,e),()=>By(this.subscriptions,e)}notify(e,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,r);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Ow(t,e){return e?t*(1e3/e):0}const B0=30,xN=t=>!isNaN(parseFloat(t));class IN{constructor(e,n={}){this.version="12.1.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{const l=ji.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ji.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=xN(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new zy);const r=this.events[e].add(n);return e==="change"?()=>{r(),rt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ji.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>B0)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,B0);return Ow(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hu(t,e){return new IN(t,e)}function DN(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Hu(n))}function PN(t,e){const n=od(t,e);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const c in l){const f=TN(l[c]);DN(t,c,f)}}function VN(t){return!!(fn(t)&&t.add)}function pg(t,e){const n=t.getValue("willChange");if(VN(n))return n.add(e)}function Nw(t){return t.props[vw]}function Fy(t){let e;return()=>(e===void 0&&(e=t()),e)}const ON=Fy(()=>window.ScrollTimeline!==void 0);class NN{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(a=>{if(ON()&&a.attachTimeline)return a.attachTimeline(e);if(typeof n=="function")return n(a)});return()=>{r.forEach((a,l)=>{a&&a(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class MN extends NN{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}const wr=t=>t*1e3,Rr=t=>t/1e3;function qy(t){return typeof t=="function"}function z0(t,e){t.timeline=e,t.onfinish=null}const Hy=t=>Array.isArray(t)&&typeof t[0]=="number",kN={linearEasing:void 0};function LN(t,e){const n=Fy(t);return()=>{var r;return(r=kN[e])!==null&&r!==void 0?r:n()}}const Af=LN(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Qo=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Mw=(t,e,n=10)=>{let r="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)r+=t(Qo(0,a-1,l))+", ";return`linear(${r.substring(0,r.length-2)})`};function kw(t){return!!(typeof t=="function"&&Af()||!t||typeof t=="string"&&(t in gg||Af())||Hy(t)||Array.isArray(t)&&t.every(kw))}const Tu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,gg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Tu([0,.65,.55,1]),circOut:Tu([.55,0,1,.45]),backIn:Tu([.31,.01,.66,-.59]),backOut:Tu([.33,1.53,.69,.99])};function Lw(t,e){if(t)return typeof t=="function"&&Af()?Mw(t,e):Hy(t)?Tu(t):Array.isArray(t)?t.map(n=>Lw(n,e)||gg.easeOut):gg[t]}const Uw=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,UN=1e-7,jN=12;function BN(t,e,n,r,a){let l,c,f=0;do c=e+(n-e)/2,l=Uw(c,r,a)-t,l>0?n=c:e=c;while(Math.abs(l)>UN&&++f<jN);return c}function ac(t,e,n,r){if(t===e&&n===r)return kn;const a=l=>BN(l,0,1,t,n);return l=>l===0||l===1?l:Uw(a(l),e,r)}const jw=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Bw=t=>e=>1-t(1-e),zw=ac(.33,1.53,.69,.99),Gy=Bw(zw),Fw=jw(Gy),qw=t=>(t*=2)<1?.5*Gy(t):.5*(2-Math.pow(2,-10*(t-1))),Ky=t=>1-Math.sin(Math.acos(t)),Hw=Bw(Ky),Gw=jw(Ky),Kw=t=>/^0[^.\s]+$/u.test(t);function zN(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Kw(t):!0}const Iu=t=>Math.round(t*1e5)/1e5,$y=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function FN(t){return t==null}const qN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Yy=(t,e)=>n=>!!(typeof n=="string"&&qN.test(n)&&n.startsWith(t)||e&&!FN(n)&&Object.prototype.hasOwnProperty.call(n,e)),$w=(t,e,n)=>r=>{if(typeof r!="string")return r;const[a,l,c,f]=r.match($y);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},HN=t=>Pr(0,255,t),Dp={...sl,transform:t=>Math.round(HN(t))},wa={test:Yy("rgb","red"),parse:$w("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Dp.transform(t)+", "+Dp.transform(e)+", "+Dp.transform(n)+", "+Iu(qu.transform(r))+")"};function GN(t){let e="",n="",r="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const yg={test:Yy("#"),parse:GN,transform:wa.transform},Do={test:Yy("hsl","hue"),parse:$w("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ui.transform(Iu(e))+", "+Ui.transform(Iu(n))+", "+Iu(qu.transform(r))+")"},un={test:t=>wa.test(t)||yg.test(t)||Do.test(t),parse:t=>wa.test(t)?wa.parse(t):Do.test(t)?Do.parse(t):yg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?wa.transform(t):Do.transform(t)},KN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function $N(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match($y))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(KN))===null||n===void 0?void 0:n.length)||0)>0}const Yw="number",Qw="color",YN="var",QN="var(",F0="${}",XN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Gu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(XN,m=>(un.test(m)?(r.color.push(l),a.push(Qw),n.push(un.parse(m))):m.startsWith(QN)?(r.var.push(l),a.push(YN),n.push(m)):(r.number.push(l),a.push(Yw),n.push(parseFloat(m))),++l,F0)).split(F0);return{values:n,split:f,indexes:r,types:a}}function Xw(t){return Gu(t).values}function Ww(t){const{split:e,types:n}=Gu(t),r=e.length;return a=>{let l="";for(let c=0;c<r;c++)if(l+=e[c],a[c]!==void 0){const f=n[c];f===Yw?l+=Iu(a[c]):f===Qw?l+=un.transform(a[c]):l+=a[c]}return l}}const WN=t=>typeof t=="number"?0:t;function ZN(t){const e=Xw(t);return Ww(t)(e.map(WN))}const Ls={test:$N,parse:Xw,createTransformer:Ww,getAnimatableNone:ZN},JN=new Set(["brightness","contrast","saturate","opacity"]);function eM(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match($y)||[];if(!r)return t;const a=n.replace(r,"");let l=JN.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+a+")"}const tM=/\b([a-z-]*)\(.*?\)/gu,vg={...Ls,getAnimatableNone:t=>{const e=t.match(tM);return e?e.map(eM).join(" "):t}},nM={...Dy,color:un,backgroundColor:un,outlineColor:un,fill:un,stroke:un,borderColor:un,borderTopColor:un,borderRightColor:un,borderBottomColor:un,borderLeftColor:un,filter:vg,WebkitFilter:vg},Qy=t=>nM[t];function Zw(t,e){let n=Qy(t);return n!==vg&&(n=Ls),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const iM=new Set(["auto","none","0"]);function rM(t,e,n){let r=0,a;for(;r<t.length&&!a;){const l=t[r];typeof l=="string"&&!iM.has(l)&&Gu(l).values.length&&(a=t[r]),r++}if(a&&n)for(const l of e)t[l]=Zw(n,a)}const q0=t=>t===sl||t===Ae,H0=(t,e)=>parseFloat(t.split(", ")[e]),G0=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/u);if(a)return H0(a[1],e);{const l=r.match(/^matrix\((.+)\)$/u);return l?H0(l[1],t):0}},sM=new Set(["x","y","z"]),aM=rl.filter(t=>!sM.has(t));function oM(t){const e=[];return aM.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Xo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:G0(4,13),y:G0(5,14)};Xo.translateX=Xo.x;Xo.translateY=Xo.y;const Ra=new Set;let _g=!1,Eg=!1;function Jw(){if(Eg){const t=Array.from(Ra).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const a=oM(r);a.length&&(n.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,c])=>{var f;(f=r.getValue(l))===null||f===void 0||f.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Eg=!1,_g=!1,Ra.forEach(t=>t.complete()),Ra.clear()}function eR(){Ra.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Eg=!0)})}function lM(){eR(),Jw()}class Xy{constructor(e,n,r,a,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ra.add(this),_g||(_g=!0,rt.read(eR),rt.resolveKeyframes(Jw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:a}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=a==null?void 0:a.get(),f=e[e.length-1];if(c!==void 0)e[0]=c;else if(r&&n){const m=r.readValue(n,f);m!=null&&(e[0]=m)}e[0]===void 0&&(e[0]=f),a&&c===void 0&&a.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ra.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ra.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const tR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),uM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function cM(t){const e=uM.exec(t);if(!e)return[,];const[,n,r,a]=e;return[`--${n??r}`,a]}function nR(t,e,n=1){const[r,a]=cM(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const c=l.trim();return tR(c)?parseFloat(c):c}return Iy(a)?nR(a,e,n+1):a}const iR=t=>e=>e.test(t),hM={test:t=>t==="auto",parse:t=>t},rR=[sl,Ae,Ui,ys,rN,iN,hM],K0=t=>rR.find(iR(t));class sR extends Xy{constructor(e,n,r,a,l){super(e,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let p=e[m];if(typeof p=="string"&&(p=p.trim(),Iy(p))){const y=nR(p,n.current);y!==void 0&&(e[m]=y),m===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Vw.has(r)||e.length!==2)return;const[a,l]=e,c=K0(a),f=K0(l);if(c!==f)if(q0(c)&&q0(f))for(let m=0;m<e.length;m++){const p=e[m];typeof p=="string"&&(e[m]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let a=0;a<e.length;a++)zN(e[a])&&r.push(a);r.length&&rM(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:a}=this;if(!n||!n.current)return;const l=n.getValue(r);l&&l.jump(this.measuredOrigin,!1);const c=a.length-1,f=a[c];a[c]=Xo[r](n.measureViewportBox(),window.getComputedStyle(n.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([m,p])=>{n.getValue(m).set(p)}),this.resolveNoneKeyframes()}}const $0=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ls.test(t)||t==="0")&&!t.startsWith("url("));function fM(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function dM(t,e,n,r){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=$0(a,e),f=$0(l,e);return!c||!f?!1:fM(t)||(n==="spring"||qy(n))&&r}const mM=t=>t!==null;function ld(t,{repeat:e,repeatType:n="loop"},r){const a=t.filter(mM),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return!l||r===void 0?a[l]:r}const pM=40;class aR{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",...f}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ji.now(),this.options={autoplay:e,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:c,...f},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>pM?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&lM(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ji.now(),this.hasAttemptedResolve=!0;const{name:r,type:a,velocity:l,delay:c,onComplete:f,onUpdate:m,isGenerator:p}=this.options;if(!p&&!dM(e,r,a,l))if(c)this.options.duration=0;else{m&&m(ld(e,this.options,n)),f&&f(),this.resolveFinishedPromise();return}const y=this.initPlayback(e,n);y!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...y},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Tg=2e4;function oR(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Tg;)e+=n,r=t.next(e);return e>=Tg?1/0:e}const ht=(t,e,n)=>t+(e-t)*n;function Pp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function gM({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=Pp(m,f,t+1/3),l=Pp(m,f,t),c=Pp(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function bf(t,e){return n=>n>0?e:t}const Vp=(t,e,n)=>{const r=t*t,a=n*(e*e-r)+r;return a<0?0:Math.sqrt(a)},yM=[yg,wa,Do],vM=t=>yM.find(e=>e.test(t));function Y0(t){const e=vM(t);if(!e)return!1;let n=e.parse(t);return e===Do&&(n=gM(n)),n}const Q0=(t,e)=>{const n=Y0(t),r=Y0(e);if(!n||!r)return bf(t,e);const a={...n};return l=>(a.red=Vp(n.red,r.red,l),a.green=Vp(n.green,r.green,l),a.blue=Vp(n.blue,r.blue,l),a.alpha=ht(n.alpha,r.alpha,l),wa.transform(a))},_M=(t,e)=>n=>e(t(n)),oc=(...t)=>t.reduce(_M),Sg=new Set(["none","hidden"]);function EM(t,e){return Sg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function TM(t,e){return n=>ht(t,e,n)}function Wy(t){return typeof t=="number"?TM:typeof t=="string"?Iy(t)?bf:un.test(t)?Q0:bM:Array.isArray(t)?lR:typeof t=="object"?un.test(t)?Q0:SM:bf}function lR(t,e){const n=[...t],r=n.length,a=t.map((l,c)=>Wy(l)(l,e[c]));return l=>{for(let c=0;c<r;c++)n[c]=a[c](l);return n}}function SM(t,e){const n={...t,...e},r={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(r[a]=Wy(t[a])(t[a],e[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function AM(t,e){var n;const r=[],a={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],f=t.indexes[c][a[c]],m=(n=t.values[f])!==null&&n!==void 0?n:0;r[l]=m,a[c]++}return r}const bM=(t,e)=>{const n=Ls.createTransformer(e),r=Gu(t),a=Gu(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Sg.has(t)&&!a.values.length||Sg.has(e)&&!r.values.length?EM(t,e):oc(lR(AM(r,a),a.values),n):bf(t,e)};function uR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ht(t,e,n):Wy(t)(t,e)}const wM=5;function cR(t,e,n){const r=Math.max(e-wM,0);return Ow(n-t(r),e-r)}const Et={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},X0=.001;function RM({duration:t=Et.duration,bounce:e=Et.bounce,velocity:n=Et.velocity,mass:r=Et.mass}){let a,l,c=1-e;c=Pr(Et.minDamping,Et.maxDamping,c),t=Pr(Et.minDuration,Et.maxDuration,Rr(t)),c<1?(a=p=>{const y=p*c,_=y*t,S=y-n,A=Ag(p,c),x=Math.exp(-_);return X0-S/A*x},l=p=>{const _=p*c*t,S=_*n+n,A=Math.pow(c,2)*Math.pow(p,2)*t,x=Math.exp(-_),k=Ag(Math.pow(p,2),c);return(-a(p)+X0>0?-1:1)*((S-A)*x)/k}):(a=p=>{const y=Math.exp(-p*t),_=(p-n)*t+1;return-.001+y*_},l=p=>{const y=Math.exp(-p*t),_=(n-p)*(t*t);return y*_});const f=5/t,m=xM(a,l,f);if(t=wr(t),isNaN(m))return{stiffness:Et.stiffness,damping:Et.damping,duration:t};{const p=Math.pow(m,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:t}}}const CM=12;function xM(t,e,n){let r=n;for(let a=1;a<CM;a++)r=r-t(r)/e(r);return r}function Ag(t,e){return t*Math.sqrt(1-e*e)}const IM=["duration","bounce"],DM=["stiffness","damping","mass"];function W0(t,e){return e.some(n=>t[n]!==void 0)}function PM(t){let e={velocity:Et.velocity,stiffness:Et.stiffness,damping:Et.damping,mass:Et.mass,isResolvedFromDuration:!1,...t};if(!W0(t,DM)&&W0(t,IM))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*Pr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Et.mass,stiffness:a,damping:l}}else{const n=RM(t);e={...e,...n,mass:Et.mass},e.isResolvedFromDuration=!0}return e}function hR(t=Et.visualDuration,e=Et.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:_,velocity:S,isResolvedFromDuration:A}=PM({...n,velocity:-Rr(n.velocity||0)}),x=S||0,k=p/(2*Math.sqrt(m*y)),O=c-l,L=Rr(Math.sqrt(m/y)),K=Math.abs(O)<5;r||(r=K?Et.restSpeed.granular:Et.restSpeed.default),a||(a=K?Et.restDelta.granular:Et.restDelta.default);let H;if(k<1){const X=Ag(L,k);H=ie=>{const N=Math.exp(-k*L*ie);return c-N*((x+k*L*O)/X*Math.sin(X*ie)+O*Math.cos(X*ie))}}else if(k===1)H=X=>c-Math.exp(-L*X)*(O+(x+L*O)*X);else{const X=L*Math.sqrt(k*k-1);H=ie=>{const N=Math.exp(-k*L*ie),R=Math.min(X*ie,300);return c-N*((x+k*L*O)*Math.sinh(R)+X*O*Math.cosh(R))/X}}const ae={calculatedDuration:A&&_||null,next:X=>{const ie=H(X);if(A)f.done=X>=_;else{let N=0;k<1&&(N=X===0?wr(x):cR(H,X,ie));const R=Math.abs(N)<=r,w=Math.abs(c-ie)<=a;f.done=R&&w}return f.value=f.done?c:ie,f},toString:()=>{const X=Math.min(oR(ae),Tg),ie=Mw(N=>ae.next(X*N).value,X,30);return X+"ms "+ie}};return ae}function Z0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:p=.5,restSpeed:y}){const _=t[0],S={done:!1,value:_},A=R=>f!==void 0&&R<f||m!==void 0&&R>m,x=R=>f===void 0?m:m===void 0||Math.abs(f-R)<Math.abs(m-R)?f:m;let k=n*e;const O=_+k,L=c===void 0?O:c(O);L!==O&&(k=L-_);const K=R=>-k*Math.exp(-R/r),H=R=>L+K(R),ae=R=>{const w=K(R),D=H(R);S.done=Math.abs(w)<=p,S.value=S.done?L:D};let X,ie;const N=R=>{A(S.value)&&(X=R,ie=hR({keyframes:[S.value,x(S.value)],velocity:cR(H,R,S.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return N(0),{calculatedDuration:null,next:R=>{let w=!1;return!ie&&X===void 0&&(w=!0,ae(R),N(R)),X!==void 0&&R>=X?ie.next(R-X):(!w&&ae(R),S)}}}const VM=ac(.42,0,1,1),OM=ac(0,0,.58,1),fR=ac(.42,0,.58,1),NM=t=>Array.isArray(t)&&typeof t[0]!="number",MM={linear:kn,easeIn:VM,easeInOut:fR,easeOut:OM,circIn:Ky,circInOut:Gw,circOut:Hw,backIn:Gy,backInOut:Fw,backOut:zw,anticipate:qw},J0=t=>{if(Hy(t)){dw(t.length===4);const[e,n,r,a]=t;return ac(e,n,r,a)}else if(typeof t=="string")return MM[t];return t};function kM(t,e,n){const r=[],a=n||uR,l=t.length-1;for(let c=0;c<l;c++){let f=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||kn:e;f=oc(m,f)}r.push(f)}return r}function LM(t,e,{clamp:n=!0,ease:r,mixer:a}={}){const l=t.length;if(dw(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=kM(e,r,a),m=f.length,p=y=>{if(c&&y<t[0])return e[0];let _=0;if(m>1)for(;_<t.length-2&&!(y<t[_+1]);_++);const S=Qo(t[_],t[_+1],y);return f[_](S)};return n?y=>p(Pr(t[0],t[l-1],y)):p}function UM(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const a=Qo(0,e,r);t.push(ht(n,1,a))}}function jM(t){const e=[0];return UM(e,t.length-1),e}function BM(t,e){return t.map(n=>n*e)}function zM(t,e){return t.map(()=>e||fR).splice(0,t.length-1)}function wf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const a=NM(r)?r.map(J0):J0(r),l={done:!1,value:e[0]},c=BM(n&&n.length===e.length?n:jM(e),t),f=LM(c,e,{ease:Array.isArray(a)?a:zM(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const FM=t=>{const e=({timestamp:n})=>t(n);return{start:()=>rt.update(e,!0),stop:()=>ks(e),now:()=>Wt.isProcessing?Wt.timestamp:ji.now()}},qM={decay:Z0,inertia:Z0,tween:wf,keyframes:wf,spring:hR},HM=t=>t/100;class Zy extends aR{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:m}=this.options;m&&m()};const{name:n,motionValue:r,element:a,keyframes:l}=this.options,c=(a==null?void 0:a.KeyframeResolver)||Xy,f=(m,p)=>this.onKeyframesResolved(m,p);this.resolver=new c(l,f,n,r,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=this.options,f=qy(n)?n:qM[n]||wf;let m,p;f!==wf&&typeof e[0]!="number"&&(m=oc(HM,uR(e[0],e[1])),e=[0,100]);const y=f({...this.options,keyframes:e});l==="mirror"&&(p=f({...this.options,keyframes:[...e].reverse(),velocity:-c})),y.calculatedDuration===null&&(y.calculatedDuration=oR(y));const{calculatedDuration:_}=y,S=_+a,A=S*(r+1)-a;return{generator:y,mirroredGenerator:p,mapPercentToKeyframes:m,calculatedDuration:_,resolvedDuration:S,totalDuration:A}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:R}=this.options;return{done:!0,value:R[R.length-1]}}const{finalKeyframe:a,generator:l,mirroredGenerator:c,mapPercentToKeyframes:f,keyframes:m,calculatedDuration:p,totalDuration:y,resolvedDuration:_}=r;if(this.startTime===null)return l.next(0);const{delay:S,repeat:A,repeatType:x,repeatDelay:k,onUpdate:O}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-y/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const L=this.currentTime-S*(this.speed>=0?1:-1),K=this.speed>=0?L<0:L>y;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let H=this.currentTime,ae=l;if(A){const R=Math.min(this.currentTime,y)/_;let w=Math.floor(R),D=R%1;!D&&R>=1&&(D=1),D===1&&w--,w=Math.min(w,A+1),!!(w%2)&&(x==="reverse"?(D=1-D,k&&(D-=k/_)):x==="mirror"&&(ae=c)),H=Pr(0,1,D)*_}const X=K?{done:!1,value:m[0]}:ae.next(H);f&&(X.value=f(X.value));let{done:ie}=X;!K&&p!==null&&(ie=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ie);return N&&a!==void 0&&(X.value=ld(m,this.options,a)),O&&O(X.value),N&&this.finish(),X}get duration(){const{resolved:e}=this;return e?Rr(e.calculatedDuration):0}get time(){return Rr(this.currentTime)}set time(e){e=wr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Rr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=FM,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const GM=new Set(["opacity","clipPath","filter","transform"]);function KM(t,e,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeInOut",times:m}={}){const p={[e]:n};m&&(p.offset=m);const y=Lw(f,a);return Array.isArray(y)&&(p.easing=y),t.animate(p,{delay:r,duration:a,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const $M=Fy(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Rf=10,YM=2e4;function QM(t){return qy(t.type)||t.type==="spring"||!kw(t.ease)}function XM(t,e){const n=new Zy({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const a=[];let l=0;for(;!r.done&&l<YM;)r=n.sample(l),a.push(r.value),l+=Rf;return{times:void 0,keyframes:a,duration:l-Rf,ease:"linear"}}const dR={anticipate:qw,backInOut:Fw,circInOut:Gw};function WM(t){return t in dR}class eS extends aR{constructor(e){super(e);const{name:n,motionValue:r,element:a,keyframes:l}=this.options;this.resolver=new sR(l,(c,f)=>this.onKeyframesResolved(c,f),n,r,a),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:a,ease:l,type:c,motionValue:f,name:m,startTime:p}=this.options;if(!f.owner||!f.owner.current)return!1;if(typeof l=="string"&&Af()&&WM(l)&&(l=dR[l]),QM(this.options)){const{onComplete:_,onUpdate:S,motionValue:A,element:x,...k}=this.options,O=XM(e,k);e=O.keyframes,e.length===1&&(e[1]=e[0]),r=O.duration,a=O.times,l=O.ease,c="keyframes"}const y=KM(f.owner.current,m,e,{...this.options,duration:r,times:a,ease:l});return y.startTime=p??this.calcStartTime(),this.pendingTimeline?(z0(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:_}=this.options;f.set(ld(e,this.options,n)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:r,times:a,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Rr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Rr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=wr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return kn;const{animation:r}=n;z0(r,e)}return kn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:a,type:l,ease:c,times:f}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:y,onComplete:_,element:S,...A}=this.options,x=new Zy({...A,keyframes:r,duration:a,type:l,ease:c,times:f,isGenerator:!0}),k=wr(this.time);p.setWithVelocity(x.sample(k-Rf).value,x.sample(k).value,Rf)}const{onStop:m}=this.options;m&&m(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:a,repeatType:l,damping:c,type:f}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=n.owner.getProps();return $M()&&r&&GM.has(r)&&!m&&!p&&!a&&l!=="mirror"&&c!==0&&f!=="inertia"}}const ZM={type:"spring",stiffness:500,damping:25,restSpeed:10},JM=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),ek={type:"keyframes",duration:.8},tk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nk=(t,{keyframes:e})=>e.length>2?ek:Ma.has(t)?t.startsWith("scale")?JM(e[1]):ZM:tk;function ik({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const Jy=(t,e,n,r={},a,l)=>c=>{const f=Uy(r,t)||{},m=f.delay||r.delay||0;let{elapsed:p=0}=r;p=p-wr(m);let y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:S=>{e.set(S),f.onUpdate&&f.onUpdate(S)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};ik(f)||(y={...y,...nk(t,y)}),y.duration&&(y.duration=wr(y.duration)),y.repeatDelay&&(y.repeatDelay=wr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(_=!0)),_&&!l&&e.get()!==void 0){const S=ld(y.keyframes,f);if(S!==void 0)return rt.update(()=>{y.onUpdate(S),y.onComplete()}),new MN([])}return!l&&eS.supports(y)?new eS(y):new Zy(y)};function rk({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function mR(t,e,{delay:n=0,transitionOverride:r,type:a}={}){var l;let{transition:c=t.getDefaultTransition(),transitionEnd:f,...m}=e;r&&(c=r);const p=[],y=a&&t.animationState&&t.animationState.getState()[a];for(const _ in m){const S=t.getValue(_,(l=t.latestValues[_])!==null&&l!==void 0?l:null),A=m[_];if(A===void 0||y&&rk(y,_))continue;const x={delay:n,...Uy(c||{},_)};let k=!1;if(window.MotionHandoffAnimation){const L=Nw(t);if(L){const K=window.MotionHandoffAnimation(L,_,rt);K!==null&&(x.startTime=K,k=!0)}}pg(t,_),S.start(Jy(_,S,A,t.shouldReduceMotion&&Vw.has(_)?{type:!1}:x,t,k));const O=S.animation;O&&p.push(O)}return f&&Promise.all(p).then(()=>{rt.update(()=>{f&&PN(t,f)})}),p}function bg(t,e,n={}){var r;const a=od(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(l=n.transitionOverride);const c=a?()=>Promise.all(mR(t,a,n)):()=>Promise.resolve(),f=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:_,staggerDirection:S}=l;return sk(t,e,y+p,_,S,n)}:()=>Promise.resolve(),{when:m}=l;if(m){const[p,y]=m==="beforeChildren"?[c,f]:[f,c];return p().then(()=>y())}else return Promise.all([c(),f(n.delay)])}function sk(t,e,n=0,r=0,a=1,l){const c=[],f=(t.variantChildren.size-1)*r,m=a===1?(p=0)=>p*r:(p=0)=>f-p*r;return Array.from(t.variantChildren).sort(ak).forEach((p,y)=>{p.notify("AnimationStart",e),c.push(bg(p,e,{...l,delay:n+m(y)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(c)}function ak(t,e){return t.sortNodePosition(e)}function ok(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(l=>bg(t,l,n));r=Promise.all(a)}else if(typeof e=="string")r=bg(t,e,n);else{const a=typeof e=="function"?od(t,e,n.custom):e;r=Promise.all(mR(t,a,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function pR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const lk=wy.length;function gR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?gR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<lk;n++){const r=wy[n],a=t.props[r];(zu(a)||a===!1)&&(e[r]=a)}return e}const uk=[...by].reverse(),ck=by.length;function hk(t){return e=>Promise.all(e.map(({animation:n,options:r})=>ok(t,n,r)))}function fk(t){let e=hk(t),n=tS(),r=!0;const a=m=>(p,y)=>{var _;const S=od(t,y,m==="exit"?(_=t.presenceContext)===null||_===void 0?void 0:_.custom:void 0);if(S){const{transition:A,transitionEnd:x,...k}=S;p={...p,...k,...x}}return p};function l(m){e=m(t)}function c(m){const{props:p}=t,y=gR(t.parent)||{},_=[],S=new Set;let A={},x=1/0;for(let O=0;O<ck;O++){const L=uk[O],K=n[L],H=p[L]!==void 0?p[L]:y[L],ae=zu(H),X=L===m?K.isActive:null;X===!1&&(x=O);let ie=H===y[L]&&H!==p[L]&&ae;if(ie&&r&&t.manuallyAnimateOnMount&&(ie=!1),K.protectedKeys={...A},!K.isActive&&X===null||!H&&!K.prevProp||sd(H)||typeof H=="boolean")continue;const N=dk(K.prevProp,H);let R=N||L===m&&K.isActive&&!ie&&ae||O>x&&ae,w=!1;const D=Array.isArray(H)?H:[H];let j=D.reduce(a(L),{});X===!1&&(j={});const{prevResolvedValues:P={}}=K,I={...P,...j},Te=ue=>{R=!0,S.has(ue)&&(w=!0,S.delete(ue)),K.needsAnimating[ue]=!0;const le=t.getValue(ue);le&&(le.liveStyle=!1)};for(const ue in I){const le=j[ue],ye=P[ue];if(A.hasOwnProperty(ue))continue;let M=!1;mg(le)&&mg(ye)?M=!pR(le,ye):M=le!==ye,M?le!=null?Te(ue):S.add(ue):le!==void 0&&S.has(ue)?Te(ue):K.protectedKeys[ue]=!0}K.prevProp=H,K.prevResolvedValues=j,K.isActive&&(A={...A,...j}),r&&t.blockInitialAnimation&&(R=!1),R&&(!(ie&&N)||w)&&_.push(...D.map(ue=>({animation:ue,options:{type:L}})))}if(S.size){const O={};S.forEach(L=>{const K=t.getBaseTarget(L),H=t.getValue(L);H&&(H.liveStyle=!0),O[L]=K??null}),_.push({animation:O})}let k=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(k=!1),r=!1,k?e(_):Promise.resolve()}function f(m,p){var y;if(n[m].isActive===p)return Promise.resolve();(y=t.variantChildren)===null||y===void 0||y.forEach(S=>{var A;return(A=S.animationState)===null||A===void 0?void 0:A.setActive(m,p)}),n[m].isActive=p;const _=c(m);for(const S in n)n[S].protectedKeys={};return _}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=tS(),r=!0}}}function dk(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!pR(e,t):!1}function Ea(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function tS(){return{animate:Ea(!0),whileInView:Ea(),whileHover:Ea(),whileTap:Ea(),whileDrag:Ea(),whileFocus:Ea(),exit:Ea()}}class Fs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class mk extends Fs{constructor(e){super(e),e.animationState||(e.animationState=fk(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();sd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let pk=0;class gk extends Fs{constructor(){super(...arguments),this.id=pk++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const yk={animation:{Feature:mk},exit:{Feature:gk}},pi={x:!1,y:!1};function yR(){return pi.x||pi.y}function vk(t){return t==="x"||t==="y"?pi[t]?null:(pi[t]=!0,()=>{pi[t]=!1}):pi.x||pi.y?null:(pi.x=pi.y=!0,()=>{pi.x=pi.y=!1})}const ev=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Ku(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function lc(t){return{point:{x:t.pageX,y:t.pageY}}}const _k=t=>e=>ev(e)&&t(e,lc(e));function Du(t,e,n,r){return Ku(t,e,_k(n),r)}const nS=(t,e)=>Math.abs(t-e);function Ek(t,e){const n=nS(t.x,e.x),r=nS(t.y,e.y);return Math.sqrt(n**2+r**2)}class vR{constructor(e,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Np(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,A=Ek(_.offset,{x:0,y:0})>=3;if(!S&&!A)return;const{point:x}=_,{timestamp:k}=Wt;this.history.push({...x,timestamp:k});const{onStart:O,onMove:L}=this.handlers;S||(O&&O(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),L&&L(this.lastMoveEvent,_)},this.handlePointerMove=(_,S)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Op(S,this.transformPagePoint),rt.update(this.updatePoint,!0)},this.handlePointerUp=(_,S)=>{this.end();const{onEnd:A,onSessionEnd:x,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=Np(_.type==="pointercancel"?this.lastMoveEventInfo:Op(S,this.transformPagePoint),this.history);this.startEvent&&A&&A(_,O),x&&x(_,O)},!ev(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const c=lc(e),f=Op(c,this.transformPagePoint),{point:m}=f,{timestamp:p}=Wt;this.history=[{...m,timestamp:p}];const{onSessionStart:y}=n;y&&y(e,Np(f,this.history)),this.removeListeners=oc(Du(this.contextWindow,"pointermove",this.handlePointerMove),Du(this.contextWindow,"pointerup",this.handlePointerUp),Du(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ks(this.updatePoint)}}function Op(t,e){return e?{point:e(t.point)}:t}function iS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Np({point:t},e){return{point:t,delta:iS(t,_R(e)),offset:iS(t,Tk(e)),velocity:Sk(e,.1)}}function Tk(t){return t[0]}function _R(t){return t[t.length-1]}function Sk(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const a=_R(t);for(;n>=0&&(r=t[n],!(a.timestamp-r.timestamp>wr(e)));)n--;if(!r)return{x:0,y:0};const l=Rr(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const ER=1e-4,Ak=1-ER,bk=1+ER,TR=.01,wk=0-TR,Rk=0+TR;function _n(t){return t.max-t.min}function Ck(t,e,n){return Math.abs(t-e)<=n}function rS(t,e,n,r=.5){t.origin=r,t.originPoint=ht(e.min,e.max,t.origin),t.scale=_n(n)/_n(e),t.translate=ht(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Ak&&t.scale<=bk||isNaN(t.scale))&&(t.scale=1),(t.translate>=wk&&t.translate<=Rk||isNaN(t.translate))&&(t.translate=0)}function Pu(t,e,n,r){rS(t.x,e.x,n.x,r?r.originX:void 0),rS(t.y,e.y,n.y,r?r.originY:void 0)}function sS(t,e,n){t.min=n.min+e.min,t.max=t.min+_n(e)}function xk(t,e,n){sS(t.x,e.x,n.x),sS(t.y,e.y,n.y)}function aS(t,e,n){t.min=e.min-n.min,t.max=t.min+_n(e)}function Vu(t,e,n){aS(t.x,e.x,n.x),aS(t.y,e.y,n.y)}function Ik(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ht(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ht(n,t,r.max):Math.min(t,n)),t}function oS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Dk(t,{top:e,left:n,bottom:r,right:a}){return{x:oS(t.x,n,a),y:oS(t.y,e,r)}}function lS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Pk(t,e){return{x:lS(t.x,e.x),y:lS(t.y,e.y)}}function Vk(t,e){let n=.5;const r=_n(t),a=_n(e);return a>r?n=Qo(e.min,e.max-r,t.min):r>a&&(n=Qo(t.min,t.max-a,e.min)),Pr(0,1,n)}function Ok(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const wg=.35;function Nk(t=wg){return t===!1?t=0:t===!0&&(t=wg),{x:uS(t,"left","right"),y:uS(t,"top","bottom")}}function uS(t,e,n){return{min:cS(t,e),max:cS(t,n)}}function cS(t,e){return typeof t=="number"?t:t[e]||0}const hS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Po=()=>({x:hS(),y:hS()}),fS=()=>({min:0,max:0}),bt=()=>({x:fS(),y:fS()});function ri(t){return[t("x"),t("y")]}function SR({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Mk({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function kk(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Mp(t){return t===void 0||t===1}function Rg({scale:t,scaleX:e,scaleY:n}){return!Mp(t)||!Mp(e)||!Mp(n)}function Sa(t){return Rg(t)||AR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function AR(t){return dS(t.x)||dS(t.y)}function dS(t){return t&&t!=="0%"}function Cf(t,e,n){const r=t-n,a=e*r;return n+a}function mS(t,e,n,r,a){return a!==void 0&&(t=Cf(t,a,r)),Cf(t,n,r)+e}function Cg(t,e=0,n=1,r,a){t.min=mS(t.min,e,n,r,a),t.max=mS(t.max,e,n,r,a)}function bR(t,{x:e,y:n}){Cg(t.x,e.translate,e.scale,e.originPoint),Cg(t.y,n.translate,n.scale,n.originPoint)}const pS=.999999999999,gS=1.0000000000001;function Lk(t,e,n,r=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Oo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,bR(t,c)),r&&Sa(l.latestValues)&&Oo(t,l.latestValues))}e.x<gS&&e.x>pS&&(e.x=1),e.y<gS&&e.y>pS&&(e.y=1)}function Vo(t,e){t.min=t.min+e,t.max=t.max+e}function yS(t,e,n,r,a=.5){const l=ht(t.min,t.max,a);Cg(t,e,n,l,r)}function Oo(t,e){yS(t.x,e.x,e.scaleX,e.scale,e.originX),yS(t.y,e.y,e.scaleY,e.scale,e.originY)}function wR(t,e){return SR(kk(t.getBoundingClientRect(),e))}function Uk(t,e,n){const r=wR(t,n),{scroll:a}=e;return a&&(Vo(r.x,a.offset.x),Vo(r.y,a.offset.y)),r}const RR=({current:t})=>t?t.ownerDocument.defaultView:null,jk=new WeakMap;class Bk{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(lc(y).point)},l=(y,_)=>{const{drag:S,dragPropagation:A,onDragStart:x}=this.getProps();if(S&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=vk(S),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ri(O=>{let L=this.getAxisMotionValue(O).get()||0;if(Ui.test(L)){const{projection:K}=this.visualElement;if(K&&K.layout){const H=K.layout.layoutBox[O];H&&(L=_n(H)*(parseFloat(L)/100))}}this.originPoint[O]=L}),x&&rt.postRender(()=>x(y,_)),pg(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},c=(y,_)=>{const{dragPropagation:S,dragDirectionLock:A,onDirectionLock:x,onDrag:k}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:O}=_;if(A&&this.currentDirection===null){this.currentDirection=zk(O),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",_.point,O),this.updateAxis("y",_.point,O),this.visualElement.render(),k&&k(y,_)},f=(y,_)=>this.stop(y,_),m=()=>ri(y=>{var _;return this.getAnimationState(y)==="paused"&&((_=this.getAxisMotionValue(y).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new vR(e,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:RR(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&rt.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:a}=this.getProps();if(!r||!Fh(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=Ik(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;n&&Io(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=Dk(a.layoutBox,n):this.constraints=!1,this.elastic=Nk(r),l!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&ri(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=Ok(a.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Io(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=Uk(r,a.root,this.visualElement.getTransformPagePoint());let c=Pk(a.layout.layoutBox,l);if(n){const f=n(Mk(c));this.hasMutatedConstraints=!!f,f&&(c=SR(f))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=ri(y=>{if(!Fh(y,n,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const S=a?200:1e6,A=a?40:1e7,x={type:"inertia",velocity:r?e[y]:0,bounceStiffness:S,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,x)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return pg(this.visualElement,e),r.start(Jy(e,r,0,n,this.visualElement,!1))}stopAnimation(){ri(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ri(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ri(n=>{const{drag:r}=this.getProps();if(!Fh(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];l.set(e[n]-ht(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Io(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ri(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=Vk({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ri(c=>{if(!Fh(c,e,null))return;const f=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];f.set(ht(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;jk.set(this.visualElement,this);const e=this.visualElement.current,n=Du(e,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();Io(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),rt.read(r);const c=Ku(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(ri(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=m[y].translate,_.set(_.get()+m[y].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=wg,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function Fh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function zk(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Fk extends Fs{constructor(e){super(e),this.removeGroupControls=kn,this.removeListeners=kn,this.controls=new Bk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||kn}unmount(){this.removeGroupControls(),this.removeListeners()}}const vS=t=>(e,n)=>{t&&rt.postRender(()=>t(e,n))};class qk extends Fs{constructor(){super(...arguments),this.removePointerDownListener=kn}onPointerDown(e){this.session=new vR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:RR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:vS(e),onStart:vS(n),onMove:r,onEnd:(l,c)=>{delete this.session,a&&rt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Du(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ef={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _S(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const mu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ae.test(t))t=parseFloat(t);else return t;const n=_S(t,e.target.x),r=_S(t,e.target.y);return`${n}% ${r}%`}},Hk={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,a=Ls.parse(t);if(a.length>5)return r;const l=Ls.createTransformer(t),c=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=f,a[1+c]/=m;const p=ht(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};class Gk extends B.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=e;nN(Kk),l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),ef.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,c=r.projection;return c&&(c.isPresent=l,a||e.layoutDependency!==n||n===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||rt.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Cy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function CR(t){const[e,n]=hw(),r=B.useContext(Ey);return U.jsx(Gk,{...t,layoutGroup:r,switchLayoutGroup:B.useContext(_w),isPresent:e,safeToRemove:n})}const Kk={borderRadius:{...mu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:mu,borderTopRightRadius:mu,borderBottomLeftRadius:mu,borderBottomRightRadius:mu,boxShadow:Hk};function $k(t,e,n){const r=fn(t)?t:Hu(t);return r.start(Jy("",r,e,n)),r.animation}function Yk(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Qk=(t,e)=>t.depth-e.depth;class Xk{constructor(){this.children=[],this.isDirty=!1}add(e){jy(this.children,e),this.isDirty=!0}remove(e){By(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Qk),this.isDirty=!1,this.children.forEach(e)}}function Wk(t,e){const n=ji.now(),r=({timestamp:a})=>{const l=a-n;l>=e&&(ks(r),t(l-e))};return rt.read(r,!0),()=>ks(r)}const xR=["TopLeft","TopRight","BottomLeft","BottomRight"],Zk=xR.length,ES=t=>typeof t=="string"?parseFloat(t):t,TS=t=>typeof t=="number"||Ae.test(t);function Jk(t,e,n,r,a,l){a?(t.opacity=ht(0,n.opacity!==void 0?n.opacity:1,eL(r)),t.opacityExit=ht(e.opacity!==void 0?e.opacity:1,0,tL(r))):l&&(t.opacity=ht(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let c=0;c<Zk;c++){const f=`border${xR[c]}Radius`;let m=SS(e,f),p=SS(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||TS(m)===TS(p)?(t[f]=Math.max(ht(ES(m),ES(p),r),0),(Ui.test(p)||Ui.test(m))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=ht(e.rotate||0,n.rotate||0,r))}function SS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const eL=IR(0,.5,Hw),tL=IR(.5,.95,kn);function IR(t,e,n){return r=>r<t?0:r>e?1:n(Qo(t,e,r))}function AS(t,e){t.min=e.min,t.max=e.max}function ii(t,e){AS(t.x,e.x),AS(t.y,e.y)}function bS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function wS(t,e,n,r,a){return t-=e,t=Cf(t,1/n,r),a!==void 0&&(t=Cf(t,1/a,r)),t}function nL(t,e=0,n=1,r=.5,a,l=t,c=t){if(Ui.test(e)&&(e=parseFloat(e),e=ht(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=ht(l.min,l.max,r);t===l&&(f-=e),t.min=wS(t.min,e,n,f,a),t.max=wS(t.max,e,n,f,a)}function RS(t,e,[n,r,a],l,c){nL(t,e[n],e[r],e[a],e.scale,l,c)}const iL=["x","scaleX","originX"],rL=["y","scaleY","originY"];function CS(t,e,n,r){RS(t.x,e,iL,n?n.x:void 0,r?r.x:void 0),RS(t.y,e,rL,n?n.y:void 0,r?r.y:void 0)}function xS(t){return t.translate===0&&t.scale===1}function DR(t){return xS(t.x)&&xS(t.y)}function IS(t,e){return t.min===e.min&&t.max===e.max}function sL(t,e){return IS(t.x,e.x)&&IS(t.y,e.y)}function DS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function PR(t,e){return DS(t.x,e.x)&&DS(t.y,e.y)}function PS(t){return _n(t.x)/_n(t.y)}function VS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class aL{constructor(){this.members=[]}add(e){jy(this.members,e),e.scheduleRender()}remove(e){if(By(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function oL(t,e,n){let r="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(r=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:S,skewX:A,skewY:x}=n;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),_&&(r+=`rotateX(${_}deg) `),S&&(r+=`rotateY(${S}deg) `),A&&(r+=`skewX(${A}deg) `),x&&(r+=`skewY(${x}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(r+=`scale(${f}, ${m})`),r||"none"}const Aa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Su=typeof window<"u"&&window.MotionDebug!==void 0,kp=["","X","Y","Z"],lL={visibility:"hidden"},OS=1e3;let uL=0;function Lp(t,e,n,r){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),r&&(r[t]=0))}function VR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Nw(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",rt,!(a||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&VR(r)}function OR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(c={},f=e==null?void 0:e()){this.id=uL++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Su&&(Aa.totalNodes=Aa.resolvedTargetDeltas=Aa.recalculatedProjection=0),this.nodes.forEach(fL),this.nodes.forEach(yL),this.nodes.forEach(vL),this.nodes.forEach(dL),Su&&window.MotionDebug.record(Aa)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new Xk)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new zy),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,f=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Yk(c),this.instance=c;const{layoutId:m,layout:p,visualElement:y}=this.options;if(y&&!y.current&&y.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),f&&(p||m)&&(this.isLayoutDirty=!0),t){let _;const S=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=Wk(S,250),ef.hasAnimatedSinceResize&&(ef.hasAnimatedSinceResize=!1,this.nodes.forEach(MS))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&y&&(m||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:S,hasRelativeLayoutChanged:A,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||y.getDefaultTransition()||AL,{onLayoutAnimationStart:O,onLayoutAnimationComplete:L}=y.getProps(),K=!this.targetLayout||!PR(this.targetLayout,x),H=!S&&A;if(this.options.layoutRoot||this.resumeFrom||H||S&&(K||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,H);const ae={...Uy(k,"layout"),onPlay:O,onComplete:L};(y.shouldReduceMotion||this.options.layoutRoot)&&(ae.delay=0,ae.type=!1),this.startAnimation(ae)}else S||MS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ks(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(_L),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&VR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(NS);return}this.isUpdating||this.nodes.forEach(pL),this.isUpdating=!1,this.nodes.forEach(gL),this.nodes.forEach(cL),this.nodes.forEach(hL),this.clearAllSnapshots();const f=ji.now();Wt.delta=Pr(0,1e3/60,f-Wt.timestamp),Wt.timestamp=f,Wt.isProcessing=!0,Ip.update.process(Wt),Ip.preRender.process(Wt),Ip.render.process(Wt),Wt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Cy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mL),this.sharedNodes.forEach(EL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_n(this.snapshot.measuredBox.x)&&!_n(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!DR(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&(f||Sa(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),bL(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:f}=this.options;if(!f)return bt();const m=f.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(wL))){const{scroll:y}=this.root;y&&(Vo(m.x,y.offset.x),Vo(m.y,y.offset.y))}return m}removeElementScroll(c){var f;const m=bt();if(ii(m,c),!((f=this.scroll)===null||f===void 0)&&f.wasRoot)return m;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:_,options:S}=y;y!==this.root&&_&&S.layoutScroll&&(_.wasRoot&&ii(m,c),Vo(m.x,_.offset.x),Vo(m.y,_.offset.y))}return m}applyTransform(c,f=!1){const m=bt();ii(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Oo(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Sa(y.latestValues)&&Oo(m,y.latestValues)}return Sa(this.latestValues)&&Oo(m,this.latestValues),m}removeTransform(c){const f=bt();ii(f,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Sa(p.latestValues))continue;Rg(p.latestValues)&&p.updateSnapshot();const y=bt(),_=p.measurePageBox();ii(y,_),CS(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Sa(this.latestValues)&&CS(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var f;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:S}=this.options;if(!(!this.layout||!(_||S))){if(this.resolvedRelativeTargetAt=Wt.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bt(),this.relativeTargetOrigin=bt(),Vu(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),ii(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=bt(),this.targetWithTransforms=bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ii(this.target,this.layout.layoutBox),bR(this.target,this.targetDelta)):ii(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bt(),this.relativeTargetOrigin=bt(),Vu(this.relativeTargetOrigin,this.target,A.target),ii(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Su&&Aa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Rg(this.parent.latestValues)||AR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const f=this.getLead(),m=!!this.resumingFrom||this!==f;let p=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Wt.timestamp&&(p=!1),p)return;const{layout:y,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||_))return;ii(this.layoutCorrected,this.layout.layoutBox);const S=this.treeScale.x,A=this.treeScale.y;Lk(this.layoutCorrected,this.treeScale,this.path,m),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=bt());const{target:x}=f;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(bS(this.prevProjectionDelta.x,this.projectionDelta.x),bS(this.prevProjectionDelta.y,this.projectionDelta.y)),Pu(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==S||this.treeScale.y!==A||!VS(this.projectionDelta.x,this.prevProjectionDelta.x)||!VS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Su&&Aa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)===null||f===void 0||f.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Po(),this.projectionDelta=Po(),this.projectionDeltaWithTransform=Po()}setAnimationOrigin(c,f=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},_=Po();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const S=bt(),A=m?m.source:void 0,x=this.layout?this.layout.source:void 0,k=A!==x,O=this.getStack(),L=!O||O.members.length<=1,K=!!(k&&!L&&this.options.crossfade===!0&&!this.path.some(SL));this.animationProgress=0;let H;this.mixTargetDelta=ae=>{const X=ae/1e3;kS(_.x,c.x,X),kS(_.y,c.y,X),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vu(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),TL(this.relativeTarget,this.relativeTargetOrigin,S,X),H&&sL(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=bt()),ii(H,this.relativeTarget)),k&&(this.animationValues=y,Jk(y,p,this.latestValues,X,K,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ks(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rt.update(()=>{ef.hasAnimatedSinceResize=!0,this.currentAnimation=$k(0,OS,{...c,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(OS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:y}=c;if(!(!f||!m||!p)){if(this!==c&&this.layout&&p&&NR(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||bt();const _=_n(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const S=_n(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+S}ii(f,m),Oo(f,y),Pu(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new aL),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:f}=this.options;return f?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:f}=this.options;return f?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&Lp("z",c,p,this.animationValues);for(let y=0;y<kp.length;y++)Lp(`rotate${kp[y]}`,c,p,this.animationValues),Lp(`skew${kp[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}getProjectionStyles(c){var f,m;if(!this.instance||this.isSVG)return;if(!this.isVisible)return lL;const p={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Zh(c==null?void 0:c.pointerEvents)||"",p.transform=y?y(this.latestValues,""):"none",p;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const k={};return this.options.layoutId&&(k.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,k.pointerEvents=Zh(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Sa(this.latestValues)&&(k.transform=y?y({},""):"none",this.hasProjected=!1),k}const S=_.animationValues||_.latestValues;this.applyTransformsToTarget(),p.transform=oL(this.projectionDeltaWithTransform,this.treeScale,S),y&&(p.transform=y(S,p.transform));const{x:A,y:x}=this.projectionDelta;p.transformOrigin=`${A.origin*100}% ${x.origin*100}% 0`,_.animationValues?p.opacity=_===this?(m=(f=S.opacity)!==null&&f!==void 0?f:this.latestValues.opacity)!==null&&m!==void 0?m:1:this.preserveOpacity?this.latestValues.opacity:S.opacityExit:p.opacity=_===this?S.opacity!==void 0?S.opacity:"":S.opacityExit!==void 0?S.opacityExit:0;for(const k in Fu){if(S[k]===void 0)continue;const{correct:O,applyTo:L,isCSSVariable:K}=Fu[k],H=p.transform==="none"?S[k]:O(S[k],_);if(L){const ae=L.length;for(let X=0;X<ae;X++)p[L[X]]=H}else K?this.options.visualElement.renderState.vars[k]=H:p[k]=H}return this.options.layoutId&&(p.pointerEvents=_===this?Zh(c==null?void 0:c.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)===null||f===void 0?void 0:f.stop()}),this.root.nodes.forEach(NS),this.root.sharedNodes.clear()}}}function cL(t){t.updateLayout()}function hL(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=t.layout,{animationType:l}=t.options,c=n.source!==t.layout.source;l==="size"?ri(_=>{const S=c?n.measuredBox[_]:n.layoutBox[_],A=_n(S);S.min=r[_].min,S.max=S.min+A}):NR(l,n.layoutBox,r)&&ri(_=>{const S=c?n.measuredBox[_]:n.layoutBox[_],A=_n(r[_]);S.max=S.min+A,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+A)});const f=Po();Pu(f,r,n.layoutBox);const m=Po();c?Pu(m,t.applyTransform(a,!0),n.measuredBox):Pu(m,r,n.layoutBox);const p=!DR(f);let y=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:S,layout:A}=_;if(S&&A){const x=bt();Vu(x,n.layoutBox,S.layoutBox);const k=bt();Vu(k,r,A.layoutBox),PR(x,k)||(y=!0),_.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=x,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:m,layoutDelta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function fL(t){Su&&Aa.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function dL(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function mL(t){t.clearSnapshot()}function NS(t){t.clearMeasurements()}function pL(t){t.isLayoutDirty=!1}function gL(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function MS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function yL(t){t.resolveTargetDelta()}function vL(t){t.calcProjection()}function _L(t){t.resetSkewAndRotation()}function EL(t){t.removeLeadSnapshot()}function kS(t,e,n){t.translate=ht(e.translate,0,n),t.scale=ht(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function LS(t,e,n,r){t.min=ht(e.min,n.min,r),t.max=ht(e.max,n.max,r)}function TL(t,e,n,r){LS(t.x,e.x,n.x,r),LS(t.y,e.y,n.y,r)}function SL(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const AL={duration:.45,ease:[.4,0,.1,1]},US=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),jS=US("applewebkit/")&&!US("chrome/")?Math.round:kn;function BS(t){t.min=jS(t.min),t.max=jS(t.max)}function bL(t){BS(t.x),BS(t.y)}function NR(t,e,n){return t==="position"||t==="preserve-aspect"&&!Ck(PS(e),PS(n),.2)}function wL(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const RL=OR({attachResizeListener:(t,e)=>Ku(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Up={current:void 0},MR=OR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Up.current){const t=new RL({});t.mount(window),t.setOptions({layoutScroll:!0}),Up.current=t}return Up.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),CL={pan:{Feature:qk},drag:{Feature:Fk,ProjectionNode:MR,MeasureLayout:CR}};function xL(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let a=document;const l=(r=void 0)!==null&&r!==void 0?r:a.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function kR(t,e){const n=xL(t),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[n,a,()=>r.abort()]}function zS(t){return!(t.pointerType==="touch"||yR())}function IL(t,e,n={}){const[r,a,l]=kR(t,n),c=f=>{if(!zS(f))return;const{target:m}=f,p=e(m,f);if(typeof p!="function"||!m)return;const y=_=>{zS(_)&&(p(_),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return r.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}function FS(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&rt.postRender(()=>l(e,lc(e)))}class DL extends Fs{mount(){const{current:e}=this.node;e&&(this.unmount=IL(e,(n,r)=>(FS(this.node,r,"Start"),a=>FS(this.node,a,"End"))))}unmount(){}}class PL extends Fs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=oc(Ku(this.node.current,"focus",()=>this.onFocus()),Ku(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const LR=(t,e)=>e?t===e?!0:LR(t,e.parentElement):!1,VL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function OL(t){return VL.has(t.tagName)||t.tabIndex!==-1}const Au=new WeakSet;function qS(t){return e=>{e.key==="Enter"&&t(e)}}function jp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const NL=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=qS(()=>{if(Au.has(n))return;jp(n,"down");const a=qS(()=>{jp(n,"up")}),l=()=>jp(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function HS(t){return ev(t)&&!yR()}function ML(t,e,n={}){const[r,a,l]=kR(t,n),c=f=>{const m=f.currentTarget;if(!HS(f)||Au.has(m))return;Au.add(m);const p=e(m,f),y=(A,x)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",S),!(!HS(A)||!Au.has(m))&&(Au.delete(m),typeof p=="function"&&p(A,{success:x}))},_=A=>{y(A,n.useGlobalTarget||LR(m,A.target))},S=A=>{y(A,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",S,a)};return r.forEach(f=>{!OL(f)&&f.getAttribute("tabindex")===null&&(f.tabIndex=0),(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),f.addEventListener("focus",p=>NL(p,a),a)}),l}function GS(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&rt.postRender(()=>l(e,lc(e)))}class kL extends Fs{mount(){const{current:e}=this.node;e&&(this.unmount=ML(e,(n,r)=>(GS(this.node,r,"Start"),(a,{success:l})=>GS(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const xg=new WeakMap,Bp=new WeakMap,LL=t=>{const e=xg.get(t.target);e&&e(t)},UL=t=>{t.forEach(LL)};function jL({root:t,...e}){const n=t||document;Bp.has(n)||Bp.set(n,{});const r=Bp.get(n),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(UL,{root:t,...e})),r[a]}function BL(t,e,n){const r=jL(e);return xg.set(t,n),r.observe(t),()=>{xg.delete(t),r.unobserve(t)}}const zL={some:0,all:1};class FL extends Fs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:zL[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),S=p?y:_;S&&S(m)};return BL(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(qL(e,n))&&this.startObserver()}unmount(){}}function qL({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const HL={inView:{Feature:FL},tap:{Feature:kL},focus:{Feature:PL},hover:{Feature:DL}},GL={layout:{ProjectionNode:MR,MeasureLayout:CR}},Ig={current:null},UR={current:!1};function KL(){if(UR.current=!0,!!Ay)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ig.current=t.matches;t.addListener(e),e()}else Ig.current=!1}const $L=[...rR,un,Ls],YL=t=>$L.find(iR(t)),QL=new WeakMap;function XL(t,e,n){for(const r in e){const a=e[r],l=n[r];if(fn(a))t.addValue(r,a);else if(fn(l))t.addValue(r,Hu(a,{owner:t}));else if(l!==a)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(r);t.addValue(r,Hu(c!==void 0?c:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const KS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class WL{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Xy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=ji.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,rt.render(this.render,!1,!0))};const{latestValues:m,renderState:p,onUpdate:y}=c;this.onUpdate=y,this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=ad(n),this.isVariantNode=yw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...S}=this.scrapeMotionValuesFromProps(n,{},this);for(const A in S){const x=S[A];m[A]!==void 0&&fn(x)&&x.set(m[A],!1)}}mount(e){this.current=e,QL.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),UR.current||KL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ig.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ks(this.notifyUpdate),ks(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ma.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",f=>{this.latestValues[e]=f,this.props.onUpdate&&rt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Yo){const n=Yo[e];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<KS.length;r++){const a=KS[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=XL(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Hu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(tR(a)||Kw(a))?a=parseFloat(a):!YL(a)&&Ls.test(n)&&(a=Zw(e,n)),this.setBaseTarget(e,fn(a)?a.get():a)),fn(a)?a.get():a}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const c=ky(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);c&&(a=c[e])}if(r&&a!==void 0)return a;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!fn(l)?l:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new zy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class jR extends WL{constructor(){super(...arguments),this.KeyframeResolver=sR}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;fn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function ZL(t){return window.getComputedStyle(t)}class JL extends jR{constructor(){super(...arguments),this.type="html",this.renderInstance=xw}readValueFromInstance(e,n){if(Ma.has(n)){const r=Qy(n);return r&&r.default||0}else{const r=ZL(e),a=(xy(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return wR(e,n)}build(e,n,r){Py(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Ly(e,n,r)}}class e4 extends jR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bt,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&Cw(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ma.has(n)){const r=Qy(n);return r&&r.default||0}return n=Iw.has(n)?n:Ry(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Pw(e,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&rt.postRender(this.updateDimensions)}build(e,n,r){Ny(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,a){Dw(e,n,r,a)}mount(e){this.isSVGTag=My(e.tagName),super.mount(e)}}const t4=(t,e)=>Oy(t)?new e4(e):new JL(e,{allowProjection:t!==B.Fragment}),n4=RN({...yk,...HL,...CL,...GL},t4),Tt=FO(n4),i4=()=>{const t=Us.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=U.jsx(U.Fragment,{children:U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})}),t[0]=e):e=t[0],e},BR=()=>{const t=Us.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=U.jsx(U.Fragment,{children:U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:U.jsx("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z",clipRule:"evenodd"})})}),t[0]=e):e=t[0],e},r4=()=>{const t=Us.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=U.jsx(U.Fragment,{children:U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})})}),t[0]=e):e=t[0],e};var s4="firebase",a4="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws(s4,a4,"app");function tv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function zR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const o4=zR,FR=new Zu("auth","Firebase",zR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf=new Bg("@firebase/auth");function l4(t,...e){xf.logLevel<=ke.WARN&&xf.warn(`Auth (${Jo}): ${t}`,...e)}function tf(t,...e){xf.logLevel<=ke.ERROR&&xf.error(`Auth (${Jo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(t,...e){throw nv(t,...e)}function Bi(t,...e){return nv(t,...e)}function qR(t,e,n){const r=Object.assign(Object.assign({},o4()),{[e]:n});return new Zu("auth","Firebase",r).create(e,{appName:t.name})}function Cr(t){return qR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return FR.create(t,...e)}function be(t,e,...n){if(!t)throw nv(e,...n)}function Tr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw tf(e),new Error(e)}function Vr(t,e){t||Tr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function HR(){return $S()==="http:"||$S()==="https:"}function $S(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HR()||sD()||"connection"in navigator)?navigator.onLine:!0}function c4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vr(n>e,"Short delay should be less than long delay!"),this.isMobile=nD()||aD()}get(){return u4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(t,e){Vr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=new uc(3e4,6e4);function $i(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Yi(t,e,n,r,a={}){return KR(t,a,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const f=Ju(Object.assign({key:t.config.apiKey},c)).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:m},l);return rD()||(p.referrerPolicy="no-referrer"),GR.fetch()($R(t,t.config.apiHost,n,f),p)})}async function KR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},h4),e);try{const a=new m4(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw qh(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw qh(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw qh(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw qh(t,"user-disabled",c);const y=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw qR(t,y,p);yi(t,y)}}catch(a){if(a instanceof Or)throw a;yi(t,"network-request-failed",{message:String(a)})}}async function cc(t,e,n,r,a={}){const l=await Yi(t,e,n,r,a);return"mfaPendingCredential"in l&&yi(t,"multi-factor-auth-required",{_serverResponse:l}),l}function $R(t,e,n,r){const a=`${e}${n}?${r}`;return t.config.emulator?iv(t.config,a):`${t.config.apiScheme}://${a}`}function d4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class m4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Bi(this.auth,"network-request-failed")),f4.get())})}}function qh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Bi(t,e,r);return a.customData._tokenResponse=n,a}function YS(t){return t!==void 0&&t.enterprise!==void 0}class p4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return d4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function g4(t,e){return Yi(t,"GET","/v2/recaptchaConfig",$i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y4(t,e){return Yi(t,"POST","/v1/accounts:delete",e)}async function YR(t,e){return Yi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function v4(t,e=!1){const n=Pt(t),r=await n.getIdToken(e),a=rv(r);be(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:Ou(zp(a.auth_time)),issuedAtTime:Ou(zp(a.iat)),expirationTime:Ou(zp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function zp(t){return Number(t)*1e3}function rv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return tf("JWT malformed, contained fewer than 3 sections"),null;try{const a=VA(n);return a?JSON.parse(a):(tf("Failed to decode base64 JWT payload"),null)}catch(a){return tf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function QS(t){const e=rv(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $u(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Or&&_4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function _4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ou(this.lastLoginAt),this.creationTime=Ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Df(t){var e;const n=t.auth,r=await t.getIdToken(),a=await $u(t,YR(n,{idToken:r}));be(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?QR(l.providerUserInfo):[],f=S4(t.providerData,c),m=t.isAnonymous,p=!(t.email&&l.passwordHash)&&!(f!=null&&f.length),y=m?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Dg(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(t,_)}async function T4(t){const e=Pt(t);await Df(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function S4(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function QR(t){return t.map(e=>{var{providerId:n}=e,r=tv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4(t,e){const n=await KR(t,{},async()=>{const r=Ju({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=$R(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",GR.fetch()(c,{method:"POST",headers:f,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function b4(t,e){return Yi(t,"POST","/v2/accounts:revokeToken",$i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=QS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await A4(e,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,c=new ko;return r&&(be(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(be(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(be(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ko,this.toJSON())}_performRefresh(){return Tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Sr{constructor(e){var{uid:n,auth:r,stsTokenManager:a}=e,l=tv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new E4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Dg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await $u(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return v4(this,e)}reload(){return T4(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Sr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Df(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mi(this.auth.app))return Promise.reject(Cr(this.auth));const e=await this.getIdToken();return await $u(this,y4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,a,l,c,f,m,p,y;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,S=(a=n.email)!==null&&a!==void 0?a:void 0,A=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,x=(c=n.photoURL)!==null&&c!==void 0?c:void 0,k=(f=n.tenantId)!==null&&f!==void 0?f:void 0,O=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,L=(p=n.createdAt)!==null&&p!==void 0?p:void 0,K=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:H,emailVerified:ae,isAnonymous:X,providerData:ie,stsTokenManager:N}=n;be(H&&N,e,"internal-error");const R=ko.fromJSON(this.name,N);be(typeof H=="string",e,"internal-error"),gs(_,e.name),gs(S,e.name),be(typeof ae=="boolean",e,"internal-error"),be(typeof X=="boolean",e,"internal-error"),gs(A,e.name),gs(x,e.name),gs(k,e.name),gs(O,e.name),gs(L,e.name),gs(K,e.name);const w=new Sr({uid:H,auth:e,email:S,emailVerified:ae,displayName:_,isAnonymous:X,photoURL:x,phoneNumber:A,tenantId:k,stsTokenManager:R,createdAt:L,lastLoginAt:K});return ie&&Array.isArray(ie)&&(w.providerData=ie.map(D=>Object.assign({},D))),O&&(w._redirectEventId=O),w}static async _fromIdTokenResponse(e,n,r=!1){const a=new ko;a.updateFromServerResponse(n);const l=new Sr({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Df(l),l}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];be(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?QR(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new ko;f.updateFromIdToken(r);const m=new Sr({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Dg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=new Map;function Ar(t){Vr(t instanceof Function,"Expected a class definition");let e=XS.get(t);return e?(Vr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,XS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}XR.type="NONE";const WS=XR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(t,e,n){return`firebase:${t}:${e}:${n}`}class Lo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=nf(this.userKey,a.apiKey,l),this.fullPersistenceKey=nf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Sr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Lo(Ar(WS),e,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Ar(WS);const c=nf(r,e.config.apiKey,e.name);let f=null;for(const p of n)try{const y=await p._get(c);if(y){const _=Sr._fromJSON(e,y);p!==l&&(f=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Lo(l,e,r):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Lo(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(e1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(n1(e))return"Blackberry";if(i1(e))return"Webos";if(ZR(e))return"Safari";if((e.includes("chrome/")||JR(e))&&!e.includes("edge/"))return"Chrome";if(t1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function WR(t=dn()){return/firefox\//i.test(t)}function ZR(t=dn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JR(t=dn()){return/crios\//i.test(t)}function e1(t=dn()){return/iemobile/i.test(t)}function t1(t=dn()){return/android/i.test(t)}function n1(t=dn()){return/blackberry/i.test(t)}function i1(t=dn()){return/webos/i.test(t)}function sv(t=dn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function w4(t=dn()){var e;return sv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function R4(){return oD()&&document.documentMode===10}function r1(t=dn()){return sv(t)||t1(t)||i1(t)||n1(t)||/windows phone/i.test(t)||e1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(t,e=[]){let n;switch(t){case"Browser":n=ZS(dn());break;case"Worker":n=`${ZS(dn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Jo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x4(t,e={}){return Yi(t,"GET","/v2/passwordPolicy",$i(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4=6;class D4{constructor(e){var n,r,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:I4,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,a,l,c,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(r=m.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(f=m.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),m}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new JS(this),this.idTokenSubscription=new JS(this),this.beforeStateQueue=new C4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ar(n)),this._initializationPromise=this.queue(async()=>{var r,a;if(!this._deleted&&(this.persistenceManager=await Lo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await YR(this,{idToken:e}),r=await Sr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Mi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Df(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=c4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mi(this.app))return Promise.reject(Cr(this));const n=e?Pt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mi(this.app)?Promise.reject(Cr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mi(this.app)?Promise.reject(Cr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await x4(this),n=new D4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await b4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ar(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await Lo.create(this,[Ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,r,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=s1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&l4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ka(t){return Pt(t)}class JS{constructor(e){this.auth=e,this.observer=null,this.addObserver=pD(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ud={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function V4(t){ud=t}function a1(t){return ud.loadJS(t)}function O4(){return ud.recaptchaEnterpriseScript}function N4(){return ud.gapiScript}function M4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class k4{constructor(){this.enterprise=new L4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class L4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const U4="recaptcha-enterprise",o1="NO_RECAPTCHA";class j4{constructor(e){this.type=U4,this.auth=ka(e)}async verify(e="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{g4(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new p4(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;YS(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(o1)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new k4().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(f=>{if(!n&&YS(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=O4();m.length!==0&&(m+=f),a1(m).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function eA(t,e,n,r=!1,a=!1){const l=new j4(t);let c;if(a)c=o1;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const f=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Pg(t,e,n,r,a){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await eA(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await eA(t,e,n,n==="getOobCode");return r(t,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(t,e){const n=Fg(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(uf(l,e??{}))return a;yi(a,"already-initialized")}return n.initialize({options:e})}function z4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ar);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function F4(t,e,n){const r=ka(t);be(r._canInitEmulator,r,"emulator-config-failed"),be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=l1(e),{host:c,port:f}=q4(e),m=f===null?"":`:${f}`;r.config.emulator={url:`${l}//${c}${m}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})}),H4()}function l1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function q4(t){const e=l1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:tA(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:tA(c)}}}function tA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function H4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Tr("not implemented")}_getIdTokenResponse(e){return Tr("not implemented")}_linkToIdToken(e,n){return Tr("not implemented")}_getReauthenticationResolver(e){return Tr("not implemented")}}async function G4(t,e){return Yi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K4(t,e){return cc(t,"POST","/v1/accounts:signInWithPassword",$i(t,e))}async function $4(t,e){return Yi(t,"POST","/v1/accounts:sendOobCode",$i(t,e))}async function Y4(t,e){return $4(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q4(t,e){return cc(t,"POST","/v1/accounts:signInWithEmailLink",$i(t,e))}async function X4(t,e){return cc(t,"POST","/v1/accounts:signInWithEmailLink",$i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu extends av{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Yu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Yu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pg(e,n,"signInWithPassword",K4);case"emailLink":return Q4(e,{email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pg(e,r,"signUpPassword",G4);case"emailLink":return X4(e,{idToken:n,email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(t,e){return cc(t,"POST","/v1/accounts:signInWithIdp",$i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4="http://localhost";class Ia extends av{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=n,l=tv(n,["providerId","signInMethod"]);if(!r||!a)return null;const c=new Ia(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Uo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Uo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Uo(e,n)}buildRequest(){const e={requestUri:W4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ju(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function J4(t){const e=pu(gu(t)).link,n=e?pu(gu(e)).deep_link_id:null,r=pu(gu(t)).deep_link_id;return(r?pu(gu(r)).link:null)||r||n||e||t}class ov{constructor(e){var n,r,a,l,c,f;const m=pu(gu(e)),p=(n=m.apiKey)!==null&&n!==void 0?n:null,y=(r=m.oobCode)!==null&&r!==void 0?r:null,_=Z4((a=m.mode)!==null&&a!==void 0?a:null);be(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(f=m.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const n=J4(e);try{return new ov(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(){this.providerId=al.PROVIDER_ID}static credential(e,n){return Yu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ov.parseLink(n);return be(r,"argument-error"),Yu._fromEmailAndCode(e,r.code,r.tenantId)}}al.PROVIDER_ID="password";al.EMAIL_PASSWORD_SIGN_IN_METHOD="password";al.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends u1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends hc{constructor(){super("facebook.com")}static credential(e){return Ia._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";vs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends hc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ia._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return _s.credential(n,r)}catch{return null}}}_s.GOOGLE_SIGN_IN_METHOD="google.com";_s.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends hc{constructor(){super("github.com")}static credential(e){return Ia._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.GITHUB_SIGN_IN_METHOD="github.com";Es.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends hc{constructor(){super("twitter.com")}static credential(e,n){return Ia._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ts.credential(n,r)}catch{return null}}}Ts.TWITTER_SIGN_IN_METHOD="twitter.com";Ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eU(t,e){return cc(t,"POST","/v1/accounts:signUp",$i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const l=await Sr._fromIdTokenResponse(e,r,a),c=nA(r);return new Da({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=nA(r);return new Da({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function nA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf extends Or{constructor(e,n,r,a){var l;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Pf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new Pf(e,n,r,a)}}function c1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Pf._fromErrorAndOperation(t,l,e,r):l})}async function tU(t,e,n=!1){const r=await $u(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Da._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nU(t,e,n=!1){const{auth:r}=t;if(Mi(r.app))return Promise.reject(Cr(r));const a="reauthenticate";try{const l=await $u(t,c1(r,a,e,t),n);be(l.idToken,r,"internal-error");const c=rv(l.idToken);be(c,r,"internal-error");const{sub:f}=c;return be(t.uid===f,r,"user-mismatch"),Da._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&yi(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h1(t,e,n=!1){if(Mi(t.app))return Promise.reject(Cr(t));const r="signIn",a=await c1(t,r,e),l=await Da._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(l.user),l}async function iU(t,e){return h1(ka(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f1(t){const e=ka(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function rU(t,e,n){if(Mi(t.app))return Promise.reject(Cr(t));const r=ka(t),c=await Pg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eU).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&f1(t),m}),f=await Da._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(f.user),f}function sU(t,e,n){return Mi(t.app)?Promise.reject(Cr(t)):iU(Pt(t),al.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&f1(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aU(t,e){return Yi(t,"POST","/v1/accounts:createAuthUri",$i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d1(t,e){const n=HR()?If():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:a}=await aU(Pt(t),r);return a||[]}async function m1(t,e){const n=Pt(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:l}=await Y4(n.auth,a);l!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(t,e){return Pt(t).setPersistence(e)}function lU(t,e,n,r){return Pt(t).onIdTokenChanged(e,n,r)}function uU(t,e,n){return Pt(t).beforeAuthStateChanged(e,n)}function cU(t){return Pt(t).signOut()}const Vf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vf,"1"),this.storage.removeItem(Vf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU=1e3,fU=10;class g1 extends p1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=r1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);R4()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,fU):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},hU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}g1.type="LOCAL";const y1=g1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1 extends p1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}v1.type="SESSION";const _1=v1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new cd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),m=await dU(f);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=lv("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(_){const S=_;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(S.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(){return window}function pU(t){zi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function gU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function vU(){return E1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="firebaseLocalStorageDb",_U=1,Of="firebaseLocalStorage",S1="fbase_key";class fc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hd(t,e){return t.transaction([Of],e?"readwrite":"readonly").objectStore(Of)}function EU(){const t=indexedDB.deleteDatabase(T1);return new fc(t).toPromise()}function Vg(){const t=indexedDB.open(T1,_U);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Of,{keyPath:S1})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Of)?e(r):(r.close(),await EU(),e(await Vg()))})})}async function iA(t,e,n){const r=hd(t,!0).put({[S1]:e,value:n});return new fc(r).toPromise()}async function TU(t,e){const n=hd(t,!1).get(e),r=await new fc(n).toPromise();return r===void 0?null:r.value}function rA(t,e){const n=hd(t,!0).delete(e);return new fc(n).toPromise()}const SU=800,AU=3;class A1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>AU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return E1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cd._getInstance(vU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await gU(),!this.activeServiceWorker)return;this.sender=new mU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vg();return await iA(e,Vf,"1"),await rA(e,Vf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>iA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>TU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>rA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=hd(a,!1).getAll();return new fc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}A1.type="LOCAL";const bU=A1;new uc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wU(t,e){return e?Ar(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv extends av{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function RU(t){return h1(t.auth,new uv(t),t.bypassAuthState)}function CU(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),nU(n,new uv(t),t.bypassAuthState)}async function xU(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),tU(n,new uv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RU;case"linkViaPopup":case"linkViaRedirect":return xU;case"reauthViaPopup":case"reauthViaRedirect":return CU;default:yi(this.auth,"internal-error")}}resolve(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU=new uc(2e3,1e4);class No extends b1{constructor(e,n,r,a,l){super(e,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,No.currentPopupAction&&No.currentPopupAction.cancel(),No.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Vr(this.filter.length===1,"Popup operations only handle one event");const e=lv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,No.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IU.get())};e()}}No.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU="pendingRedirect",rf=new Map;class PU extends b1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=rf.get(this.auth._key());if(!e){try{const r=await VU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}rf.set(this.auth._key(),e)}return this.bypassAuthState||rf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VU(t,e){const n=MU(e),r=NU(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function OU(t,e){rf.set(t._key(),e)}function NU(t){return Ar(t._redirectPersistence)}function MU(t){return nf(DU,t.config.apiKey,t.name)}async function kU(t,e,n=!1){if(Mi(t.app))return Promise.reject(Cr(t));const r=ka(t),a=wU(r,e),c=await new PU(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU=10*60*1e3;class UU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!w1(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Bi(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LU&&this.cachedEventUids.clear(),this.cachedEventUids.has(sA(e))}saveEventToCache(e){this.cachedEventUids.add(sA(e)),this.lastProcessedEventTime=Date.now()}}function sA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function w1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return w1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BU(t,e={}){return Yi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FU=/^https?/;async function qU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await BU(t);for(const n of e)try{if(HU(n))return}catch{}yi(t,"unauthorized-domain")}function HU(t){const e=If(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!FU.test(n))return!1;if(zU.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU=new uc(3e4,6e4);function aA(){const t=zi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function KU(t){return new Promise((e,n)=>{var r,a,l;function c(){aA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aA(),n(Bi(t,"network-request-failed"))},timeout:GU.get()})}if(!((a=(r=zi().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=zi().gapi)===null||l===void 0)&&l.load)c();else{const f=M4("iframefcb");return zi()[f]=()=>{gapi.load?c():n(Bi(t,"network-request-failed"))},a1(`${N4()}?onload=${f}`).catch(m=>n(m))}}).catch(e=>{throw sf=null,e})}let sf=null;function $U(t){return sf=sf||KU(t),sf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU=new uc(5e3,15e3),QU="__/auth/iframe",XU="emulator/auth/iframe",WU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JU(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?iv(e,XU):`https://${t.config.authDomain}/${QU}`,r={apiKey:e.apiKey,appName:t.name,v:Jo},a=ZU.get(t.config.apiHost);a&&(r.eid=a);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${Ju(r).slice(1)}`}async function e9(t){const e=await $U(t),n=zi().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:JU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WU,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=Bi(t,"network-request-failed"),f=zi().setTimeout(()=>{l(c)},YU.get());function m(){zi().clearTimeout(f),a(r)}r.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},n9=500,i9=600,r9="_blank",s9="http://localhost";class oA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function a9(t,e,n,r=n9,a=i9){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const m=Object.assign(Object.assign({},t9),{width:r.toString(),height:a.toString(),top:l,left:c}),p=dn().toLowerCase();n&&(f=JR(p)?r9:n),WR(p)&&(e=e||s9,m.scrollbars="yes");const y=Object.entries(m).reduce((S,[A,x])=>`${S}${A}=${x},`,"");if(w4(p)&&f!=="_self")return o9(e||"",f),new oA(null);const _=window.open(e||"",f,y);be(_,t,"popup-blocked");try{_.focus()}catch{}return new oA(_)}function o9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9="__/auth/handler",u9="emulator/auth/handler",c9=encodeURIComponent("fac");async function lA(t,e,n,r,a,l){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Jo,eventId:a};if(e instanceof u1){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",mD(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof hc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await t._getAppCheckToken(),p=m?`#${c9}=${encodeURIComponent(m)}`:"";return`${h9(t)}?${Ju(f).slice(1)}${p}`}function h9({config:t}){return t.emulator?iv(t,u9):`https://${t.authDomain}/${l9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="webStorageSupport";class f9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_1,this._completeRedirectFn=kU,this._overrideRedirectResult=OU}async _openPopup(e,n,r,a){var l;Vr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await lA(e,n,r,If(),a);return a9(e,c,lv())}async _openRedirect(e,n,r,a){await this._originValidation(e);const l=await lA(e,n,r,If(),a);return pU(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Vr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await e9(e),r=new UU(e);return n.register("authEvent",a=>(be(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Fp,{type:Fp},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Fp];c!==void 0&&n(!!c),yi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return r1()||ZR()||sv()}}const d9=f9;var uA="@firebase/auth",cA="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function g9(t){Bo(new Ca("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;be(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:s1(t)},p=new P4(r,a,l,m);return z4(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Bo(new Ca("auth-internal",e=>{const n=ka(e.getProvider("auth").getImmediate());return(r=>new m9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ws(uA,cA,p9(t)),ws(uA,cA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9=5*60,v9=MA("authIdTokenMaxAge")||y9;let hA=null;const _9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>v9)return;const a=n==null?void 0:n.token;hA!==a&&(hA=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function E9(t=jA()){const e=Fg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=B4(t,{popupRedirectResolver:d9,persistence:[bU,y1,_1]}),r=MA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=_9(l.toString());uU(n,c,()=>c(n.currentUser)),lU(n,f=>c(f))}}const a=OA("auth");return a&&F4(n,`http://${a}`),n}function T9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}V4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const l=Bi("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",T9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});g9("Browser");const S9={apiKey:"AIzaSyAyqOcSa6dwY5KxWaqIReM0GxV6a9Tp8n0",authDomain:"mindsync-765.firebaseapp.com",projectId:"mindsync-765",storageBucket:"mindsync-765.firebasestorage.app",messagingSenderId:"53152162785",appId:"1:53152162785:web:244ae2b304e452048768a0"},R1=UA(S9),at=E9(R1);oU(at,y1);const gi=hy(R1),A9="AIzaSyATfgOajp7udeU5wO6kEUpvqwJz9iRrNTQ",b9="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-lite-preview-02-05:generateContent";async function fA(t){try{const e=await fetch(`${b9}?key=${A9}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:t.trim()}]}]})});if(!e.ok)throw new Error("Failed to fetch Gemini API");return(await e.json()).candidates[0].content.parts[0].text.trim()}catch(e){throw console.error("Error fetching suggestions from Gemini:",e),e}}function w9(){const t=js(),[e,n]=B.useState(""),[r,a]=B.useState(""),[l,c]=B.useState(!0),[f,m]=B.useState(""),[p,y]=B.useState(!1),[_,S]=B.useState(""),[A,x]=B.useState(""),[k,O]=B.useState([]),[L,K]=B.useState(null),H=B.useRef(new Set);B.useEffect(()=>{const P=at.onAuthStateChanged(async I=>{if(I){K(I);const Te=si(gi,"users",I.uid),pe=await rc(Te);if(pe.exists()){const se=pe.data();a(se.firstName)}c(!1)}else t("/signin")});return()=>P()},[t]),B.useEffect(()=>{let P;if(L){const I=I0(gi,`users/${L.uid}/tasks`);P=DO(I,async Te=>{const pe=Te.docs.map(ye=>{const M={id:ye.id,...ye.data()};return M.deadline&&M.deadline.seconds?M.deadline=new Date(M.deadline.seconds*1e3):M.deadline=null,M}),se=new Date,ue=pe.map(async ye=>{if(ye.deadline&&!isNaN(ye.deadline)){if(ye.deadline<se&&ye.status!=="completed"){const M=si(gi,`users/${L.uid}/tasks`,ye.id);return await Tf(M,{status:"overdue"}),{...ye,status:"overdue"}}}else ye.deadline=null;return ye}),le=await Promise.all(ue);O(le),ae(le)})}return()=>{P&&P()}},[L]),B.useEffect(()=>{k.forEach(P=>{if(P.deadline&&P.status!=="completed"&&!H.current.has(P.id)){const I=new Date(P.deadline).getTime();if(isNaN(I)){console.error(`Task ${P.id} has an invalid deadline.`);return}j(P),H.current.add(P.id)}})},[k]);const ae=async P=>{const I=P.map(pe=>({task:pe.task,deadline:pe.deadline?pe.deadline.toLocaleString():"",status:pe.status}));x("Loading...");const Te=`
      You are an AI assistant analyzing a user's task patterns. Provide **concise, personalized feedback** to improve productivity based on their task history.

      - **Tasks**: ${JSON.stringify(I)}

      **Analyze these patterns:**
      - Are task start and completion times consistent?
      - Are there frequent delays or signs of procrastination?
      - How does actual task duration compare to the estimated time?

      **Based on these insights, provide one clear, actionable suggestion** to improve productivity.

      **Return ONLY the feedback in this exact format:**
      Suggestion: (One concise, personalized improvement)
    `;try{const pe=await fA(Te);x(pe)}catch(pe){x("Error fetching from Gemini:",pe)}},X=async()=>{if(!_.trim()||!e.trim())return;const P=k.map(pe=>({startedAt:pe.startedAt?pe.startedAt.toLocaleString():"",completedAt:pe.completedAt?pe.completedAt.toLocaleString():""})),I=new Date().toLocaleDateString("en-US",{year:"2-digit",month:"2-digit",day:"2-digit"}),Te=`
      You are an AI task assistant. Provide a **concise, personalized schedule** for the task below, factoring in the user's task habits (start and completion times).

      - **Task**: "${_}"
      - **Deadline**: "${e}"
      - **Previous Task Start and Completion Times**: ${JSON.stringify(P)}
      - **Today's Date**: ${I} (Do NOT suggest any start date before this)

      **Rules for scheduling**:
      - The start time **MUST be today (${I}) or later**never in the past.
      - If the deadline is too close, suggest the **earliest possible start time**.
      - Use a **realistic time range** based on previous task patterns.

      **Return ONLY the schedule in this exact format, with no extra text:**

      Start: MM-DD-YY hh:mm AM/PM - hh:mm AM/PM (must be today or later)
      Steps: (Provide 5 concise, action-oriented steps)
      Note: (Two short, practical suggestion)
    `;try{const pe=await fA(Te);m(pe)}catch{m("Sorry, I couldn't generate a schedule suggestion. Please try again.")}},ie=async()=>{try{if(L){const P=new Date(e);if(isNaN(P)){console.error("Invalid deadline format");return}const I={task:_,deadline:P,scheduleSuggestion:f,status:"scheduled",createdAt:new Date};await IO(I0(gi,`users/${L.uid}/tasks`),I),S(""),n(""),m(""),y(!1)}}catch(P){console.error("Error scheduling task:",P)}},N=k.filter(P=>P.status==="scheduled"),R=k.filter(P=>P.status==="started"),w=k.filter(P=>P.status==="completed"),D=k.filter(P=>P.status==="overdue"),j=async P=>{const Te=new Date,pe=new Date(P.deadline);if(isNaN(pe.getTime())){console.error(`Invalid deadline for task ${P.id}`);return}let se=new Date(pe.getTime()-30*60*1e3);se<Te&&(se=new Date(Te.getTime()+1e3));try{await qp.schedule({notifications:[{title:"Task Deadline Approaching",body:`Your task "${P.task}" is due at ${pe.toLocaleTimeString()}.`,id:Number(P.id.slice(0,8),16)||Math.floor(Math.random()*1e4),schedule:{at:se},extra:{taskId:P.id}}]})}catch(ue){console.error("Error scheduling local notification:",ue)}};return l?U.jsx("div",{className:"flex min-h-screen items-center justify-center",style:{background:"var(--md-sys-color-background)",color:"var(--md-sys-color-primary)"},children:U.jsx("p",{children:"Loading..."})}):U.jsx("div",{className:"flex min-h-screen justify-center",style:{background:"var(--md-sys-color-background)"},children:U.jsxs(Tt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex w-full flex-col p-4",children:[U.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[U.jsxs("p",{className:"text-3xl",style:{color:"var(--md-sys-color-primary)"},children:["Welcome, ",r]}),U.jsx("button",{className:"rounded-full px-4 py-2",onClick:()=>{t("/profile")},style:{background:"var(--md-sys-color-secondary-container)",color:"var(--md-sys-color-on-secondary-container)"},children:U.jsx("div",{className:"h-5 w-5",children:U.jsx(BR,{})})})]}),A&&U.jsx(Tt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"mb-4 rounded-3xl p-4 whitespace-pre-wrap",style:{background:"var(--md-sys-color-primary-container)",color:"var(--md-sys-color-on-primary-container)"},children:U.jsx("p",{children:A})},"taskSuggestion"),U.jsx(xu,{children:p&&U.jsxs(Tt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"mb-4 rounded-3xl p-4",style:{background:"var(--md-sys-color-surface-container)",color:"var(--md-sys-color-on-surface)"},children:[U.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[U.jsx("p",{className:"text-lg",children:"What task do you want to schedule or do?"}),U.jsx("button",{className:"h-5 w-5",onClick:()=>{y(!1),m(""),S(""),n("")},children:U.jsx(r4,{})})]}),U.jsxs("div",{className:"flex flex-col gap-4",children:[U.jsx("input",{className:"rounded-lg p-4",onChange:P=>S(P.target.value),placeholder:"Enter your task",style:{color:"var(--md-sys-color-on-surface)",outline:"2px solid var(--md-sys-color-outline)"},type:"text",value:_}),U.jsxs("div",{className:"flex items-center gap-4",children:[U.jsx("p",{children:"Select deadline:"}),U.jsx("input",{className:"flex-grow rounded-xl p-2",onChange:P=>n(P.target.value),style:{color:"var(--md-sys-color-on-surface)",colorScheme:"dark",outline:"2px solid var(--md-sys-color-outline)"},type:"datetime-local",value:e})]}),U.jsx("button",{className:"rounded-full p-4",onClick:X,style:{background:"var(--md-sys-color-primary)",color:"var(--md-sys-color-on-primary)"},children:"Get Schedule Suggestion"})]})]},"showTaskForm")}),U.jsx(xu,{children:f&&U.jsxs(Tt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"mb-4 rounded-3xl p-4 whitespace-pre-wrap",style:{background:"var(--md-sys-color-tertiary-container)",color:"var(--md-sys-color-on-tertiary-container)"},children:[U.jsx("p",{children:f}),U.jsxs("div",{className:"mt-4 flex gap-4",children:[U.jsx("button",{onClick:ie,className:"rounded-full px-4 py-2",style:{background:"var(--md-sys-color-tertiary)",color:"var(--md-sys-color-on-tertiary)"},children:"Accept"}),U.jsx("button",{className:"rounded-full px-4 py-2",onClick:()=>{m("")},style:{background:"var(--md-sys-color-error)",color:"var(--md-sys-color-on-error)"},children:"Cancel"})]})]},"scheduleSuggestion")}),(N.length>0||R.length>0||w.length>0||D.length>0)&&U.jsx(Tt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:D.length>0&&U.jsxs(U.Fragment,{children:[U.jsx("p",{className:"mb-1 text-2xl font-bold",style:{color:"var(--md-sys-color-on-surface)"},children:"Overdue"}),U.jsx("div",{className:"mb-4 columns-2 space-y-4",children:D.map(P=>U.jsxs("div",{className:"break-inside-avoid space-y-2 rounded-3xl p-4 whitespace-pre-wrap",onClick:()=>t(`/taskdetails/${P.id}`),style:{background:"var(--md-sys-color-error)",color:"var(--md-sys-color-on-error)"},children:[U.jsxs("p",{children:[U.jsx("strong",{children:"Task: "}),P.task]}),U.jsxs("p",{children:[U.jsx("strong",{children:"Deadline: "}),P.deadline.toLocaleString()]}),U.jsxs("p",{children:[U.jsx("strong",{children:"Status: "}),P.status]})]},P.id))})]})}),R.length>0&&U.jsxs(U.Fragment,{children:[U.jsx("p",{className:"mb-1 text-2xl font-bold",style:{color:"var(--md-sys-color-on-surface)"},children:"Started"}),U.jsx("div",{className:"mb-4 columns-2 space-y-4",children:R.map(P=>U.jsxs("div",{className:"break-inside-avoid space-y-2 rounded-3xl p-4 whitespace-pre-wrap",onClick:()=>t(`/taskdetails/${P.id}`),style:{background:"var(--md-sys-color-primary)",color:"var(--md-sys-color-on-primary)"},children:[U.jsxs("p",{children:[U.jsx("strong",{children:"Task: "}),P.task]}),U.jsxs("p",{children:[U.jsx("strong",{children:"Deadline: "}),P.deadline.toLocaleString()]}),U.jsxs("p",{children:[U.jsx("strong",{children:"Status: "}),P.status]})]},P.id))})]}),N.length>0&&U.jsxs(U.Fragment,{children:[U.jsx("p",{className:"mb-1 text-2xl font-bold",style:{color:"var(--md-sys-color-on-surface)"},children:"Scheduled"}),U.jsx("div",{className:"mb-4 columns-2 space-y-4",children:N.map(P=>U.jsxs("div",{className:"break-inside-avoid space-y-2 rounded-3xl p-4 whitespace-pre-wrap",onClick:()=>t(`/taskdetails/${P.id}`),style:{background:"var(--md-sys-color-secondary-container)",color:"var(--md-sys-color-on-secondary-container)"},children:[U.jsxs("p",{children:[U.jsx("strong",{children:"Task: "}),P.task]}),U.jsxs("p",{children:[U.jsx("strong",{children:"Deadline: "}),P.deadline.toLocaleString()]}),U.jsxs("p",{children:[U.jsx("strong",{children:"Status: "}),P.status]})]},P.id))})]}),w.length>0&&U.jsxs(U.Fragment,{children:[U.jsx("p",{className:"mb-1 text-2xl font-bold",style:{color:"var(--md-sys-color-on-surface)"},children:"Completed"}),U.jsx("div",{className:"columns-2 space-y-4",children:w.map(P=>U.jsxs("div",{className:"break-inside-avoid space-y-2 rounded-3xl p-4 whitespace-pre-wrap",onClick:()=>t(`/taskdetails/${P.id}`),style:{background:"var(--md-sys-color-surface-container)",color:"var(--md-sys-color-outline)"},children:[U.jsxs("p",{children:[U.jsx("strong",{children:"Task: "}),P.task]}),U.jsxs("p",{children:[U.jsx("strong",{children:"Deadline: "}),P.deadline.toLocaleString()]}),U.jsxs("p",{children:[U.jsx("strong",{children:"Status: "}),P.status]})]},P.id))})]}),U.jsx(xu,{children:!p&&U.jsx(Tt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed right-8 bottom-8",children:U.jsx("button",{className:"rounded-2xl p-4",onClick:()=>y(!0),style:{background:"var(--md-sys-color-primary)",color:"var(--md-sys-color-on-primary)"},children:U.jsx("div",{className:"h-8 w-8",children:U.jsx(i4,{})})})},"fab")})]})})}const R9="1.0.2-alpha";function C9(){const t=Us.c(9),e=js(),[n,r]=B.useState(!0);let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=hy(),t[0]=a):a=t[0];const l=a;let c,f;t[1]!==e?(c=()=>{(async()=>{try{const S=await rc(si(l,"config","appVersion"));if(S.exists()&&S.data().version!==R9){e("/update");return}}catch(S){console.error("Error checking app version:",S)}r(!1)})()},f=[e,l],t[1]=e,t[2]=c,t[3]=f):(c=t[2],f=t[3]),B.useEffect(c,f);let m,p;t[4]!==n||t[5]!==e?(m=()=>{if(n)return;const _=at.onAuthStateChanged(S=>{e(S?"/home":"/signin")});return()=>_()},p=[e,n],t[4]=n,t[5]=e,t[6]=m,t[7]=p):(m=t[6],p=t[7]),B.useEffect(m,p);let y;return t[8]===Symbol.for("react.memo_cache_sentinel")?(y=U.jsx("div",{className:"flex min-h-screen items-center justify-center",style:{background:"var(--md-sys-color-background)",color:"var(--md-sys-color-primary)"},children:U.jsx("p",{children:"Loading..."})}),t[8]=y):y=t[8],y}const C1=()=>{const t=Us.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=U.jsx(U.Fragment,{children:U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})})}),t[0]=e):e=t[0],e};function x9(){const t=Us.c(43),e=js(),[n,r]=B.useState(""),[a,l]=B.useState(""),[c,f]=B.useState(""),[m,p]=B.useState(!1),[y,_]=B.useState(!0);let S,A;t[0]!==e?(S=()=>{const M=at.onAuthStateChanged(async te=>{if(te){const de=si(gi,"users",te.uid),he=await rc(de);if(he.exists()){const ce=he.data();r(ce.firstName||"N/A"),l(ce.lastName||"N/A"),f(te.email||"N/A")}else console.error("User document does not exist in Firestore.");_(!1)}else e("/signin")});return()=>M()},A=[e],t[0]=e,t[1]=S,t[2]=A):(S=t[1],A=t[2]),B.useEffect(S,A);let x;t[3]!==n||t[4]!==a?(x=async()=>{try{const M=at.currentUser;if(M){const te=si(gi,"users",M.uid);await Tf(te,{firstName:n,lastName:a}),p(!1)}}catch(M){console.error("Error updating profile:",M)}},t[3]=n,t[4]=a,t[5]=x):x=t[5];const k=x;let O;t[6]!==e?(O=async()=>{try{await cU(at),e("/signin")}catch(M){console.error("Error signing out:",M)}},t[6]=e,t[7]=O):O=t[7];const L=O;if(y){let M;return t[8]===Symbol.for("react.memo_cache_sentinel")?(M=U.jsx("div",{className:"flex min-h-screen items-center justify-center",style:{background:"var(--md-sys-color-background)",color:"var(--md-sys-color-primary)"},children:U.jsx("p",{children:"Loading..."})}),t[8]=M):M=t[8],M}let K;t[9]===Symbol.for("react.memo_cache_sentinel")?(K={background:"var(--md-sys-color-background)"},t[9]=K):K=t[9];let H,ae;t[10]===Symbol.for("react.memo_cache_sentinel")?(H={opacity:0,scale:.9},ae={opacity:1,scale:1},t[10]=H,t[11]=ae):(H=t[10],ae=t[11]);let X;t[12]!==e?(X=()=>e("/home"),t[12]=e,t[13]=X):X=t[13];let ie;t[14]===Symbol.for("react.memo_cache_sentinel")?(ie={background:"var(--md-sys-color-primary)",color:"var(--md-sys-color-on-primary)"},t[14]=ie):ie=t[14];let N;t[15]===Symbol.for("react.memo_cache_sentinel")?(N=U.jsx("div",{className:"h-5 w-5",children:U.jsx(C1,{})}),t[15]=N):N=t[15];let R;t[16]!==X?(R=U.jsx("div",{className:"mb-4",children:U.jsx("button",{className:"rounded-full px-4 py-2",onClick:X,style:ie,children:N})}),t[16]=X,t[17]=R):R=t[17];let w;t[18]===Symbol.for("react.memo_cache_sentinel")?(w={background:"var(--md-sys-color-secondary-container)",color:"var(--md-sys-color-on-secondary-container)"},t[18]=w):w=t[18];let D;t[19]===Symbol.for("react.memo_cache_sentinel")?(D=U.jsx("div",{className:"mb-4 rounded-full p-4",style:w,children:U.jsx("div",{className:"h-32 w-32",children:U.jsx(BR,{})})}),t[19]=D):D=t[19];let j;t[20]!==n||t[21]!==k||t[22]!==m||t[23]!==a?(j=U.jsx(xu,{children:m?U.jsx(Tt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},children:U.jsxs("div",{className:"mb-4 flex flex-col items-center gap-4",children:[U.jsx("input",{className:"w-56 rounded-xl p-2",value:n,onChange:M=>r(M.target.value),placeholder:"First Name",style:{color:"var(--md-sys-color-on-surface)",outline:"2px solid var(--md-sys-color-outline)"}}),U.jsx("input",{className:"w-56 rounded-xl p-2",value:a,onChange:M=>l(M.target.value),placeholder:"Last Name",style:{color:"var(--md-sys-color-on-surface)",outline:"2px solid var(--md-sys-color-outline)"}}),U.jsxs("div",{className:"flex gap-4",children:[U.jsx("button",{onClick:k,className:"rounded-full px-4 py-2",style:{background:"var(--md-sys-color-primary)",color:"var(--md-sys-color-on-primary)"},children:"Save Changes"}),U.jsx("button",{onClick:()=>p(!1),className:"rounded-full px-4 py-2",style:{background:"var(--md-sys-color-error)",color:"var(--md-sys-color-on-error)"},children:"Cancel"})]})]})},"isEditing"):U.jsx(Tt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},children:U.jsxs("p",{className:"text-3xl",style:{color:"var(--md-sys-color-on-surface)"},children:[n," ",a]})},"notEditing")}),t[20]=n,t[21]=k,t[22]=m,t[23]=a,t[24]=j):j=t[24];let P;t[25]===Symbol.for("react.memo_cache_sentinel")?(P={color:"var(--md-sys-color-on-surface-variant)"},t[25]=P):P=t[25];let I;t[26]!==c?(I=U.jsxs("p",{className:"mb-4 text-lg",style:P,children:["Email: ",c]}),t[26]=c,t[27]=I):I=t[27];let Te;t[28]!==m?(Te=!m&&U.jsx("button",{onClick:()=>p(!0),className:"rounded-full px-4 py-2",style:{background:"var(--md-sys-color-secondary-container)",color:"var(--md-sys-color-on-secondary-container)"},children:"Edit Profile"}),t[28]=m,t[29]=Te):Te=t[29];let pe;t[30]===Symbol.for("react.memo_cache_sentinel")?(pe={background:"var(--md-sys-color-error)",color:"var(--md-sys-color-on-error)"},t[30]=pe):pe=t[30];let se;t[31]!==L?(se=U.jsx("button",{onClick:L,className:"rounded-full px-4 py-2",style:pe,children:"Sign Out"}),t[31]=L,t[32]=se):se=t[32];let ue;t[33]!==Te||t[34]!==se?(ue=U.jsxs("div",{className:"flex items-center gap-4",children:[Te,se]}),t[33]=Te,t[34]=se,t[35]=ue):ue=t[35];let le;t[36]!==j||t[37]!==I||t[38]!==ue?(le=U.jsxs("div",{className:"flex flex-col items-center justify-center",children:[D,j,I,ue]}),t[36]=j,t[37]=I,t[38]=ue,t[39]=le):le=t[39];let ye;return t[40]!==R||t[41]!==le?(ye=U.jsx("div",{className:"flex min-h-screen justify-center",style:K,children:U.jsxs(Tt.div,{initial:H,animate:ae,className:"flex w-full flex-col p-4",children:[R,le]})}),t[40]=R,t[41]=le,t[42]=ye):ye=t[42],ye}function I9(){const t=js(),[e,n]=B.useState(""),[r,a]=B.useState(""),[l,c]=B.useState(!1),[f,m]=B.useState(""),[p,y]=B.useState(1),_=async A=>{A.preventDefault(),a(""),c(!0);try{p===1&&(await d1(at,e)).length===0?a("Couldn't find your MindSync account."):y(p+1)}catch(x){a(x.message)}finally{c(!1)}},S=async A=>{A.preventDefault(),a(""),c(!0);try{(await sU(at,e,f)).user.emailVerified?t("/"):t("/verifyemail")}catch(x){a(x.message)}finally{c(!1)}};return U.jsx("div",{className:"flex min-h-screen items-center justify-center",style:{background:"var(--md-sys-color-background)"},children:U.jsxs(Tt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex w-full flex-col p-4",children:[U.jsx("p",{className:"text-2xl",style:{color:"var(--md-sys-color-primary)"},children:"Sign In"}),U.jsx("p",{className:"mb-4 text-base",style:{color:"var(--md-sys-color-outline)"},children:"to continue to MindSync"}),U.jsxs("form",{className:"flex flex-col",onSubmit:p===2?S:_,children:[p===1&&U.jsx(Tt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:U.jsx("input",{className:"mb-4 w-full rounded-xl p-4 outline",onChange:A=>n(A.target.value),placeholder:"Email",required:!0,style:{color:"var(--md-sys-color-on-surface)",outline:"2px solid var(--md-sys-color-outline)"},type:"email",value:e})}),p===2&&U.jsx(Tt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:U.jsx("input",{className:"mb-4 w-full rounded-xl p-4",onChange:A=>m(A.target.value),placeholder:"Password",required:!0,style:{color:"var(--md-sys-color-on-surface)",outline:"2px solid var(--md-sys-color-outline)"},type:"password",value:f})}),r&&U.jsx(Tt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:U.jsx("p",{className:"mb-4",style:{color:"var(--md-sys-color-error)"},children:r})}),U.jsxs("div",{className:"flex items-center",children:[U.jsx(xu,{children:p===1&&U.jsx(Tt.div,{exit:{opacity:0,scale:.9},children:U.jsx(jg,{to:"/signup",style:{color:"var(--md-sys-color-primary)"},children:"Create account"})},"createAccount")}),U.jsx("button",{className:"ml-auto rounded-full px-4 py-2",style:{background:l?"var(--md-sys-color-surface-container)":"var(--md-sys-color-primary)",color:l?"var(--md-sys-color-outline)":"var(--md-sys-color-on-primary)"},type:"submit",children:l?"....":"Next"})]})]})]})})}function D9(){const t=js(),[e,n]=B.useState(""),[r,a]=B.useState(""),[l,c]=B.useState(""),[f,m]=B.useState(""),[p,y]=B.useState(!1),[_,S]=B.useState(""),[A,x]=B.useState(1),k=async L=>{L.preventDefault(),a(""),y(!0);try{A===1&&(await d1(at,e)).length>0?a("This email is already registered."):x(A+1)}catch(K){a(K.message)}finally{y(!1)}},O=async L=>{L.preventDefault(),a(""),y(!0);try{const H=(await rU(at,e,_)).user;await CO(si(gi,"users",H.uid),{email:H.email,firstName:l,lastName:f}),await m1(H),t("/verifyemail")}catch(K){a(K.message)}finally{y(!1)}};return U.jsx("div",{className:"flex min-h-screen items-center justify-center",style:{background:"var(--md-sys-color-background)"},children:U.jsxs(Tt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex w-full flex-col p-4",children:[U.jsx("p",{className:"text-2xl",style:{color:"var(--md-sys-color-primary)"},children:"Create a MindSync account"}),U.jsx("p",{className:"mb-4 text-base",style:{color:"var(--md-sys-color-outline)"},children:A===1?"Enter your email":A===2?"Enter your name":A===3?"Enter your password":""}),U.jsxs("form",{className:"flex flex-col",onSubmit:A===3?O:k,children:[A===1&&U.jsx(Tt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:U.jsx("input",{className:"mb-4 w-full rounded-xl p-4",onChange:L=>n(L.target.value),placeholder:"Email",required:!0,style:{color:"var(--md-sys-color-on-surface)",outline:"2px solid var(--md-sys-color-outline)"},type:"email",value:e})}),A===2&&U.jsxs(Tt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:[U.jsx("input",{className:"mb-4 w-full rounded-xl p-4",onChange:L=>c(L.target.value),placeholder:"First Name",required:!0,style:{color:"var(--md-sys-color-on-surface)",outline:"2px solid var(--md-sys-color-outline)"},type:"text",value:l}),U.jsx("input",{className:"mb-4 w-full rounded-xl p-4",onChange:L=>m(L.target.value),placeholder:"Last Name",required:!0,style:{color:"var(--md-sys-color-on-surface)",outline:"2px solid var(--md-sys-color-outline)"},type:"text",value:f})]}),A===3&&U.jsx(Tt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:U.jsx("input",{className:"mb-4 w-full rounded-xl p-4",onChange:L=>S(L.target.value),placeholder:"Password",required:!0,style:{color:"var(--md-sys-color-on-surface)",outline:"2px solid var(--md-sys-color-outline)"},type:"password",value:_})}),r&&U.jsx(Tt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:U.jsx("p",{className:"mb-4",style:{color:"var(--md-sys-color-error)"},children:r})}),U.jsx("div",{className:"flex",children:U.jsx("button",{className:"ml-auto rounded-full px-4 py-2",style:{background:p?"var(--md-sys-color-surface-container)":"var(--md-sys-color-primary)",color:p?"var(--md-sys-color-outline)":"var(--md-sys-color-on-primary)"},type:"submit",children:p?"....":"Next"})})]})]})})}function P9(){const t=Us.c(81),e=js(),{id:n}=Wx(),[r,a]=B.useState(!0),[l,c]=B.useState(null),[f,m]=B.useState(!1);let p,y;t[0]!==e?(p=()=>{const Je=at.onAuthStateChanged(st=>{st||e("/signin")});return()=>Je()},y=[e],t[0]=e,t[1]=p,t[2]=y):(p=t[1],y=t[2]),B.useEffect(p,y);let _,S;t[3]!==n?(_=()=>{(async()=>{if(!at.currentUser)return;const st=si(gi,`users/${at.currentUser.uid}/tasks`,n),Bn=await rc(st);if(Bn.exists()){const pt=Bn.data();c({id:Bn.id,...pt}),a(!1),pt.status==="started"&&m(!0)}})()},S=[n],t[3]=n,t[4]=_,t[5]=S):(_=t[4],S=t[5]),B.useEffect(_,S);let A;t[6]!==l?(A=async()=>{if(!(!at.currentUser||!l))try{const Je=Rt.now(),st=si(gi,`users/${at.currentUser.uid}/tasks`,l.id);await Tf(st,{status:"started",startedAt:Je}),c(Bn=>({...Bn,status:"started",startedAt:Je})),m(!0)}catch(Je){console.error("Error starting task:",Je)}},t[6]=l,t[7]=A):A=t[7];const x=A;let k;t[8]!==l?(k=async()=>{if(!(!at.currentUser||!l))try{const Je=Rt.now(),st=si(gi,`users/${at.currentUser.uid}/tasks`,l.id);await Tf(st,{status:"completed",completedAt:Je}),c(Bn=>({...Bn,status:"completed",completedAt:Je}))}catch(Je){console.error("Error completing task:",Je)}},t[8]=l,t[9]=k):k=t[9];const O=k;let L;t[10]!==e||t[11]!==l?(L=async()=>{if(!(!at.currentUser||!l))try{const Je=si(gi,`users/${at.currentUser.uid}/tasks`,l.id);await xO(Je),e("/home")}catch(Je){console.error("Error deleting task:",Je)}},t[10]=e,t[11]=l,t[12]=L):L=t[12];const K=L;if(r){let Je;return t[13]===Symbol.for("react.memo_cache_sentinel")?(Je=U.jsx("div",{className:"flex min-h-screen items-center justify-center",style:{background:"var(--md-sys-color-background)",color:"var(--md-sys-color-primary)"},children:U.jsx("p",{children:"Loading..."})}),t[13]=Je):Je=t[13],Je}let H;t[14]===Symbol.for("react.memo_cache_sentinel")?(H={background:"var(--md-sys-color-background)"},t[14]=H):H=t[14];let ae,X;t[15]===Symbol.for("react.memo_cache_sentinel")?(ae={opacity:0,scale:.9},X={opacity:1,scale:1},t[15]=ae,t[16]=X):(ae=t[15],X=t[16]);let ie;t[17]!==e?(ie=()=>e("/home"),t[17]=e,t[18]=ie):ie=t[18];let N;t[19]===Symbol.for("react.memo_cache_sentinel")?(N={background:"var(--md-sys-color-primary)",color:"var(--md-sys-color-on-primary)"},t[19]=N):N=t[19];let R;t[20]===Symbol.for("react.memo_cache_sentinel")?(R=U.jsx("div",{className:"h-5 w-5",children:U.jsx(C1,{})}),t[20]=R):R=t[20];let w;t[21]!==ie?(w=U.jsx("div",{className:"mb-4",children:U.jsx("button",{className:"rounded-full px-4 py-2",onClick:ie,style:N,children:R})}),t[21]=ie,t[22]=w):w=t[22];let D,j,P;t[23]===Symbol.for("react.memo_cache_sentinel")?(D={color:"var(--md-sys-color-on-secondary-container)"},j=U.jsx("h1",{className:"text-2xl font-bold",children:"Task Details"}),P=U.jsx("strong",{children:"Task:"}),t[23]=D,t[24]=j,t[25]=P):(D=t[23],j=t[24],P=t[25]);let I;t[26]!==l.task?(I=U.jsxs("p",{children:[P," ",l.task]}),t[26]=l.task,t[27]=I):I=t[27];let Te;t[28]===Symbol.for("react.memo_cache_sentinel")?(Te=U.jsx("strong",{children:"Deadline:"}),t[28]=Te):Te=t[28];let pe;t[29]!==l.deadline?(pe=l.deadline?new Date(l.deadline.seconds*1e3).toLocaleString():"N/A",t[29]=l.deadline,t[30]=pe):pe=t[30];let se;t[31]!==pe?(se=U.jsxs("p",{children:[Te," ",pe]}),t[31]=pe,t[32]=se):se=t[32];let ue;t[33]===Symbol.for("react.memo_cache_sentinel")?(ue=U.jsx("strong",{children:"Started At:"}),t[33]=ue):ue=t[33];let le;t[34]!==l.startedAt?(le=l.startedAt?new Date(l.startedAt.seconds*1e3).toLocaleString():"Not started",t[34]=l.startedAt,t[35]=le):le=t[35];let ye;t[36]!==le?(ye=U.jsxs("p",{children:[ue," ",le]}),t[36]=le,t[37]=ye):ye=t[37];let M;t[38]===Symbol.for("react.memo_cache_sentinel")?(M=U.jsx("strong",{children:"Completed At:"}),t[38]=M):M=t[38];let te;t[39]!==l.completedAt?(te=l.completedAt?new Date(l.completedAt.seconds*1e3).toLocaleString():"Not completed",t[39]=l.completedAt,t[40]=te):te=t[40];let de;t[41]!==te?(de=U.jsxs("p",{children:[M," ",te]}),t[41]=te,t[42]=de):de=t[42];let he;t[43]===Symbol.for("react.memo_cache_sentinel")?(he=U.jsx("strong",{children:"Status:"}),t[43]=he):he=t[43];let ce;t[44]!==l.status?(ce=U.jsxs("p",{children:[he," ",l.status]}),t[44]=l.status,t[45]=ce):ce=t[45];let Re;t[46]===Symbol.for("react.memo_cache_sentinel")?(Re=U.jsx("strong",{children:"Schedule Suggestion:"}),t[46]=Re):Re=t[46];const Ce=l.scheduleSuggestion||"N/A";let Ze;t[47]!==Ce?(Ze=U.jsxs("p",{children:[Re," ",Ce]}),t[47]=Ce,t[48]=Ze):Ze=t[48];const Me=f||l.status==="completed",tt=f||l.status==="completed"?"var(--md-sys-color-surface-container)":"var(--md-sys-color-primary)",He=f||l.status==="completed"?"var(--md-sys-color-outline)":"var(--md-sys-color-on-primary)";let mt;t[49]!==tt||t[50]!==He?(mt={background:tt,color:He},t[49]=tt,t[50]=He,t[51]=mt):mt=t[51];let tn;t[52]!==x||t[53]!==Me||t[54]!==mt?(tn=U.jsx("button",{onClick:x,disabled:Me,className:"rounded-full px-4 py-2",style:mt,children:"Start Task"}),t[52]=x,t[53]=Me,t[54]=mt,t[55]=tn):tn=t[55];const nn=!f||l.status==="completed",Ln=!f||l.status==="completed"?"var(--md-sys-color-surface-container)":"var(--md-sys-color-primary)",Un=!f||l.status==="completed"?"var(--md-sys-color-outline)":"var(--md-sys-color-on-primary)";let rn;t[56]!==Ln||t[57]!==Un?(rn={background:Ln,color:Un},t[56]=Ln,t[57]=Un,t[58]=rn):rn=t[58];let jn;t[59]!==O||t[60]!==nn||t[61]!==rn?(jn=U.jsx("button",{onClick:O,disabled:nn,className:"rounded-full px-4 py-2",style:rn,children:"Mark as Complete"}),t[59]=O,t[60]=nn,t[61]=rn,t[62]=jn):jn=t[62];let li;t[63]===Symbol.for("react.memo_cache_sentinel")?(li={background:"var(--md-sys-color-error)",color:"var(--md-sys-color-on-error)"},t[63]=li):li=t[63];let Rn;t[64]!==K?(Rn=U.jsx("button",{onClick:K,className:"rounded-full px-4 py-2",style:li,children:"Delete Task"}),t[64]=K,t[65]=Rn):Rn=t[65];let Tn;t[66]!==tn||t[67]!==jn||t[68]!==Rn?(Tn=U.jsxs("div",{className:"flex gap-4",children:[tn,jn,Rn]}),t[66]=tn,t[67]=jn,t[68]=Rn,t[69]=Tn):Tn=t[69];let Cn;t[70]!==I||t[71]!==se||t[72]!==ye||t[73]!==de||t[74]!==ce||t[75]!==Ze||t[76]!==Tn?(Cn=U.jsxs("div",{className:"space-y-4 whitespace-pre-wrap",style:D,children:[j,I,se,ye,de,ce,Ze,Tn]}),t[70]=I,t[71]=se,t[72]=ye,t[73]=de,t[74]=ce,t[75]=Ze,t[76]=Tn,t[77]=Cn):Cn=t[77];let Nr;return t[78]!==w||t[79]!==Cn?(Nr=U.jsx("div",{className:"flex min-h-screen justify-center",style:H,children:U.jsxs(Tt.div,{initial:ae,animate:X,className:"flex w-full flex-col p-4",children:[w,Cn]})}),t[78]=w,t[79]=Cn,t[80]=Nr):Nr=t[80],Nr}const V9=Pa("Browser",{web:()=>Og(()=>import("./web-CoRqH91i.js"),[]).then(t=>new t.BrowserWeb)});function O9(){const[t,e]=B.useState(!0),[n,r]=B.useState(null);B.useEffect(()=>{(async()=>{try{const c=hy(),f=await rc(si(c,"config","appVersion"));f.exists()&&r(f.data().version)}catch(c){console.error("Error fetching version:",c)}finally{e(!1)}})()},[]);const a=async()=>{const l=n;await V9.open({url:`https://github.com/johnpaulpatigas/mindsync/releases/tag/${l}`})};return t?U.jsx("div",{className:"flex min-h-screen items-center justify-center",style:{background:"var(--md-sys-color-background)",color:"var(--md-sys-color-primary)"},children:U.jsx("p",{children:"Loading..."})}):U.jsx("div",{className:"flex min-h-screen flex-col items-center justify-center p-6 text-center",style:{background:"var(--md-sys-color-background)",color:"var(--md-sys-color-primary)"},children:U.jsxs(Tt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:[U.jsx("h1",{className:"mb-4 text-2xl font-bold",children:"An update is available"}),U.jsx("p",{className:"mb-4",children:"Update to the latest version to continue using the app."}),U.jsx("button",{className:"rounded-3xl px-4 py-2",onClick:a,style:{background:"var(--md-sys-color-primary)",color:"var(--md-sys-color-on-primary)"},children:"Update now"})]})})}function N9(){const[t,e]=B.useState(!1),[n,r]=B.useState(""),a=js();B.useEffect(()=>{const c=async()=>{at.currentUser&&(await at.currentUser.reload(),at.currentUser.emailVerified&&a("/"))};c();const f=setInterval(c,5e3);return()=>clearInterval(f)},[a]);const l=async()=>{e(!0),r("");try{at.currentUser?(await m1(at.currentUser),r("Verification email sent! Please check your inbox.")):r("No user is signed in.")}catch(c){r(c.message)}finally{e(!1)}};return U.jsx("div",{className:"flex min-h-screen items-center justify-center p-4 text-center",style:{background:"var(--md-sys-color-background)",color:"var(--md-sys-color-primary)"},children:U.jsxs(Tt.div,{children:[U.jsx("h2",{className:"mb-4 text-2xl font-bold",children:"Verify your email"}),U.jsx("p",{className:"mb-4",children:"A verification email has been sent to your email address. Please check your inbox and click the link to verify your account."}),n&&U.jsx("p",{className:"mb-4",style:{color:"var(--md-sys-color-tertiary)"},children:n}),U.jsx("button",{className:"rounded-full px-4 py-2",disabled:t,onClick:l,style:{background:t?"var(--md-sys-color-surface-container)":"var(--md-sys-color-primary)",color:t?"var(--md-sys-color-outline)":"var(--md-sys-color-on-primary)"},children:t?"Resending...":"Resend verification email"})]})})}function M9(){const t=Us.c(10);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[0]=e):e=t[0],B.useEffect(U9,e);let n;t[1]===Symbol.for("react.memo_cache_sentinel")?(n=[],t[1]=n):n=t[1],B.useEffect(k9,n);let r;t[2]===Symbol.for("react.memo_cache_sentinel")?(r=U.jsx(Er,{path:"/",element:U.jsx(C9,{})}),t[2]=r):r=t[2];let a;t[3]===Symbol.for("react.memo_cache_sentinel")?(a=U.jsx(Er,{path:"/home",element:U.jsx(w9,{})}),t[3]=a):a=t[3];let l;t[4]===Symbol.for("react.memo_cache_sentinel")?(l=U.jsx(Er,{path:"/profile",element:U.jsx(x9,{})}),t[4]=l):l=t[4];let c;t[5]===Symbol.for("react.memo_cache_sentinel")?(c=U.jsx(Er,{path:"/signin",element:U.jsx(I9,{})}),t[5]=c):c=t[5];let f;t[6]===Symbol.for("react.memo_cache_sentinel")?(f=U.jsx(Er,{path:"/signup",element:U.jsx(D9,{})}),t[6]=f):f=t[6];let m;t[7]===Symbol.for("react.memo_cache_sentinel")?(m=U.jsx(Er,{path:"/taskdetails/:id",element:U.jsx(P9,{})}),t[7]=m):m=t[7];let p;t[8]===Symbol.for("react.memo_cache_sentinel")?(p=U.jsx(Er,{path:"/update",element:U.jsx(O9,{})}),t[8]=p):p=t[8];let y;return t[9]===Symbol.for("react.memo_cache_sentinel")?(y=U.jsx(kI,{children:U.jsxs(fI,{children:[r,a,l,c,f,m,p,U.jsx(Er,{path:"/verifyemail",element:U.jsx(N9,{})})]})}),t[9]=y):y=t[9],y}function k9(){L9()}async function L9(){(await qp.checkPermissions()).display!=="granted"&&await qp.requestPermissions()}function U9(){if(af.isNativePlatform()){Tx.setBackgroundColor({color:"#101418"}),xT.setBackgroundColor({color:"#101418"}),xT.setStyle({style:Hp.Dark});const t=mA.addListener("backButton",j9);return()=>{t.remove()}}}function j9(t){const{canGoBack:e}=t;e?window.history.back():mA.exitApp()}ox.createRoot(document.getElementById("root")).render(U.jsx(B.StrictMode,{children:U.jsx(M9,{})}));export{dA as W};
